<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSP désactivée pour développement local -->
    <title>Codentis - Experts IT & Stratégiques</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            overflow-x: hidden;
            width: 100%;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #1a0f0a;
            color: #f5f5f7;
            min-height: 100vh;
            line-height: 1.6;
            transition: padding-left 0.3s ease, background 0.5s ease;
            padding-left: 70px;
        }
        
        body.welcome-mode {
            background: #000000;
        }

        body.welcome-mode::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(ellipse 50% 120% at 30% 0%,
                    rgba(255, 127, 92, 0.35) 0%,
                    rgba(255, 127, 92, 0.15) 30%,
                    rgba(255, 127, 92, 0.05) 50%,
                    transparent 70%),
                radial-gradient(ellipse 50% 120% at 70% 0%,
                    rgba(245, 245, 247, 0.3) 0%,
                    rgba(245, 245, 247, 0.12) 30%,
                    rgba(245, 245, 247, 0.04) 50%,
                    transparent 70%);
            pointer-events: none;
            z-index: 0;
        }

        body.welcome-mode::after {
            display: none;
        }

        body.has-mini-sidebar {
            padding-left: 70px;
        }
        
        /* Compenser le décalage de la mini-sidebar pour centrer les contenus */
        body.has-mini-sidebar .main-container,
        body.has-mini-sidebar .work-in-progress {
            margin-left: -35px;
        }

        /* Backgrounds */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 20%, rgba(75, 62, 51, 0.08) 0%, rgba(75, 62, 51, 0.03) 30%, transparent 70%),
                radial-gradient(circle at 80% 80%, rgba(255, 127, 92, 0.05) 0%, rgba(255, 127, 92, 0.02) 30%, transparent 70%),
                radial-gradient(circle at 40% 70%, rgba(139, 111, 71, 0.06) 0%, rgba(139, 111, 71, 0.02) 30%, transparent 70%),
                radial-gradient(circle at 60% 30%, rgba(255, 127, 92, 0.04) 0%, rgba(255, 127, 92, 0.01) 30%, transparent 70%);
            z-index: -2;
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(90deg, rgba(245, 245, 247, 0.02) 1px, transparent 1px),
                linear-gradient(rgba(245, 245, 247, 0.02) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: -1;
            animation: grid-move 20s linear infinite;
        }

        @keyframes grid-move {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        body.theme-gov {
            background: #cbc7be;
            color: #2a1810;
        }

        body.theme-gov::before {
            background: transparent;
        }
        
        body.theme-gov::after {
            background-image: 
                linear-gradient(90deg, rgba(100, 80, 70, 0.05) 1px, transparent 1px),
                linear-gradient(rgba(100, 80, 70, 0.05) 1px, transparent 1px);
        }

        /* Circuits V15 - Plus nombreux mais subtils */
        .tech-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .circuit-lines {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .circuit-line {
            position: absolute;
            opacity: 0.25;
        }

        /* Horizontales */
        .circuit-line:nth-child(1) {
            top: 8%;
            left: 0;
            width: 250px;
            height: 1px;
            background: linear-gradient(90deg, transparent, #FF7F5C, transparent);
            animation: pulse 4.5s ease-in-out infinite;
        }

        .circuit-line:nth-child(2) {
            top: 22%;
            right: 10%;
            width: 180px;
            height: 1px;
            background: linear-gradient(90deg, transparent, #FF7F5C, transparent);
            animation: pulse 5.2s ease-in-out infinite 1.5s;
        }

        .circuit-line:nth-child(3) {
            top: 38%;
            left: 15%;
            width: 220px;
            height: 1px;
            background: linear-gradient(90deg, transparent, #FF7F5C, transparent);
            animation: pulse 4.8s ease-in-out infinite 2.8s;
        }

        .circuit-line:nth-child(4) {
            top: 52%;
            right: 5%;
            width: 200px;
            height: 1px;
            background: linear-gradient(90deg, transparent, #FF7F5C, transparent);
            animation: pulse 5.5s ease-in-out infinite 1.2s;
        }

        .circuit-line:nth-child(5) {
            top: 68%;
            left: 8%;
            width: 190px;
            height: 1px;
            background: linear-gradient(90deg, transparent, #FF7F5C, transparent);
            animation: pulse 4.3s ease-in-out infinite 3.5s;
        }

        .circuit-line:nth-child(6) {
            bottom: 12%;
            right: 18%;
            width: 160px;
            height: 1px;
            background: linear-gradient(90deg, transparent, #FF7F5C, transparent);
            animation: pulse 5s ease-in-out infinite 2.2s;
        }

        /* Verticales */
        .circuit-line:nth-child(7) {
            top: 12%;
            right: 22%;
            width: 1px;
            height: 140px;
            background: linear-gradient(180deg, transparent, #FF7F5C, transparent);
            animation: pulse 4.7s ease-in-out infinite 0.8s;
        }

        .circuit-line:nth-child(8) {
            top: 25%;
            left: 25%;
            width: 1px;
            height: 120px;
            background: linear-gradient(180deg, transparent, #FF7F5C, transparent);
            animation: pulse 5.3s ease-in-out infinite 1.8s;
        }

        .circuit-line:nth-child(9) {
            top: 45%;
            right: 12%;
            width: 1px;
            height: 100px;
            background: linear-gradient(180deg, transparent, #FF7F5C, transparent);
            animation: pulse 4.6s ease-in-out infinite 2.5s;
        }

        .circuit-line:nth-child(10) {
            top: 58%;
            left: 18%;
            width: 1px;
            height: 110px;
            background: linear-gradient(180deg, transparent, #FF7F5C, transparent);
            animation: pulse 5.1s ease-in-out infinite 3.2s;
        }

        .circuit-line:nth-child(11) {
            bottom: 20%;
            left: 35%;
            width: 1px;
            height: 130px;
            background: linear-gradient(180deg, transparent, #FF7F5C, transparent);
            animation: pulse 4.9s ease-in-out infinite 1.5s;
        }

        .circuit-line:nth-child(12) {
            top: 18%;
            right: 8%;
            width: 1px;
            height: 95px;
            background: linear-gradient(180deg, transparent, #FF7F5C, transparent);
            animation: pulse 5.4s ease-in-out infinite 2.9s;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.15; }
            50% { opacity: 0.35; }
        }
        
        body.welcome-mode .circuit-line {
            opacity: 0.35;
        }

        /* Mix blanc et orange pour les circuits en welcome mode */
        body.welcome-mode .circuit-line:nth-child(2),
        body.welcome-mode .circuit-line:nth-child(5),
        body.welcome-mode .circuit-line:nth-child(8),
        body.welcome-mode .circuit-line:nth-child(11) {
            background: linear-gradient(90deg, transparent, rgba(245, 245, 247, 0.8), transparent) !important;
        }

        body.welcome-mode .circuit-line:nth-child(3),
        body.welcome-mode .circuit-line:nth-child(6),
        body.welcome-mode .circuit-line:nth-child(9),
        body.welcome-mode .circuit-line:nth-child(12) {
            background: linear-gradient(transparent, rgba(245, 245, 247, 0.8), transparent) !important;
        }
        
        body.theme-gov .circuit-line {
            opacity: 0.28;
        }
        
        body.theme-gov .circuit-line {
            animation: pulseGov 4.5s ease-in-out infinite;
        }
        
        @keyframes pulseGov {
            0%, 100% { opacity: 0.18; }
            50% { opacity: 0.35; }
        }

        /* Animation intro avec logo Y */
        .intro-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            z-index: 10005;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
        }

        .intro-animation::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(ellipse 50% 120% at 30% 0%,
                    rgba(255, 127, 92, 0.35) 0%,
                    rgba(255, 127, 92, 0.15) 30%,
                    rgba(255, 127, 92, 0.05) 50%,
                    transparent 70%),
                radial-gradient(ellipse 50% 120% at 70% 0%,
                    rgba(245, 245, 247, 0.3) 0%,
                    rgba(245, 245, 247, 0.12) 30%,
                    rgba(245, 245, 247, 0.04) 50%,
                    transparent 70%);
            opacity: 0;
            z-index: -1;
        }

        .intro-animation.active {
            opacity: 1;
            visibility: visible;
            animation: fadeOut 0.8s ease 2.8s forwards;
        }

        .intro-animation.active::before {
            animation: beamsFadeInOut 3s ease forwards;
        }

        @keyframes beamsFadeInOut {
            0% { opacity: 0; }
            20% { opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; }
        }

        .intro-logo {
            font-family: 'Inter', sans-serif;
            font-size: 120px;
            font-weight: 900;
            color: #FF7F5C;
            position: relative;
        }

        .intro-animation.active .intro-logo {
            animation: yToPosition 3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        @keyframes yToPosition {
            0% {
                transform: scale(0) rotate(-180deg);
                opacity: 0;
                filter: blur(0px);
            }
            30% {
                transform: scale(1.2) rotate(0deg);
                opacity: 1;
                filter: blur(0px);
            }
            70% {
                transform: scale(1.2) rotate(0deg);
                opacity: 1;
                filter: blur(0px);
            }
            100% {
                transform: scale(1.2) rotate(0deg);
                opacity: 0;
                filter: blur(20px);
            }
        }
        
        @keyframes letterAppear {
            0% { 
                opacity: 0; 
                transform: translateY(30px) scale(0.8); 
            }
            100% { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }

        @keyframes fadeOut {
            to { opacity: 0; visibility: hidden; }
        }

        /* Logo en haut à droite */
        .logo-btn {
            position: fixed;
            top: 30px;
            right: 30px;
            background: none;
            border: none;
            cursor: pointer;
            z-index: 1001;
            transition: all 0.3s ease;
            display: none;
            padding: 0;
            width: 32px;
            height: 32px;
        }

        .logo-btn.visible {
            display: block;
        }
        
        /* Cacher le logo tant que welcome screen est visible */
        body.welcome-mode .logo-btn {
            display: none !important;
        }

        .logo-btn:hover {
            transform: scale(1.1);
        }

        .logo-btn svg {
            width: 100%;
            height: 100%;
        }

        /* Menu Toggle */
        /* Dynamic Island - EXACTE V15 */
        .dynamic-island {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, rgba(255, 127, 92, 0.10) 0%, rgba(20, 20, 20, 0.98) 100%);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 8px 20px;
            border: 1px solid rgba(255, 127, 92, 0.25);
            z-index: 998;
            min-width: 140px;
            max-width: 500px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(26, 15, 10, 0.35);
            cursor: pointer;
        }

        .dynamic-island.visible {
            display: flex;
        }

        body.theme-gov .dynamic-island {
            background: linear-gradient(135deg, rgba(255, 127, 92, 0.08) 0%, rgba(245, 245, 247, 0.98) 100%);
        }

        .island-content {
            font-size: 13px;
            font-weight: 600;
            color: #f5f5f7;
            white-space: nowrap;
            text-align: center;
            width: 100%;
        }

        body.theme-gov .island-content {
            color: #2a1810;
        }

        .experts-scroll-island {
            display: flex;
            animation: scroll-island 20s linear infinite;
        }

        .expert-item-island {
            margin-right: 40px;
            font-size: 13px;
            color: #f5f5f7;
            font-weight: 500;
            white-space: nowrap;
        }

        body.theme-gov .expert-item-island {
            color: #2a1810;
        }

        .expert-name-island {
            color: #FF7F5C;
            font-weight: 600;
            margin-right: 6px;
        }

        @keyframes scroll-island {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        @media (max-width: 768px) {
            .dynamic-island {
                top: 15px;
                min-width: 110px;
                height: 32px;
                padding: 6px 14px;
                max-width: calc(100vw - 120px);
            }

            .island-content {
                font-size: 11px;
            }

            .expert-item-island {
                font-size: 11px;
                margin-right: 30px;
            }

            .logo-btn {
                right: 20px;
                font-size: 20px;
            }
        }

        /* Mini Sidebar Permanente */
        .mini-sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 70px;
            height: 100vh;
            z-index: 999;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 0 20px 0;
            gap: 10px;
            background: rgba(20, 20, 20, 0.85);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-right: 1px solid rgba(255, 127, 92, 0.15);
        }

        body.theme-gov .mini-sidebar {
            background: rgba(245, 245, 247, 0.85);
            border-right-color: rgba(212, 207, 197, 0.3);
        }

        .mini-sidebar.visible {
            display: flex;
        }

        .mini-sidebar-item {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            background: rgba(245, 245, 247, 0.03);
            border: 1px solid rgba(255, 127, 92, 0.1);
        }

        .mini-sidebar-item:hover {
            background: rgba(255, 127, 92, 0.15);
            border-color: rgba(255, 127, 92, 0.3);
            transform: translateX(5px);
        }

        body.theme-gov .mini-sidebar-item {
            background: rgba(255, 255, 255, 0.3);
        }

        body.theme-gov .mini-sidebar-item:hover {
            background: rgba(255, 127, 92, 0.1);
        }

        .mini-sidebar-item svg {
            width: 24px;
            height: 24px;
            stroke: rgba(245, 245, 247, 0.7);
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        body.theme-gov .mini-sidebar-item svg {
            stroke: rgba(26, 26, 26, 0.7);
        }

        .mini-sidebar-item:hover svg {
            stroke: #FF7F5C;
        }

        /* Tooltip au survol */
        .mini-sidebar-item::after {
            content: attr(data-tooltip);
            position: absolute;
            left: calc(100% + 15px);
            background: rgba(20, 20, 20, 0.98);
            color: #f5f5f7;
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 600;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            border: 1px solid rgba(255, 127, 92, 0.3);
            box-shadow: 0 4px 15px rgba(26, 15, 10, 0.35);
        }

        body.theme-gov .mini-sidebar-item::after {
            background: rgba(245, 245, 247, 0.98);
            color: #2a1810;
        }

        .mini-sidebar-item:hover::after {
            opacity: 1;
        }

        /* Séparateur dans mini sidebar */
        .mini-sidebar-separator {
            width: 30px;
            height: 1px;
            background: rgba(255, 127, 92, 0.2);
            margin: 10px 0;
        }

        /* Bouton switcher IT/GOUV circulaire en bas de sidebar - Style premium */
        .sidebar-switcher {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: transparent;
            border: 3px solid rgba(245, 245, 247, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            margin-top: auto;
            position: relative;
            overflow: visible;
        }

        /* Style différent selon le thème */
        body.theme-it .sidebar-switcher {
            border-color: rgba(245, 245, 247, 0.35);
            background: rgba(245, 245, 247, 0.05);
        }

        body.theme-gov .sidebar-switcher {
            border-color: rgba(139, 111, 71, 0.4);
            background: rgba(166, 124, 82, 0.08);
        }

        .sidebar-switcher::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(245, 245, 247, 0.2) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
            border-radius: 50%;
        }

        body.theme-gov .sidebar-switcher::before {
            background: radial-gradient(circle, rgba(166, 124, 82, 0.3) 0%, transparent 70%);
        }

        .sidebar-switcher:hover::before {
            opacity: 1;
            animation: pulse-glow-premium 1.5s ease-in-out infinite;
        }

        @keyframes pulse-glow-premium {
            0%, 100% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.15); opacity: 0.6; }
        }

        .sidebar-switcher:hover {
            transform: scale(1.08);
            border-width: 3px;
        }

        body.theme-it .sidebar-switcher:hover {
            box-shadow: 0 0 20px rgba(245, 245, 247, 0.3);
            border-color: rgba(245, 245, 247, 0.6);
            background: rgba(245, 245, 247, 0.1);
        }

        body.theme-gov .sidebar-switcher:hover {
            box-shadow: 0 0 20px rgba(166, 124, 82, 0.4);
            border-color: rgba(166, 124, 82, 0.6);
            background: rgba(166, 124, 82, 0.15);
        }

        .sidebar-switcher-text {
            font-size: 0.85rem;
            font-weight: 700;
            color: #f5f5f7;
            text-align: center;
            line-height: 1.2;
            z-index: 1;
            letter-spacing: 0.5px;
        }

        /* Sur thème IT: afficher "Gouv" en ivoire */
        body.theme-it .sidebar-switcher-text {
            color: #f5f5f7;
        }

        /* Sur thème GOV: afficher "IT" en terracotta foncé */
        body.theme-gov .sidebar-switcher-text {
            color: #c44d33;
        }

        /* Cacher l'icône (plus d'emoji) */
        .sidebar-switcher-icon {
            display: none;
        }

        /* Cacher le bouton switcher sur welcome screen */
        body.welcome-mode .sidebar-switcher {
            display: none !important;
        }

        /* ==================== HAMBURGER MENU MOBILE (DÉSACTIVÉ - Remplacé par sidebar permanente) ==================== */
        .hamburger-button {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            z-index: 1001;
            background: rgba(20, 20, 20, 0.8);
            border: 1px solid rgba(255, 127, 92, 0.3);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .hamburger-button:hover {
            background: rgba(255, 127, 92, 0.15);
            border-color: rgba(255, 127, 92, 0.5);
        }

        .hamburger-button span {
            width: 24px;
            height: 2px;
            background: rgba(245, 245, 247, 0.8);
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .hamburger-button.active span:nth-child(1) {
            transform: translateY(7px) rotate(45deg);
        }

        .hamburger-button.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger-button.active span:nth-child(3) {
            transform: translateY(-7px) rotate(-45deg);
        }

        body.theme-gov .hamburger-button {
            background: rgba(245, 245, 247, 0.9);
            border-color: rgba(212, 207, 197, 0.5);
        }

        body.theme-gov .hamburger-button span {
            background: rgba(26, 26, 26, 0.8);
        }

        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: -100%;
            width: 280px;
            height: 100vh;
            background: rgba(20, 20, 20, 0.98);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 1000;
            transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-y: auto;
            padding: 90px 20px 30px;
            border-right: 1px solid rgba(255, 127, 92, 0.2);
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.5);
            display: none;
        }

        .mobile-menu-overlay.open {
            left: 0;
        }

        body.theme-gov .mobile-menu-overlay {
            background: rgba(245, 245, 247, 0.98);
            border-right-color: rgba(212, 207, 197, 0.5);
        }

        .mobile-menu-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 12px;
            background: rgba(245, 245, 247, 0.03);
            border: 1px solid rgba(255, 127, 92, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .mobile-menu-item:hover {
            background: rgba(255, 127, 92, 0.15);
            border-color: rgba(255, 127, 92, 0.3);
            transform: translateX(5px);
        }

        body.theme-gov .mobile-menu-item {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(212, 207, 197, 0.3);
        }

        body.theme-gov .mobile-menu-item:hover {
            background: rgba(255, 127, 92, 0.1);
        }

        .mobile-menu-item svg {
            width: 24px;
            height: 24px;
            stroke: rgba(245, 245, 247, 0.7);
            fill: none;
            stroke-width: 2;
            flex-shrink: 0;
        }

        body.theme-gov .mobile-menu-item svg {
            stroke: rgba(26, 26, 26, 0.7);
        }

        .mobile-menu-item:hover svg {
            stroke: #FF7F5C;
        }

        .mobile-menu-item span {
            font-size: 0.95rem;
            font-weight: 600;
            color: rgba(245, 245, 247, 0.85);
        }

        body.theme-gov .mobile-menu-item span {
            color: rgba(26, 26, 26, 0.85);
        }

        .mobile-menu-separator {
            height: 1px;
            background: rgba(255, 127, 92, 0.2);
            margin: 15px 0;
        }

        /* Sidebar étendue (l'ancienne) */
        .sidebar {
            position: fixed;
            top: 0;
            left: -350px;
            width: 350px;
            height: 100vh;
            background: linear-gradient(135deg, rgba(8, 8, 8, 0.98) 0%, rgba(20, 20, 20, 0.98) 100%);
            border-right: 1px solid rgba(255, 127, 92, 0.2);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            overflow-y: auto;
            box-shadow: 4px 0 20px rgba(26, 15, 10, 0.45);
        }

        .sidebar.open {
            left: 70px;
        }

        /* Overlay de flou quand sidebar ouverte */
        .sidebar-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(26, 15, 10, 0.55);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease, visibility 0.4s ease;
        }

        .sidebar-backdrop.active {
            opacity: 1;
            visibility: visible;
        }

        .sidebar-content {
            padding: 80px 30px 40px;
        }

        .sidebar-brand {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 1px solid rgba(245, 245, 247, 0.1);
        }

        .sidebar-brand h2 {
            font-size: 2.2rem;
            font-weight: 900;
            color: #f5f5f7;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }

        .sidebar-brand p {
            font-size: 0.85rem;
            color: rgba(245, 245, 247, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .sidebar-section {
            margin-bottom: 40px;
        }

        .sidebar-section h3 {
            font-size: 0.75rem;
            font-weight: 700;
            color: #FF7F5C;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 18px;
            padding-left: 15px;
            border-left: 2px solid #FF7F5C;
        }

        .expertise-tags {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .expertise-tag, .sidebar-item {
            padding: 12px 15px;
            font-size: 0.9rem;
            color: rgba(245, 245, 247, 0.8);
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            border-left: 2px solid transparent;
        }

        .expertise-tag:hover, .sidebar-item:hover {
            background: rgba(255, 127, 92, 0.08);
            border-left-color: #FF7F5C;
            color: #f5f5f7;
        }

        /* Expertise Track Selector (Welcome page) */
        .expertise-track-selector {
            margin-bottom: 15px;
        }

        .expertise-track-button {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 16px;
            background: rgba(255, 127, 92, 0.05);
            border: 1px solid rgba(255, 127, 92, 0.2);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .expertise-track-button:hover {
            background: rgba(255, 127, 92, 0.12);
            border-color: rgba(255, 127, 92, 0.4);
        }

        .expertise-track-button span {
            font-size: 1rem;
            font-weight: 600;
            color: rgba(245, 245, 247, 0.9);
        }

        body.theme-gov .expertise-track-button span {
            color: rgba(26, 26, 26, 0.9);
        }

        .track-arrow {
            stroke: rgba(245, 245, 247, 0.7);
            transition: transform 0.3s ease;
        }

        body.theme-gov .track-arrow {
            stroke: rgba(26, 26, 26, 0.7);
        }

        .expertise-track-dropdown {
            margin-top: 10px;
            padding-left: 12px;
            border-left: 2px solid rgba(255, 127, 92, 0.3);
        }

        .sidebar-close {
            position: absolute;
            top: 30px;
            right: 30px;
            background: none;
            border: none;
            color: #f5f5f7;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            line-height: 1;
        }

        .sidebar-close:hover {
            color: #FF7F5C;
            transform: rotate(90deg);
        }

        @media (max-width: 768px) {
            body.has-mini-sidebar {
                padding-left: 60px;
            }
            
            /* Compenser le décalage pour mobile aussi */
            body.has-mini-sidebar .main-container,
            body.has-mini-sidebar .work-in-progress {
                margin-left: -30px;
            }
            
            .mini-sidebar {
                width: 60px;
            }
            
            .sidebar {
                width: 100%;
                left: -100%;
            }
            
            .sidebar.open {
                left: 0;
            }
        }

        /* Page d'accueil */
        .welcome-screen {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 40px 20px 120px;
            opacity: 0;
            animation: fadeIn 1s ease 3s forwards;
            position: relative;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        .welcome-content {
            max-width: 1100px;
            text-align: center;
            z-index: 1;
        }

        .welcome-title {
            font-size: clamp(3rem, 8vw, 6rem);
            font-weight: 900;
            margin-bottom: 40px;
            color: #f5f5f7;
            letter-spacing: -0.02em;
        }

        .welcome-text {
            font-size: clamp(1rem, 2vw, 1.3rem);
            line-height: 1.6;
            margin-bottom: 30px;
            color: rgba(245, 245, 247, 0.85);
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
        }

        .welcome-choices {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 600px;
            width: 100%;
            margin: 0 auto;
        }

        .choice-bubble {
            width: 100%;
            min-height: 120px;
            border-radius: 16px;
            background: rgba(26, 20, 16, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(245, 245, 247, 0.15);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            padding: 30px 35px;
            text-align: center;
        }

        .choice-bubble:hover {
            transform: translateY(-2px);
        }

        /* IT bubble (première) - Glow terracotta/orange */
        .choice-bubble:nth-child(1):hover {
            border-color: rgba(255, 127, 92, 0.8);
            box-shadow:
                0 0 30px rgba(255, 127, 92, 0.4),
                0 0 60px rgba(255, 127, 92, 0.2),
                inset 0 0 20px rgba(255, 127, 92, 0.1);
            background: rgba(255, 127, 92, 0.05);
        }

        /* GOV bubble (deuxième) - Glow ivoire/blanc */
        .choice-bubble:nth-child(2):hover {
            border-color: rgba(245, 245, 247, 0.8);
            box-shadow:
                0 0 30px rgba(245, 245, 247, 0.3),
                0 0 60px rgba(245, 245, 247, 0.15),
                inset 0 0 20px rgba(245, 245, 247, 0.1);
            background: rgba(245, 245, 247, 0.05);
        }

        .bubble-content {
            position: relative;
            z-index: 2;
            width: 100%;
        }

        .bubble-title {
            font-size: clamp(1.5rem, 3vw, 2rem);
            font-weight: 700;
            color: rgba(245, 245, 247, 0.95);
            margin-bottom: 8px;
            line-height: 1.2;
            transition: color 0.3s ease;
        }

        /* IT bubble - Titre terracotta au hover */
        .choice-bubble:nth-child(1):hover .bubble-title {
            color: #FF7F5C;
        }

        /* GOV bubble - Titre ivoire brillant au hover */
        .choice-bubble:nth-child(2):hover .bubble-title {
            color: #FFFFFF;
        }

        .bubble-desc {
            font-size: clamp(0.9rem, 2vw, 1.05rem);
            color: rgba(245, 245, 247, 0.7);
            line-height: 1.5;
            transition: color 0.3s ease;
        }

        .choice-bubble:nth-child(1):hover .bubble-desc {
            color: rgba(255, 127, 92, 0.9);
        }

        .choice-bubble:nth-child(2):hover .bubble-desc {
            color: rgba(245, 245, 247, 0.95);
        }

        /* Icône flèche sur les cartes */
        .bubble-icon {
            display: none;
        }

        /* Landing pages - EXACTE V15 */
        .main-container {
            display: none;
            flex-direction: column;
            position: relative;
        }

        .main-container.active {
            display: flex;
        }

        /* Hero section - Contenu positionné dans le 2ème quart (25-50% hauteur) */
        .landing-hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            text-align: center;
            padding: 28vh 40px 60px 40px;
            position: relative;
        }

        .brand-title {
            font-size: clamp(2.2rem, 10vw, 7rem);
            font-weight: 900;
            margin-bottom: 30px;
            margin-top: 0;
            letter-spacing: -0.03em;
            text-shadow: 0 4px 20px rgba(255, 127, 92, 0.3);
            text-align: center;
            white-space: nowrap;
        }

        body.theme-it .brand-title {
            color: #f5f5f7;
        }

        body.theme-gov .brand-title {
            color: #2a1810;
        }

        .intro-text {
            font-size: clamp(0.95rem, 1.8vw, 1.15rem);
            line-height: 1.8;
            max-width: 850px;
            margin-bottom: 60px;
            text-align: center;
        }

        body.theme-it .intro-text {
            color: rgba(245, 245, 247, 0.85);
        }

        body.theme-gov .intro-text {
            color: rgba(26, 26, 26, 0.8);
        }

        .search-bar {
            max-width: 700px;
            width: 100%;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 20px 60px 20px 30px;
            font-size: 1rem;
            border: 2px solid rgba(255, 127, 92, 0.3);
            border-radius: 50px;
            outline: none;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
            cursor: pointer;
        }
        
        .search-submit-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            padding: 0;
            background: linear-gradient(135deg, #FF7F5C 0%, #c43d20 100%);
            color: #f5f5f7;
            border: none;
            border-radius: 50%;
            font-weight: 700;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
            box-shadow: 0 4px 15px rgba(255, 127, 92, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .search-submit-btn:hover {
            background: linear-gradient(135deg, #c43d20 0%, #a53118 100%);
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 127, 92, 0.5);
        }
        
        .search-submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        body.theme-it .search-input {
            background: rgba(245, 245, 247, 0.05);
            color: #f5f5f7;
        }

        body.theme-gov .search-input {
            background: rgba(255, 255, 255, 0.7);
            color: #2a1810;
        }

        .search-input::placeholder {
            opacity: 0.6;
        }

        .search-input:focus {
            border-color: #FF7F5C;
            box-shadow: 0 8px 30px rgba(255, 127, 92, 0.2);
        }

        /* Dropdown des exemples de questions */
        .questions-dropdown {
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            right: 0;
            background: rgba(20, 20, 20, 0.98);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 127, 92, 0.3);
            border-radius: 20px;
            padding: 20px;
            display: none;
            z-index: 1000;
            max-height: 400px;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(26, 15, 10, 0.55);
        }

        body.theme-gov .questions-dropdown {
            background: rgba(245, 245, 247, 0.98);
            border-color: rgba(255, 127, 92, 0.2);
        }

        .questions-dropdown.active {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .dropdown-title {
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #FF7F5C;
            margin-bottom: 15px;
        }

        .question-item {
            padding: 12px 15px;
            margin-bottom: 8px;
            background: rgba(245, 245, 247, 0.05);
            border: 1px solid rgba(255, 127, 92, 0.15);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
            color: rgba(245, 245, 247, 0.85);
        }

        body.theme-gov .question-item {
            background: rgba(255, 255, 255, 0.5);
            color: rgba(26, 26, 26, 0.85);
        }

        .question-item:hover {
            background: rgba(255, 127, 92, 0.15);
            border-color: rgba(255, 127, 92, 0.4);
            transform: translateX(5px);
        }

        body.theme-gov .question-item:hover {
            background: rgba(245, 245, 247, 0.3);
        }

        .search-subtitle {
            text-align: center;
            margin-top: 18px;
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* Bouton switch */
        .site-switcher {
            position: fixed;
            bottom: 40px;
            right: 40px;
            padding: 16px 32px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 999;
            border: 2px solid;
            display: none !important;
        }

        .site-switcher.visible {
            display: none !important;
        }

        body.theme-it .site-switcher {
            background: #f5f5f7;
            color: #1a0f0a;
            border-color: #f5f5f7;
        }

        body.theme-it .site-switcher:hover {
            background: transparent;
            color: #f5f5f7;
        }

        body.theme-gov .site-switcher {
            background: #f5f5f7;
            color: #2a1810;
            border-color: #f5f5f7;
        }

        body.theme-gov .site-switcher:hover {
            background: transparent;
            color: #2a1810;
            border-color: #f5f5f7;
        }

        /* Pages de contenu - Suite dans JS pour ne pas dépasser */
        .work-in-progress {
            display: none;
            min-height: 100vh;
            padding: 120px 40px 80px 40px;
        }

        .work-in-progress.active {
            display: flex;
            flex-direction: column;
        }

        .story-container {
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
        }

        .story-hero {
            text-align: center;
            margin-bottom: 60px;
        }

        .story-title {
            font-size: clamp(2.5rem, 5vw, 3.8rem);
            font-weight: 900;
            margin-bottom: 15px;
            letter-spacing: -0.02em;
        }

        body.theme-it .story-title {
            color: #f5f5f7;
        }

        body.theme-gov .story-title {
            color: #2a1810;
        }

        .story-subtitle {
            font-size: clamp(0.85rem, 2vw, 1rem);
            font-weight: 600;
            letter-spacing: 0.1em;
            opacity: 0.7;
            text-transform: uppercase;
        }

        .story-section {
            margin-bottom: 45px;
        }

        .story-card {
            background: rgba(245, 245, 247, 0.03);
            border: 1px solid rgba(255, 127, 92, 0.2);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 22px;
        }

        body.theme-gov .story-card {
            background: rgba(255, 255, 255, 0.5);
        }
        
        /* Styles pour les textes des carrés de statistiques */
        .stat-card-label {
            font-size: 0.85rem;
            color: rgba(245, 245, 247, 0.6);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        
        body.theme-gov .stat-card-label {
            color: rgba(26, 26, 26, 0.7);
        }
        
        .stat-card-desc {
            font-size: 0.9rem;
            color: rgba(245, 245, 247, 0.5);
        }
        
        body.theme-gov .stat-card-desc {
            color: rgba(26, 26, 26, 0.6);
        }

        .section-header {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 22px;
            color: #FF7F5C;
        }

        .story-text {
            font-size: 1.05rem;
            line-height: 1.8;
            margin-bottom: 16px;
        }

        body.theme-it .story-text {
            color: rgba(245, 245, 247, 0.9);
        }

        body.theme-gov .story-text {
            color: rgba(26, 26, 26, 0.85);
        }

        .highlight {
            color: #FF7F5C;
            font-weight: 600;
        }
        
        body.theme-gov .highlight {
            color: #2a1810;
            font-weight: 700;
        }

        /* Cartes réseau sociaux - adaptées au thème GOV */
        .network-card {
            padding: 25px;
            background: rgba(139, 115, 85, 0.12);
            border: 1px solid rgba(139, 115, 85, 0.25);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .network-card:hover {
            background: rgba(139, 115, 85, 0.20);
            border-color: rgba(139, 115, 85, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 115, 85, 0.15);
        }

        .network-card-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #2a1810;
            margin-bottom: 5px;
        }

        .network-card-desc {
            font-size: 1rem;
            line-height: 1.6;
            color: rgba(26, 26, 26, 0.7);
        }

        .expertise-cases {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .case-item {
            padding-left: 22px;
            position: relative;
        }

        .case-item::before {
            content: '→';
            position: absolute;
            left: 0;
            color: #FF7F5C;
            font-weight: 700;
            font-size: 1rem;
        }

        .case-text {
            font-size: 1rem;
            line-height: 1.6;
        }

        body.theme-it .case-text {
            color: rgba(245, 245, 247, 0.85);
        }

        body.theme-gov .case-text {
            color: rgba(26, 26, 26, 0.8);
        }

        .intervention-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }

        .intervention-item {
            background: rgba(255, 127, 92, 0.05);
            border: 1px solid rgba(255, 127, 92, 0.15);
            border-radius: 12px;
            padding: 18px;
        }

        .intervention-name {
            font-weight: 700;
            color: #FF7F5C;
            margin-bottom: 6px;
            font-size: 0.95rem;
        }

        .intervention-desc {
            font-size: 0.85rem;
            opacity: 0.8;
        }

        .cta-section {
            margin-top: 60px;
            padding: 40px 32px;
            background: linear-gradient(135deg, rgba(255, 127, 92, 0.08) 0%, rgba(255, 127, 92, 0.03) 100%);
            border: 1px solid rgba(255, 127, 92, 0.2);
            border-radius: 18px;
            text-align: center;
        }

        body.theme-gov .cta-section {
            background: linear-gradient(135deg, rgba(245, 245, 247, 0.6) 0%, rgba(245, 245, 247, 0.3) 100%);
            border: 2px solid rgba(245, 245, 247, 0.8);
            box-shadow: 0 8px 30px rgba(203, 199, 190, 0.4);
        }

        .cta-title {
            font-size: 1.6rem;
            font-weight: 700;
            margin-bottom: 12px;
        }

        body.theme-it .cta-title {
            color: #f5f5f7;
        }

        body.theme-gov .cta-title {
            color: #2a1810;
        }

        .cta-subtitle {
            font-size: 0.95rem;
            margin-bottom: 25px;
            opacity: 0.7;
        }

        .cta-highlight {
            color: #FF7F5C;
            font-weight: 600;
        }
        
        body.theme-gov .cta-highlight {
            color: #2a1810;
            font-weight: 700;
        }
        
        /* Styles pour le CTA final des landing pages */
        .cta-final {
            background: linear-gradient(135deg, rgba(255, 127, 92, 0.15) 0%, rgba(255, 127, 92, 0.05) 100%);
            padding: 60px 40px;
            border-radius: 20px;
            text-align: center;
            margin: 80px 20px 40px 20px;
            border: 2px solid rgba(255, 127, 92, 0.3);
            box-shadow: 0 10px 40px rgba(255, 127, 92, 0.2);
        }
        
        body.theme-gov .cta-final {
            background: linear-gradient(135deg, rgba(245, 245, 247, 0.6) 0%, rgba(245, 245, 247, 0.3) 100%);
            border: 2px solid rgba(245, 245, 247, 0.8);
            box-shadow: 0 10px 40px rgba(203, 199, 190, 0.4);
        }
        
        .cta-final h3 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            font-weight: 900;
        }
        
        body.theme-it .cta-final h3 {
            color: #f5f5f7;
        }
        
        body.theme-gov .cta-final h3 {
            color: #2a1810;
        }
        
        .cta-final p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.8;
        }
        
        body.theme-it .cta-final p {
            color: rgba(245, 245, 247, 0.7);
        }
        
        body.theme-gov .cta-final p {
            color: rgba(26, 26, 26, 0.7);
        }

        .cta-button {
            background: #FF7F5C;
            color: #f5f5f7;
            border: none;
            padding: 15px 35px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
        }

        body.theme-gov .cta-button {
            background: #f5f5f7;
            color: #2a1810;
            box-shadow: 0 4px 15px rgba(245, 245, 247, 0.5);
        }

        .cta-button:hover {
            background: transparent;
            color: #FF7F5C;
            border: 2px solid #FF7F5C;
            transform: translateY(-3px);
        }

        body.theme-gov .cta-button:hover {
            background: transparent;
            color: #2a1810;
            border: 2px solid #f5f5f7;
            box-shadow: 0 6px 25px rgba(245, 245, 247, 0.6);
        }

        .hidden {
            display: none !important;
        }

        /* INDICATEUR DE SCROLL */
        .scroll-indicator {
            position: fixed;
            bottom: 50%;
            right: 40px;
            transform: translateY(50%);
            z-index: 997;
            display: none;
            opacity: 0;
            animation: fadeInScroll 1s ease 2s forwards;
        }

        .scroll-indicator.visible {
            display: block;
        }

        @keyframes fadeInScroll {
            to {
                opacity: 1;
            }
        }

        .scroll-indicator-icon {
            width: 30px;
            height: 50px;
            border: 2px solid rgba(255, 127, 92, 0.5);
            border-radius: 20px;
            position: relative;
            animation: bounce 2s infinite;
        }

        body.theme-gov .scroll-indicator-icon {
            border-color: rgba(255, 127, 92, 0.6);
        }

        .scroll-indicator-icon::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 8px;
            background: #FF7F5C;
            border-radius: 2px;
            animation: scrollDot 2s infinite;
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(10px);
            }
        }

        @keyframes scrollDot {
            0% {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
        }

        /* Cacher l'indicateur quand on scroll */
        .scroll-indicator.hidden-on-scroll {
            opacity: 0;
            pointer-events: none;
        }

        /* Sections scrollables sur landing pages */
        .landing-sections {
            width: 100%;
            max-width: 1200px;
            padding: 80px 40px;
            margin: 0 auto;
            margin-top: 200px; /* Espace pour que les sections ne soient pas visibles sans scroll */
        }

        .landing-section {
            margin-bottom: 100px;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        .landing-section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .landing-section-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 20px;
            color: #FF7F5C;
            text-align: center;
        }

        .landing-section-subtitle {
            font-size: 1.1rem;
            margin-bottom: 50px;
            text-align: center;
            opacity: 0.8;
        }

        body.theme-it .landing-section-subtitle {
            color: rgba(245, 245, 247, 0.8);
        }

        body.theme-gov .landing-section-subtitle {
            color: rgba(26, 26, 26, 0.75);
        }

        .landing-section-content {
            background: rgba(245, 245, 247, 0.03);
            border: 1px solid rgba(255, 127, 92, 0.15);
            border-radius: 20px;
            padding: 40px;
            line-height: 1.8;
            font-size: 1.05rem;
        }

        body.theme-gov .landing-section-content {
            background: rgba(255, 255, 255, 0.4);
            border-color: rgba(255, 127, 92, 0.2);
        }

        body.theme-it .landing-section-content {
            color: rgba(245, 245, 247, 0.85);
        }

        body.theme-gov .landing-section-content {
            color: rgba(26, 26, 26, 0.85);
        }

        .landing-section-content h3 {
            color: #FF7F5C;
            font-size: 1.3rem;
            font-weight: 700;
            margin: 30px 0 15px 0;
        }

        .landing-section-content h3:first-child {
            margin-top: 0;
        }

        .landing-section-content p {
            margin-bottom: 20px;
        }

        .landing-section-content ul {
            list-style: none;
            padding-left: 0;
        }

        .landing-section-content li {
            padding-left: 25px;
            position: relative;
            margin-bottom: 12px;
        }

        .landing-section-content li::before {
            content: '→';
            position: absolute;
            left: 0;
            color: #FF7F5C;
            font-weight: 700;
        }

        @media (max-width: 768px) {
            .scroll-indicator {
                right: 20px;
            }

            .landing-section-title {
                font-size: 2rem;
            }

            .landing-sections {
                padding: 60px 20px;
                margin-top: 150px;
            }

            .landing-section-content {
                padding: 30px 20px;
            }
        }

        /* BOUTONS SOCIAUX */
        .social-buttons {
            position: fixed;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 998;
            padding: 10px 20px;
        }

        .social-button {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            text-decoration: none;
            background: rgba(120, 120, 120, 0.3);
            border: 1px solid rgba(150, 150, 150, 0.3);
        }

        .social-button:hover {
            transform: translateY(-3px);
            background: rgba(150, 150, 150, 0.5);
            box-shadow: 0 5px 15px rgba(107, 78, 61, 0.3);
        }

        .social-button svg {
            width: 20px;
            height: 20px;
            fill: rgba(200, 200, 200, 0.8);
        }

        .social-button:hover svg {
            fill: rgba(255, 255, 255, 0.95);
        }

        body.theme-gov .social-button svg {
            fill: rgba(80, 80, 80, 0.7);
        }

        body.theme-gov .social-button:hover svg {
            fill: rgba(50, 50, 50, 0.9);
        }

        @media (max-width: 768px) {
            .social-buttons {
                bottom: 20px;
                padding: 8px 15px;
                gap: 12px;
            }

            .social-button {
                width: 34px;
                height: 34px;
            }

            .social-button svg {
                width: 18px;
                height: 18px;
            }
        }

        /* MODAL EXPERTISE */
        .expertise-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 70px;
            width: calc(100% - 70px);
            height: 100%;
            background: #1a0f0a;
            z-index: 10001;
            overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }
        
        /* Ajouter les backgrounds de la landing page dans la modal */
        .expertise-modal::before {
            content: '';
            position: fixed;
            top: 0;
            left: 70px;
            width: calc(100% - 70px);
            height: 100%;
            background:
                radial-gradient(circle at 20% 20%, rgba(255, 127, 92, 0.20) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 127, 92, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 40% 70%, rgba(245, 245, 247, 0.10) 0%, transparent 50%),
                radial-gradient(circle at 60% 30%, rgba(255, 127, 92, 0.15) 0%, transparent 50%);
            z-index: -2;
        }

        .expertise-modal::after {
            content: '';
            position: fixed;
            top: 0;
            left: 70px;
            width: calc(100% - 70px);
            height: 100%;
            background-image:
                linear-gradient(90deg, rgba(245, 245, 247, 0.02) 1px, transparent 1px),
                linear-gradient(rgba(245, 245, 247, 0.02) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: -1;
            animation: grid-move 20s linear infinite;
        }
        
        /* Circuits dans la modal */
        .expertise-modal .circuit-lines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        body.theme-gov .expertise-modal {
            background: #cbc7be;
        }
        
        body.theme-gov .expertise-modal::before {
            background: transparent;
        }
        
        body.theme-gov .expertise-modal::after {
            background-image: 
                linear-gradient(90deg, rgba(100, 80, 70, 0.05) 1px, transparent 1px),
                linear-gradient(rgba(100, 80, 70, 0.05) 1px, transparent 1px);
        }

        .expertise-modal.active {
            display: block;
        }

        .expertise-modal-content {
            position: relative;
            max-width: 1200px;
            margin: 80px auto 40px;
            padding: 60px 40px;
            background: rgba(26, 15, 10, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 127, 92, 0.3);
            box-shadow: 0 20px 60px rgba(26, 15, 10, 0.55);
            z-index: 1;
        }

        body.theme-gov .expertise-modal-content {
            background: rgba(203, 199, 190, 0.85);
            backdrop-filter: blur(20px);
            border-color: rgba(100, 80, 70, 0.3);
        }

        .expertise-modal-close {
            position: fixed;
            top: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: rgba(255, 127, 92, 0.2);
            border: 2px solid rgba(255, 127, 92, 0.5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10002;
        }

        .expertise-modal-close:hover {
            background: rgba(255, 127, 92, 0.4);
            border-color: #FF7F5C;
            transform: rotate(90deg) scale(1.1);
        }

        .expertise-modal-close::before,
        .expertise-modal-close::after {
            content: '';
            position: absolute;
            width: 24px;
            height: 2px;
            background: #FF7F5C;
        }

        .expertise-modal-close::before {
            transform: rotate(45deg);
        }

        .expertise-modal-close::after {
            transform: rotate(-45deg);
        }

        body.theme-gov .expertise-modal-close {
            background: rgba(245, 245, 247, 0.3);
            border-color: rgba(245, 245, 247, 0.6);
        }

        body.theme-gov .expertise-modal-close:hover {
            background: rgba(245, 245, 247, 0.5);
            border-color: #f5f5f7;
        }

        body.theme-gov .expertise-modal-close::before,
        body.theme-gov .expertise-modal-close::after {
            background: #2a1810;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @media (max-width: 768px) {
            .expertise-modal-content {
                margin: 60px 20px 40px;
                padding: 40px 20px;
            }

            .expertise-modal-close {
                top: 20px;
                right: 20px;
                width: 40px;
                height: 40px;
            }
        }

        /* ==================== CHAT MODAL ==================== */
        /* ============ CHAT MODAL - DESIGN STEVE JOBS ============ */
        
        .chat-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(26, 15, 10, 0.75);
            backdrop-filter: blur(30px) saturate(180%);
            -webkit-backdrop-filter: blur(30px) saturate(180%);
            z-index: 10000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: fadeInBackdrop 0.35s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes fadeInBackdrop {
            from { 
                opacity: 0;
                backdrop-filter: blur(0px);
            }
            to { 
                opacity: 1;
                backdrop-filter: blur(30px);
            }
        }

        .chat-modal.active {
            display: flex;
        }

        /* Container principal - Style iMessage */
        .chat-container {
            width: 100%;
            max-width: 650px;
            height: 82vh;
            max-height: 700px;
            background: #ffffff;
            border-radius: 28px;
            box-shadow: 
                0 0 0 0.5px rgba(0, 0, 0, 0.04),
                0 10px 25px rgba(0, 0, 0, 0.1),
                0 40px 80px rgba(26, 15, 10, 0.15);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
            animation: slideInChat 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        body.theme-gov .chat-container {
            background: #f5f5f7;
        }

        @keyframes slideInChat {
            from {
                opacity: 0;
                transform: scale(0.92) translateY(30px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* Header style Apple */
        .chat-header {
            padding: 20px 24px;
            background: rgba(255, 255, 255, 0.98);
            border-bottom: 0.5px solid rgba(0, 0, 0, 0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            position: relative;
            z-index: 10;
        }

        body.theme-gov .chat-header {
            background: rgba(245, 245, 247, 0.98);
        }

        .chat-header-content h3 {
            font-size: 1.15rem;
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 2px;
            letter-spacing: -0.01em;
        }

        .chat-header-content p {
            font-size: 0.8rem;
            color: #86868b;
            font-weight: 400;
        }

        /* Bouton fermer minimaliste */
        .chat-close {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(120, 120, 128, 0.16);
            border: none;
            color: #1d1d1f;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            font-weight: 300;
        }

        .chat-close:hover {
            background: rgba(120, 120, 128, 0.24);
            transform: scale(1.05);
        }

        /* Zone de messages style iMessage */
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 24px 20px;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            gap: 12px;
            position: relative;
            z-index: 5;
        }

        body.theme-gov .chat-messages {
            background: #f5f5f7;
        }

        /* Scrollbar ultra-fine style Apple */
        .chat-messages::-webkit-scrollbar {
            width: 5px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: transparent;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.12);
            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.2);
        }

        /* Messages style iMessage */
        .chat-message {
            display: flex;
            gap: 8px;
            animation: messageSlide 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            max-width: 75%;
        }

        .chat-message.user-message {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(10px) scale(0.96);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Avatar minimaliste */
        .message-avatar {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.7rem;
            flex-shrink: 0;
            background: #d1d1d6;
            color: #fff;
        }

        .message-avatar.agent {
            background: linear-gradient(135deg, #FF7F5C 0%, #d44728 100%);
        }

        body.theme-gov .message-avatar.agent {
            background: linear-gradient(135deg, #8b7355 0%, #75614a 100%);
        }

        /* Bulles iMessage */
        .message-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .message-text {
            padding: 12px 16px;
            border-radius: 20px;
            font-size: 0.95rem;
            line-height: 1.5;
            word-wrap: break-word;
        }

        /* Bulle agent - gris clair avec texte noir */
        .chat-message.agent-message .message-text {
            background: #e9e9eb;
            color: #1d1d1f;
        }

        /* Bulle user - terracotta doux pour IT */
        .chat-message.user-message .message-text {
            background: linear-gradient(135deg, #c85a40 0%, #b84e36 100%);
            color: #ffffff;
        }

        body.theme-gov .chat-message.user-message .message-text {
            background: linear-gradient(135deg, #8b7355 0%, #75614a 100%);
        }

        .message-time {
            font-size: 0.7rem;
            color: #86868b;
            padding: 0 6px;
            font-weight: 400;
        }

        /* Typing indicator iMessage style */
        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 14px 18px;
            background: #e9e9eb;
            border-radius: 20px;
            width: fit-content;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #8e8e93;
            animation: typingBounce 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingBounce {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.5;
            }
            30% {
                transform: translateY(-8px);
                opacity: 1;
            }
        }

        /* Input area style iMessage */
        .chat-input-area {
            padding: 12px 16px 16px;
            background: rgba(255, 255, 255, 0.98);
            border-top: 0.5px solid rgba(0, 0, 0, 0.08);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            position: relative;
            z-index: 10;
        }

        body.theme-gov .chat-input-area {
            background: rgba(245, 245, 247, 0.98);
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        /* Input iMessage */
        .chat-input {
            flex: 1;
            padding: 10px 14px;
            background: #f2f2f7;
            border: 1px solid transparent;
            border-radius: 20px;
            color: #1d1d1f;
            font-size: 0.95rem;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            outline: none;
            transition: all 0.2s ease;
        }

        .chat-input::placeholder {
            color: #8e8e93;
        }

        .chat-input:focus {
            background: #ffffff;
            border-color: rgba(0, 122, 255, 0.3);
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.08);
        }

        body.theme-gov .chat-input:focus {
            border-color: rgba(139, 115, 85, 0.3);
            box-shadow: 0 0 0 3px rgba(139, 115, 85, 0.08);
        }

        /* Bouton envoyer terracotta doux */
        .chat-send-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, #c85a40 0%, #b84e36 100%);
            border: none;
            color: #ffffff;
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            flex-shrink: 0;
            box-shadow: 0 2px 6px rgba(200, 90, 64, 0.25);
        }

        .chat-send-btn:hover:not(:disabled) {
            transform: scale(1.08);
            box-shadow: 0 4px 12px rgba(200, 90, 64, 0.35);
        }

        .chat-send-btn:active:not(:disabled) {
            transform: scale(0.95);
        }

        .chat-send-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        body.theme-gov .chat-send-btn {
            background: linear-gradient(135deg, #8b7355 0%, #75614a 100%);
            box-shadow: 0 2px 6px rgba(139, 115, 85, 0.25);
        }

        body.theme-gov .chat-send-btn:hover:not(:disabled) {
            box-shadow: 0 4px 12px rgba(139, 115, 85, 0.35);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .chat-container {
                max-width: 100%;
                height: 90vh;
                border-radius: 20px 20px 0 0;
            }
        }
        .chat-header {
            padding: 28px 32px;
            background: rgba(20, 20, 20, 0.95);
            border-bottom: 1px solid rgba(255, 127, 92, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            position: relative;
            z-index: 10;
        }

        body.theme-gov .chat-header {
            background: rgba(190, 186, 177, 0.95);
            border-bottom-color: rgba(100, 80, 70, 0.2);
        }

        .chat-header-content h3 {
            font-size: 1.5rem;
            font-weight: 800;
            color: #FF7F5C;
            margin-bottom: 4px;
            letter-spacing: -0.02em;
        }

        body.theme-gov .chat-header-content h3 {
            color: #64504A;
        }

        .chat-header-content p {
            font-size: 0.9rem;
            color: rgba(245, 245, 247, 0.6);
            font-weight: 500;
            letter-spacing: 0;
        }

        body.theme-gov .chat-header-content p {
            color: rgba(26, 26, 26, 0.6);
        }

        /* Bouton fermer style tech */
        .chat-close {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: rgba(255, 127, 92, 0.1);
            border: 1px solid rgba(255, 127, 92, 0.2);
            color: #FF7F5C;
            font-size: 1.4rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 400;
        }

        .chat-close:hover {
            background: rgba(255, 127, 92, 0.2);
            border-color: rgba(255, 127, 92, 0.4);
            transform: scale(1.05);
        }

        .chat-close:active {
            transform: scale(0.95);
        }

        body.theme-gov .chat-close {
            background: rgba(100, 80, 70, 0.1);
            border-color: rgba(100, 80, 70, 0.2);
            color: #64504A;
        }

        body.theme-gov .chat-close:hover {
            background: rgba(100, 80, 70, 0.2);
            border-color: rgba(100, 80, 70, 0.4);
        }

        /* Zone de messages - fond dark */
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 32px 28px;
            background: transparent;
            display: flex;
            flex-direction: column;
            gap: 18px;
            position: relative;
            z-index: 5;
        }

        body.theme-gov .chat-messages {
            background: transparent;
        }

        /* Scrollbar dark tech */
        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: transparent;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(255, 127, 92, 0.3);
            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 127, 92, 0.5);
        }

        /* Message container */
        .chat-message {
            display: flex;
            gap: 14px;
            animation: messageAppear 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            max-width: 82%;
        }

        .chat-message.user-message {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(12px) scale(0.96);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Avatar circulaire tech */
        .message-avatar {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(26, 15, 10, 0.35);
        }

        .message-avatar.agent {
            background: linear-gradient(135deg, #FF7F5C 0%, #d44728 100%);
            color: #ffffff;
            border: 2px solid rgba(255, 127, 92, 0.3);
        }

        body.theme-gov .message-avatar.agent {
            background: linear-gradient(135deg, #8b7355 0%, #75614a 100%);
            border-color: rgba(139, 115, 85, 0.3);
        }

        .message-avatar.user {
            background: rgba(245, 245, 247, 0.15);
            color: #f5f5f7;
            border: 2px solid rgba(245, 245, 247, 0.2);
        }

        body.theme-gov .message-avatar.user {
            background: rgba(26, 26, 26, 0.15);
            color: #2a1810;
            border-color: rgba(26, 26, 26, 0.2);
        }

        /* Bulles de messages dark tech */
        .message-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .message-text {
            padding: 16px 20px;
            border-radius: 18px;
            font-size: 0.95rem;
            line-height: 1.6;
            word-wrap: break-word;
        }

        /* Message agent - bulle dark */
        .chat-message.agent-message .message-text {
            background: rgba(255, 127, 92, 0.1);
            border: 1px solid rgba(255, 127, 92, 0.2);
            color: #1d1d1f;
        }

        body.theme-gov .chat-message.agent-message .message-text {
            background: rgba(100, 80, 70, 0.1);
            border-color: rgba(100, 80, 70, 0.2);
            color: rgba(26, 26, 26, 0.9);
        }

        /* Message user - bulle colorée */
        .chat-message.user-message .message-text {
            background: linear-gradient(135deg, #FF7F5C 0%, #d44728 100%);
            color: #ffffff;
            border: 1px solid rgba(255, 127, 92, 0.3);
        }

        body.theme-gov .chat-message.user-message .message-text {
            background: linear-gradient(135deg, #8b7355 0%, #75614a 100%);
            border-color: rgba(139, 115, 85, 0.3);
        }

        .message-time {
            font-size: 0.72rem;
            color: rgba(245, 245, 247, 0.5);
            padding: 0 8px;
            font-weight: 500;
        }

        body.theme-gov .message-time {
            color: rgba(26, 26, 26, 0.5);
        }

        /* Typing indicator dark tech */
        .typing-indicator {
            display: flex;
            gap: 6px;
            padding: 16px 20px;
            background: rgba(255, 127, 92, 0.08);
            border: 1px solid rgba(255, 127, 92, 0.15);
            border-radius: 18px;
            width: fit-content;
        }

        body.theme-gov .typing-indicator {
            background: rgba(100, 80, 70, 0.08);
            border-color: rgba(100, 80, 70, 0.15);
        }

        .typing-dot {
            width: 9px;
            height: 9px;
            border-radius: 50%;
            background: #FF7F5C;
            animation: typingPulse 1.4s infinite ease-in-out;
        }

        body.theme-gov .typing-dot {
            background: #8b7355;
        }

        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingPulse {
            0%, 60%, 100% {
                transform: scale(0.8);
                opacity: 0.4;
            }
            30% {
                transform: scale(1.15);
                opacity: 1;
            }
        }

        /* Input area - Dark tech */
        .chat-input-area {
            padding: 20px 24px 24px;
            background: rgba(20, 20, 20, 0.95);
            border-top: 1px solid rgba(255, 127, 92, 0.2);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            position: relative;
            z-index: 10;
        }

        body.theme-gov .chat-input-area {
            background: rgba(190, 186, 177, 0.95);
            border-top-color: rgba(100, 80, 70, 0.2);
        }

        .chat-input-container {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        /* Input dark tech */
        .chat-input {
            flex: 1;
            padding: 15px 20px;
            background: rgba(255, 253, 208, 0.15);
            border: 1px solid rgba(11, 61, 44, 0.3);
            border-radius: 14px;
            color: #0B3D2C;
            font-size: 0.95rem;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            outline: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .chat-input::placeholder {
            color: rgba(11, 61, 44, 0.5);
        }

        .chat-input:focus {
            background: rgba(255, 253, 208, 0.25);
            border-color: rgba(11, 61, 44, 0.5);
            box-shadow: 0 0 0 3px rgba(11, 61, 44, 0.15);
        }

        body.theme-gov .chat-input {
            background: rgba(100, 80, 70, 0.08);
            border-color: rgba(100, 80, 70, 0.2);
            color: #2a1810;
        }

        body.theme-gov .chat-input::placeholder {
            color: rgba(26, 26, 26, 0.4);
        }

        body.theme-gov .chat-input:focus {
            background: rgba(100, 80, 70, 0.12);
            border-color: rgba(100, 80, 70, 0.4);
            box-shadow: 0 0 0 3px rgba(100, 80, 70, 0.15);
        }

        /* Bouton envoyer - Circulaire et minimaliste */
        .chat-send-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FF7F5C 0%, #d44728 100%);
            border: none;
            color: #ffffff;
            font-size: 1.2rem;
            font-weight: 300;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(255, 127, 92, 0.25);
            flex-shrink: 0;
        }

        body.theme-gov .chat-send-btn {
            background: linear-gradient(135deg, #8b7355 0%, #75614a 100%);
            box-shadow: 0 2px 8px rgba(139, 115, 85, 0.25);
        }

        .chat-send-btn:hover:not(:disabled) {
            transform: scale(1.08);
            box-shadow: 0 4px 12px rgba(255, 127, 92, 0.35);
        }

        body.theme-gov .chat-send-btn:hover:not(:disabled) {
            box-shadow: 0 4px 12px rgba(139, 115, 85, 0.35);
        }

        .chat-send-btn:active:not(:disabled) {
            transform: scale(0.95);
        }

        .chat-send-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: scale(1);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .chat-container {
                max-width: 100%;
                height: 90vh;
                border-radius: 20px 20px 0 0;
            }

            .chat-messages {
                padding: 20px 16px;
            }

            .chat-header {
                padding: 20px 20px;
            }
        }

        /* ============ FIN CHAT MODAL ============ */

        .chat-header-content p {
            font-size: 0.88rem;
            color: rgba(245, 245, 247, 0.55);
            font-weight: 500;
        }

        body.theme-gov .chat-header-content p {
            color: rgba(26, 26, 26, 0.55);
        }

        .chat-close {
            background: rgba(255, 127, 92, 0.08);
            border: 1px solid rgba(255, 127, 92, 0.2);
            color: #f5f5f7;
            font-size: 1.6rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            line-height: 1;
            padding: 0;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
        }

        body.theme-gov .chat-close {
            background: rgba(139, 115, 85, 0.08);
            border-color: rgba(139, 115, 85, 0.2);
            color: #2a1810;
        }

        .chat-close:hover {
            background: rgba(255, 127, 92, 0.15);
            border-color: rgba(255, 127, 92, 0.4);
            transform: scale(1.05) rotate(90deg);
            box-shadow: 0 4px 12px rgba(255, 127, 92, 0.2);
        }

        body.theme-gov .chat-close:hover {
            background: rgba(139, 115, 85, 0.15);
            border-color: rgba(139, 115, 85, 0.4);
            box-shadow: 0 4px 12px rgba(139, 115, 85, 0.2);
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 32px 36px;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .chat-messages::-webkit-scrollbar {
            width: 10px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(255, 127, 92, 0.03);
            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, rgba(255, 127, 92, 0.4), rgba(255, 127, 92, 0.25));
            border-radius: 10px;
            border: 2px solid transparent;
            background-clip: padding-box;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, rgba(255, 127, 92, 0.6), rgba(255, 127, 92, 0.4));
        }

        .chat-message {
            display: flex;
            gap: 16px;
            animation: messageSlideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes messageSlideIn {
            from {
                opacity: 0;
                transform: translateY(15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-avatar {
            display: none; /* Virer les avatars */
        }

        .message-content {
            flex: 1;
        }

        .message-text {
            background: rgba(255, 127, 92, 0.06);
            padding: 18px 22px;
            border-radius: 16px;
            border: 1px solid rgba(255, 127, 92, 0.12);
            color: #1d1d1f; /* Texte noir par défaut pour l'agent */
            line-height: 1.65;
            font-size: 0.98rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        body.theme-gov .message-text {
            background: rgba(26, 26, 26, 0.04);
            border-color: rgba(139, 115, 85, 0.12);
            color: rgba(26, 26, 26, 0.95);
        }

        .message-text.user {
            background: rgba(255, 127, 92, 0.12);
            border-color: rgba(255, 127, 92, 0.2);
            color: #ffffff; /* Texte blanc pour l'utilisateur */
        }

        body.theme-gov .message-text.user {
            background: rgba(139, 115, 85, 0.12);
            border-color: rgba(139, 115, 85, 0.2);
        }

        .message-time {
            font-size: 0.76rem;
            color: rgba(245, 245, 247, 0.4);
            margin-top: 8px;
            font-weight: 500;
        }

        body.theme-gov .message-time {
            color: rgba(26, 26, 26, 0.4);
        }

        /* Typing indicator moderne */
        .typing-indicator {
            display: flex;
            gap: 8px;
            padding: 12px 0;
        }

        .typing-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255, 127, 92, 0.6), rgba(255, 127, 92, 0.4));
            animation: typingBounce 1.4s infinite ease-in-out;
        }

        body.theme-gov .typing-dot {
            background: linear-gradient(135deg, rgba(139, 115, 85, 0.6), rgba(139, 115, 85, 0.4));
        }

        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingBounce {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-12px);
                opacity: 1;
            }
        }

        .chat-input-area {
            padding: 24px 36px;
            background: rgba(0, 0, 0, 0.2);
            border-top: 1px solid rgba(255, 127, 92, 0.15);
        }

        body.theme-gov .chat-input-area {
            background: rgba(255, 255, 255, 0.3);
            border-top-color: rgba(139, 115, 85, 0.15);
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 15px 20px;
            background: rgba(255, 253, 208, 0.15);
            border: 1px solid rgba(11, 61, 44, 0.3);
            border-radius: 25px;
            color: #0B3D2C;
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            outline: none;
            transition: all 0.3s ease;
        }

        body.theme-gov .chat-input {
            background: rgba(26, 26, 26, 0.05);
            border-color: rgba(100, 80, 70, 0.3);
            color: #2a1810;
        }

        .chat-input:focus {
            border-color: #0B3D2C;
            background: rgba(255, 253, 208, 0.25);
        }

        body.theme-gov .chat-input:focus {
            border-color: #8b7355;
            background: rgba(100, 80, 70, 0.08);
        }

        .chat-input::placeholder {
            color: rgba(11, 61, 44, 0.5);
        }

        body.theme-gov .chat-input::placeholder {
            color: rgba(26, 26, 26, 0.4);
        }

        .chat-send-btn {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #FF7F5C 0%, #c43d20 100%);
            border: none;
            border-radius: 50%;
            color: #f5f5f7;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        body.theme-gov .chat-send-btn {
            background: linear-gradient(135deg, #8b7355 0%, #6b5640 100%);
        }

        .chat-send-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(255, 127, 92, 0.4);
        }

        .chat-send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: scale(1);
        }

        .typing-indicator {
            display: flex;
            gap: 5px;
            padding: 15px 20px;
            background: rgba(255, 127, 92, 0.08);
            border-radius: 12px;
            width: fit-content;
        }

        body.theme-gov .typing-indicator {
            background: rgba(26, 26, 26, 0.08);
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: rgba(245, 245, 247, 0.5);
            border-radius: 50%;
            animation: typingAnimation 1.4s infinite;
        }

        body.theme-gov .typing-dot {
            background: rgba(26, 26, 26, 0.5);
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingAnimation {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.5;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        @media (max-width: 768px) {
            .chat-container {
                width: 100%;
                height: 100vh;
                max-height: 100vh;
                border-radius: 0;
            }

            .chat-messages {
                padding: 20px;
            }

            .chat-input-area {
                padding: 15px 20px;
            }
        }
        /* ============ CORRECTIONS FINALES ============ */
        /* Forcer les bons styles pour éviter les conflits */
        
        /* Avatar message - taille suffisante pour éviter le débordement */
        .message-avatar {
            width: 42px !important;
            height: 42px !important;
            border-radius: 50% !important;
            font-size: 0.85rem !important;
            font-weight: 700 !important;
            line-height: 1 !important;
            padding: 0 !important;
        }
        
        /* Bouton d'envoi - centrage parfait de la flèche */
        .chat-send-btn {
            width: 48px !important;
            height: 48px !important;
            border-radius: 50% !important;
            font-size: 1.4rem !important;
            line-height: 1 !important;
            padding: 0 !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }

        /* ============ RESPONSIVE DESIGN AMÉLIORÉ ============ */

        /* Petits mobiles (320px - 480px) */
        @media (max-width: 480px) {
            /* Prevent horizontal overflow */
            html, body {
                overflow-x: hidden;
                max-width: 100vw;
            }

            .intro-logo img {
                height: 160px !important;
            }

            .logo-btn img {
                height: 60px !important;
                width: auto !important;
                object-fit: contain !important;
                max-width: none !important;
            }

            /* Sidebar réduite sur mobile mais toujours visible */
            .mini-sidebar {
                width: 50px;
                display: flex !important;
                padding: 15px 0;
                gap: 8px;
            }

            body {
                padding-left: 50px;
            }

            .mini-sidebar-item {
                width: 40px;
                height: 40px;
                font-size: 18px;
            }

            .sidebar-switcher {
                width: 42px;
                height: 42px;
                border-width: 2px;
            }

            .sidebar-switcher-text {
                font-size: 10px;
            }

            .card {
                width: calc(100% - 40px) !important;
                max-width: 280px;
                margin: 0 auto;
                box-sizing: border-box;
            }

            .circuit-line {
                width: 100% !important;
                max-width: 200px;
                opacity: 0.05 !important;
            }

            .chat-input-area {
                padding: 12px 16px !important;
            }

            .chat-input-container {
                width: calc(100% - 24px) !important;
                max-width: 100%;
                box-sizing: border-box;
                padding: 8px 12px !important;
                font-size: 14px !important;
            }

            .chat-header {
                padding: 16px 12px !important;
            }

            .chat-header h2 {
                font-size: 1.1rem !important;
            }

            /* Chat input field */
            #chatInput {
                font-size: 14px !important;
                padding: 10px 12px !important;
                max-width: 100% !important;
            }

            /* Landing titles */
            .landing-hero h1 {
                font-size: 1.8rem !important;
                line-height: 1.2 !important;
            }

            .landing-hero p {
                font-size: 0.95rem !important;
                padding: 0 12px !important;
            }

            /* Cards adaptées */
            .card {
                padding: 16px 12px !important;
                font-size: 0.85rem !important;
            }

            .card h3 {
                font-size: 1rem !important;
            }

            /* Bubbles */
            .choice-bubble {
                padding: 12px !important;
                min-height: 100px !important;
            }

            .choice-bubble-title {
                font-size: 0.95rem !important;
            }

            .choice-bubble-desc {
                font-size: 0.8rem !important;
            }

            /* S'assurer qu'aucun élément ne déborde */
            * {
                max-width: 100% !important;
                box-sizing: border-box !important;
            }

            /* Chat messages */
            .user-message, .assistant-message {
                max-width: 85% !important;
                font-size: 0.9rem !important;
                padding: 10px 12px !important;
            }

            .dynamic-island {
                font-size: 9px;
                padding: 3px 8px;
                width: 140px !important; /* TAILLE FIXE - ne change jamais */
                min-width: 140px !important;
                max-width: 140px !important;
                height: 32px;
                overflow: hidden; /* Scroll interne pour le texte */
            }

            /* Scroll horizontal pour le contenu qui dépasse */
            .island-content {
                white-space: nowrap;
                overflow: hidden;
            }

            /* FONDS UNIS MOBILES - iOS & Android (Terracota IT + Ivoire Gov) */
            body {
                background: #C44D33 !important; /* Terracota IT premium */
            }

            body.theme-gov {
                background: #F5F3ED !important; /* Ivoire Gov premium */
            }

            /* Désactiver TOUS gradients, projecteurs et grilles sur mobile */
            body::before, body::after,
            body.theme-gov::before, body.theme-gov::after,
            body.welcome-mode::before, body.welcome-mode::after,
            .expertise-modal::before {
                display: none !important;
                background: transparent !important;
                opacity: 0 !important;
            }

            /* DÉSACTIVER BACKDROP-FILTER SUR iOS - Remplacer par backgrounds solides */
            .dynamic-island,
            .mini-sidebar,
            .hamburger-button,
            .mobile-menu-overlay,
            .sidebar,
            .sidebar-backdrop,
            .choice-bubble,
            .questions-dropdown,
            .expertise-modal-content,
            .chat-header,
            .chat-input-area {
                backdrop-filter: none !important;
                -webkit-backdrop-filter: none !important;
            }

            /* Backgrounds solides pour remplacer glassmorphism */
            .dynamic-island {
                background: rgba(20, 20, 20, 0.96) !important;
            }

            .hamburger-button {
                background: rgba(20, 20, 20, 0.95) !important;
            }

            .mobile-menu-overlay {
                background: rgba(20, 20, 20, 0.98) !important;
            }

            .chat-header {
                background: rgba(255, 255, 255, 0.98) !important;
            }

            body.theme-it .chat-header {
                background: rgba(20, 20, 20, 0.98) !important;
            }

            .chat-input-area {
                background: rgba(255, 255, 255, 0.98) !important;
            }

            body.theme-it .chat-input-area {
                background: rgba(20, 20, 20, 0.98) !important;
            }

            /* Gov theme overrides */
            body.theme-gov .dynamic-island {
                background: rgba(245, 245, 247, 0.96) !important;
            }

            body.theme-gov .hamburger-button {
                background: rgba(245, 245, 247, 0.95) !important;
            }

            body.theme-gov .mobile-menu-overlay {
                background: rgba(245, 245, 247, 0.98) !important;
            }

            /* Landing sections spacing */
            .landing-sections {
                padding: 40px 16px;
            }

            .landing-section-title {
                font-size: 1.75rem;
                line-height: 1.2;
            }

            /* Logo text size */
            .welcome-content > div {
                font-size: 80px !important;
            }

            /* Full-screen modal/chat on mobile */
            .expertise-modal {
                left: 50px;
                width: calc(100% - 50px);
            }

            .expertise-modal::before,
            .expertise-modal::after {
                left: 50px;
                width: calc(100% - 50px);
            }

            .expertise-modal-content {
                margin: 0 !important;
                padding: 70px 16px 20px !important;
                border-radius: 0 !important;
                height: 100vh;
                max-width: 100% !important;
                box-sizing: border-box;
            }

            .expertise-modal-close {
                top: 15px !important;
                right: 15px !important;
                width: 40px !important;
                height: 40px !important;
            }

            .chat-messages {
                max-height: calc(100vh - 200px) !important;
            }

            /* Hero mobile - même positionnement que desktop (2ème quart) */
            .landing-hero {
                min-height: 100vh;
                padding: 28vh 20px 40px 20px;
                justify-content: flex-start;
                text-align: center !important;
                margin-left: 0 !important;
                margin-right: 0 !important;
                display: flex !important;
                flex-direction: column !important;
                align-items: center !important;
            }

            .landing-sections {
                padding: 40px 20px;
            }
        }

        /* Mobiles standards (481px - 768px) */
        @media (min-width: 481px) and (max-width: 768px) {
            html, body {
                overflow-x: hidden;
                max-width: 100vw;
            }

            .intro-logo img {
                height: 220px !important;
            }

            .logo-btn img {
                height: 84px !important;
            }

            .mini-sidebar {
                width: 60px;
            }

            body.has-mini-sidebar {
                padding-left: 60px;
            }

            .card {
                width: calc(100% - 40px);
                max-width: 320px;
                margin: 0 auto;
                box-sizing: border-box;
            }

            .chat-input-container {
                width: calc(100% - 32px) !important;
                box-sizing: border-box;
            }

            /* Hero centrage tablette */
            .landing-hero {
                padding: 100px 30px 50px 30px;
            }

            .dynamic-island {
                max-width: calc(100vw - 120px);
            }

            /* Logo text size */
            .welcome-content > div {
                font-size: 100px !important;
            }
        }

        /* Tablettes (769px - 1024px) */
        @media (min-width: 769px) and (max-width: 1024px) {
            .card {
                width: 260px;
            }

            .mini-sidebar {
                width: 65px;
            }

            body.has-mini-sidebar {
                padding-left: 65px;
            }

            .chat-container {
                max-width: 700px;
            }
        }

        /* Grands écrans (1440px+) */
        @media (min-width: 1440px) {
            .card {
                width: 320px;
                height: 320px;
            }

            .chat-container {
                max-width: 900px;
            }

            .intro-logo img {
                height: 300px !important;
            }

            .logo-btn img {
                height: 120px !important;
            }
        }

        /* Desktop standard (769px - 1439px) */
        @media (min-width: 769px) and (max-width: 1439px) {
            .intro-logo img {
                height: 280px !important;
            }

            .logo-btn img {
                height: 102px !important;
            }
        }

        /* Activation burger menu sur mobile/tablette (≤768px) */
        @media (max-width: 768px) {
            /* Masquer la mini-sidebar permanente */
            .mini-sidebar {
                display: none !important;
            }

            /* Afficher le burger menu */
            .hamburger-button {
                display: flex !important;
            }

            /* Activer le menu mobile overlay */
            .mobile-menu-overlay {
                display: block !important;
            }

            /* Retirer le padding-left créé par la sidebar */
            body, body.has-mini-sidebar {
                padding-left: 0 !important;
            }

            /* Ajuster la dynamic island sans la sidebar */
            .dynamic-island {
                max-width: calc(100vw - 40px) !important;
            }
        }
    </style>
</head>
<body>
    <!-- Hamburger Menu Button (Mobile only) -->
    <div class="hamburger-button" id="hamburgerButton">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenu">
        <!-- Expertises - Star Icon (même que mini-sidebar) -->
        <div class="mobile-menu-item" data-action="expertises">
            <svg viewBox="0 0 24 24">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
            </svg>
            <span>Expertises</span>
        </div>

        <!-- Découvrir - Compass Icon (même que mini-sidebar) -->
        <div class="mobile-menu-item" data-action="decouvrir">
            <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"></circle>
                <polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>
            </svg>
            <span>Découvrir</span>
        </div>

        <div class="mobile-menu-separator"></div>

        <!-- Nous rejoindre - People Icon (même que mini-sidebar) -->
        <div class="mobile-menu-item" data-action="rejoindre">
            <svg viewBox="0 0 24 24">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span>Nous rejoindre</span>
        </div>

        <!-- Contact - Envelope Icon (même que mini-sidebar) -->
        <div class="mobile-menu-item" data-action="contact">
            <svg viewBox="0 0 24 24">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
            <span>Contact</span>
        </div>

        <div class="mobile-menu-separator"></div>

        <!-- Switcher IT/Gov - Computer Emoji -->
        <div class="mobile-menu-item" data-action="switch" id="mobileSwitcher">
            <svg viewBox="0 0 24 24" style="stroke-width: 2.5;">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                <line x1="8" y1="21" x2="16" y2="21"></line>
                <line x1="12" y1="17" x2="12" y2="21"></line>
            </svg>
            <span id="mobileSwitcherText">Passer à Gouvernance</span>
        </div>
    </div>

    <!-- Animation intro -->
    <div class="intro-animation active" id="introAnimation">
        <div class="intro-logo" style="display: flex; align-items: center; justify-content: center;">
            <img src="LOGOOFFremovebg.png" alt="Codentis" style="height: 300px; width: auto;">
        </div>
    </div>

    <!-- Circuits électriques -->
    <div class="tech-overlay">
        <div class="circuit-lines">
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
        </div>
    </div>

    <!-- Mini Sidebar Permanente -->
    <div class="mini-sidebar" id="miniSidebar">
        <!-- Expertises -->
        <div class="mini-sidebar-item" data-tooltip="Expertises" onclick="openSidebarSection('expertises')">
            <svg viewBox="0 0 24 24">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
            </svg>
        </div>

        <!-- Découvrir -->
        <div class="mini-sidebar-item" data-tooltip="Découvrir" onclick="openSidebarSection('decouvrir')">
            <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"></circle>
                <polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>
            </svg>
        </div>

        <!-- Nous rejoindre -->
        <div class="mini-sidebar-item" data-tooltip="Nous rejoindre & Partenariat" onclick="openSidebarSection('rejoindre')">
            <svg viewBox="0 0 24 24">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
        </div>

        <div class="mini-sidebar-separator"></div>

        <!-- Contact -->
        <div class="mini-sidebar-item" data-tooltip="Informations & Contacts" onclick="openSidebarSection('contact')">
            <svg viewBox="0 0 24 24">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
        </div>

        <!-- Bouton switcher IT/GOUV -->
        <div class="sidebar-switcher" id="sidebarSwitcher" onclick="toggleTheme()">
            <div class="sidebar-switcher-icon">💻</div>
            <div class="sidebar-switcher-text">Gouv</div>
        </div>
    </div>

    <!-- Logo -->
    <button class="logo-btn" id="logoBtn" onclick="goHome()" style="background: transparent; border: none; cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
        <img src="LOGOOFFremovebg.png" alt="Codentis" style="height: 880px; width: auto;">
    </button>

    <!-- Dynamic Island V15 -->
    <div class="dynamic-island" id="dynamicIsland" onclick="showExperts()">
        <div class="island-content" id="islandContent">LES EXPERTS ET STRATÈGES</div>
    </div>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-content">
            <button class="sidebar-close" onclick="toggleSidebar()">×</button>
            
            <div class="sidebar-brand">
                <h2>Codentis</h2>
                <p>Services. Solutions. Sans limites.</p>
            </div>

            <div id="sidebarMenu">
                <!-- Sera rempli dynamiquement -->
            </div>
        </div>
    </aside>

    <!-- Backdrop pour flouter le fond quand la sidebar est ouverte -->
    <div class="sidebar-backdrop" id="sidebarBackdrop" onclick="toggleSidebar()"></div>

    <!-- Bouton Switch -->
    <button class="site-switcher" id="siteSwitcher" onclick="switchSite()"></button>

    <!-- Page d'accueil -->
    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-content">
            <!-- Logo Codentis -->
            <div style="font-family: 'Inter', sans-serif; font-size: 140px; font-weight: 900; color: #f5f5f7; margin-bottom: 20px; letter-spacing: -2px; text-shadow: 0 4px 12px rgba(26, 15, 10, 0.15);">
                Codentis
            </div>
            <p class="welcome-text">
                Missions courtes ou longues, nous apportons l'expertise dont vous avez besoin,<br>
                quand vous en avez besoin.<br>
                Sur quel domaine souhaitez-vous être accompagné ?
            </p>
            <div class="welcome-choices">
                <div class="choice-bubble" onclick="selectSite('it')">
                    <div class="bubble-content">
                        <div class="bubble-icon">
                            <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" style="width: 70px; height: 70px;">
                                <path d="M8 12h48v36H8z" fill="none" stroke="currentColor" stroke-width="2"/>
                                <rect x="12" y="16" width="40" height="24" fill="none" stroke="currentColor" stroke-width="2"/>
                                <path d="M22 26l6 6-6 6M34 38h8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                <rect x="24" y="48" width="16" height="8" fill="none" stroke="currentColor" stroke-width="2"/>
                                <path d="M32 48V44M8 44h48" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="bubble-text">
                            <div class="bubble-title">Expertise Technique IT</div>
                            <div class="bubble-desc">Data & IA • Développement • Cybersécurité • Cloud</div>
                        </div>
                    </div>
                </div>
                <div class="choice-bubble" onclick="selectSite('gov')">
                    <div class="bubble-content">
                        <div class="bubble-icon">
                            <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" style="width: 70px; height: 70px;">
                                <circle cx="32" cy="32" r="20" fill="none" stroke="currentColor" stroke-width="2"/>
                                <circle cx="32" cy="32" r="3" fill="currentColor"/>
                                <path d="M32 32L45 19M32 32L19 45M32 32L45 45M32 32L19 19" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                <circle cx="45" cy="19" r="3" fill="currentColor"/>
                                <circle cx="19" cy="45" r="3" fill="currentColor"/>
                                <circle cx="45" cy="45" r="3" fill="currentColor"/>
                                <circle cx="19" cy="19" r="3" fill="currentColor"/>
                            </svg>
                        </div>
                        <div class="bubble-text">
                            <div class="bubble-title">Gouvernance & Stratégie</div>
                            <div class="bubble-desc">Product • Agilité • Transformation • Pilotage</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Landing IT -->
    <div class="main-container" id="landingIT">
        <!-- Hero section - Contenu principal centré -->
        <div class="landing-hero">
            <h1 class="brand-title">Lab Technique</h1>
            <p class="intro-text">
                Experts techniques pour vos projets<br>
                Posez votre question, nos équipes évaluent votre besoin et vous répondent sous 24h
            </p>
            <div class="search-bar">
                <input type="text" class="search-input" id="questionInput" placeholder="Comment notre équipe peut vous aider ?" onfocus="toggleDropdown('dropdownIT')">            <button class="search-submit-btn" onclick="submitQuestion('questionInput')">→</button>
                <div class="questions-dropdown" id="dropdownIT">
                    <div class="dropdown-title">Exemples de questions :</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownIT')">Comment sécuriser notre infrastructure cloud ?</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownIT')">Besoin d'un audit cybersécurité ?</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownIT')">Comment structurer notre transformation digitale ?</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownIT')">Organiser un workshop sur l'IA ?</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownIT')">Accompagnement sur un projet Data ?</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownIT')">Conseil stratégique IT ?</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownIT')">Formation agile pour nos équipes ?</div>
                </div>
            </div>
        </div>

        <!-- Sections scrollables -->
        <div class="landing-sections">
            <div class="landing-section">
                <h2 class="landing-section-title">Notre Histoire</h2>
                <p class="landing-section-subtitle">L'ALLIANCE DE L'EXPERTISE TECHNIQUE, PRODUIT & STRATÉGIQUE</p>
                <div class="landing-section-content">
                    <div style="background: linear-gradient(135deg, rgba(255, 127, 92, 0.12) 0%, rgba(255, 127, 92, 0.05) 100%); padding: 30px; border-radius: 16px; border-left: 4px solid #FF7F5C; margin-bottom: 30px; box-shadow: 0 8px 30px rgba(255, 127, 92, 0.15);">
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 20px;">Chez Codentis, nous combinons <strong>expertise technique et vision stratégique</strong> pour accompagner ceux qui font face à des <strong>enjeux IT et business complexes</strong>. Nos clients nous sollicitent aussi bien pour des <strong>missions techniques pointues</strong> (audits cybersécurité, architectures cloud, projets data/IA) que pour des <strong>transformations organisationnelles</strong> (gouvernance IT, coaching agile, product ownership, conduite du changement). Qu'il s'agisse d'interventions longues ou de missions courtes à fort impact, nous combinons <strong>excellence technique, sens du produit et accompagnement humain</strong>.</p>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(255, 127, 92, 0.12) 0%, rgba(255, 127, 92, 0.05) 100%); padding: 30px; border-radius: 16px; border-left: 4px solid #FF7F5C; margin-bottom: 30px; box-shadow: 0 8px 30px rgba(255, 127, 92, 0.15);">
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 20px;">Chaque membre de Codentis est un <strong>chercheur de solutions</strong>, qu'elles soient techniques ou organisationnelles. Nous ne nous contentons pas de résoudre des problèmes IT : nous aidons nos clients à <strong>transformer leurs ambitions en résultats concrets</strong>. Cela passe par la définition de stratégies produit, l'optimisation de la gouvernance IT, le coaching d'équipes, la refonte d'architectures ou encore l'accélération de projets critiques. Notre <strong>approche personnalisée</strong> et notre <strong>suivi continu</strong> garantissent que chaque intervention crée un impact réel et durable.</p>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(255, 127, 92, 0.12) 0%, rgba(255, 127, 92, 0.05) 100%); padding: 30px; border-radius: 16px; border-left: 4px solid #FF7F5C; margin-bottom: 30px; box-shadow: 0 8px 30px rgba(255, 127, 92, 0.15);">
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 20px;">Cette philosophie se reflète aussi dans notre site web. Sur notre page d'accueil, vous pouvez poser votre question à l'un de nos experts et recevoir une <strong>réponse sous 24h</strong>, une manière concrète de montrer que notre <strong>engagement est réel</strong>, même pour des besoins ponctuels ou des audits rapides.</p>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(255, 127, 92, 0.12) 0%, rgba(255, 127, 92, 0.05) 100%); padding: 30px; border-radius: 16px; border-left: 4px solid #FF7F5C; margin-bottom: 40px; box-shadow: 0 8px 30px rgba(255, 127, 92, 0.15);">
                        <p style="font-size: 1.05rem; line-height: 1.8;"><strong>Codentis</strong>, c'est l'alliance de l'<strong>expertise technique pointue</strong>, de la <strong>vision produit et stratégique</strong>, et du <strong>service sur-mesure</strong>. Nous intervenons aussi bien sur des sujets d'architecture et de développement que sur la définition de roadmaps produit, la transformation organisationnelle ou le pilotage de projets complexes. Cette <strong>double compétence technique et business</strong> fait notre singularité.</p>
                    </div>
                    
                    <h3 style="font-size: 1.6rem; color: #f5f5f7; margin-bottom: 25px; font-weight: 800;">Nos Domaines d'Excellence</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 40px;">
                        <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='rgba(255, 127, 92, 0.1)'; this.style.borderColor='rgba(255, 127, 92, 0.3)'" onmouseout="this.style.background='rgba(255, 127, 92, 0.05)'; this.style.borderColor='rgba(255, 127, 92, 0.2)'" onclick="openExpertiseModal('pageDataIA')">
                            <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C;">Data & IA</div>
                        </div>
                        <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='rgba(255, 127, 92, 0.1)'; this.style.borderColor='rgba(255, 127, 92, 0.3)'" onmouseout="this.style.background='rgba(255, 127, 92, 0.05)'; this.style.borderColor='rgba(255, 127, 92, 0.2)'" onclick="openExpertiseModal('pageDigital')">
                            <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C;">Développement</div>
                        </div>
                        <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='rgba(255, 127, 92, 0.1)'; this.style.borderColor='rgba(255, 127, 92, 0.3)'" onmouseout="this.style.background='rgba(255, 127, 92, 0.05)'; this.style.borderColor='rgba(255, 127, 92, 0.2)'" onclick="openExpertiseModal('pageInfrastructure')">
                            <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C;">Infrastructure & Cloud</div>
                        </div>
                        <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='rgba(255, 127, 92, 0.1)'; this.style.borderColor='rgba(255, 127, 92, 0.3)'" onmouseout="this.style.background='rgba(255, 127, 92, 0.05)'; this.style.borderColor='rgba(255, 127, 92, 0.2)'" onclick="openExpertiseModal('pageCybersecurity')">
                            <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C;">Cybersécurité</div>
                        </div>
                        <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='rgba(255, 127, 92, 0.1)'; this.style.borderColor='rgba(255, 127, 92, 0.3)'" onmouseout="this.style.background='rgba(255, 127, 92, 0.05)'; this.style.borderColor='rgba(255, 127, 92, 0.2)'" onclick="openExpertiseModal('pageGouvernance')">
                            <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C;">Gouvernance Opérationnelle & Stratégique</div>
                        </div>
                        <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='rgba(255, 127, 92, 0.1)'; this.style.borderColor='rgba(255, 127, 92, 0.3)'" onmouseout="this.style.background='rgba(255, 127, 92, 0.05)'; this.style.borderColor='rgba(255, 127, 92, 0.2)'" onclick="openExpertiseModal('pageWorkshops')">
                            <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C;">Workshops & Conférences</div>
                        </div>
                    </div>
                    
                    <h3 style="font-size: 1.6rem; color: #f5f5f7; margin-bottom: 25px; font-weight: 800;">Nos Valeurs</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px;">
                        <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(255, 127, 92, 0.15); border-radius: 12px;">
                            <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Excellence Technique & Stratégique</div>
                            <div style="font-size: 1rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Chaque mission repose sur une double expertise : technique (data, cloud, cyber, dev) et stratégique (product, gouvernance, transformation). Nous maîtrisons aussi bien le code que la vision produit.</div>
                        </div>
                        <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(255, 127, 92, 0.15); border-radius: 12px;">
                            <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Engagement & Responsabilité</div>
                            <div style="font-size: 1rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Nous nous impliquons pleinement auprès de nos clients et dans nos missions, en prenant la responsabilité des résultats.</div>
                        </div>
                        <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(255, 127, 92, 0.15); border-radius: 12px;">
                            <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Agilité & Réactivité</div>
                            <div style="font-size: 1rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Capacité à intervenir rapidement sur des besoins critiques et à adapter nos solutions aux situations uniques.</div>
                        </div>
                        <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(255, 127, 92, 0.15); border-radius: 12px;">
                            <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Orientation Service & Humain</div>
                            <div style="font-size: 1rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Chaque client et chaque talent bénéficie d'attention et de considération, avec pour objectif de dépasser les attentes.</div>
                        </div>
                        <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(255, 127, 92, 0.15); border-radius: 12px;">
                            <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Audace & Innovation</div>
                            <div style="font-size: 1rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Nous challengeons les standards et proposons des solutions inédites ou de niche pour apporter plus de valeur.</div>
                        </div>
                        <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(255, 127, 92, 0.15); border-radius: 12px;">
                            <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Esprit d'équipe & Partage</div>
                            <div style="font-size: 1rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Les forces combinées des fondateurs et des équipes créent une synergie unique, favorisant la collaboration et la co-construction.</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="landing-section">
                <h2 class="landing-section-title">Veille & Actualités</h2>
                <p class="landing-section-subtitle">ANALYSES & PERSPECTIVES TECH PAR NOS EXPERTS</p>
                <div class="landing-section-content">
                    <div style="background: linear-gradient(135deg, rgba(255, 127, 92, 0.12) 0%, rgba(255, 127, 92, 0.05) 100%); padding: 30px; border-radius: 16px; border-left: 4px solid #FF7F5C; margin-bottom: 30px; box-shadow: 0 8px 30px rgba(255, 127, 92, 0.15);">
                        <h3 style="font-size: 1.4rem; color: #f5f5f7; margin-bottom: 20px; font-weight: 800;">Marché IT France 2025 : Rapport Numeum</h3>
                        <p style="font-size: 1.05rem; line-height: 1.8;">Le dernier rapport Numeum révèle un ralentissement brutal du secteur numérique français avec une croissance limitée à <strong>+1,8% en 2025</strong> contre +4,1% en 2024.</p>
                    </div>
                    
                    <h4 style="font-size: 1.3rem; color: #f5f5f7; margin: 30px 0 20px 0; font-weight: 700;">Les chiffres clés 2024</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="background: rgba(255, 127, 92, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                            <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">Recul global</div>
                            <div style="font-size: 2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">-0,5%</div>
                            <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">Premier depuis 2009</div>
                        </div>
                        <div style="background: rgba(255, 127, 92, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                            <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">Effectifs IT</div>
                            <div style="font-size: 2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">666K</div>
                            <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">-7 000 postes en 1 an</div>
                        </div>
                        <div style="background: rgba(255, 127, 92, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                            <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">CA 2024</div>
                            <div style="font-size: 2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">€75,2Md</div>
                            <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">En baisse</div>
                        </div>
                    </div>
                    
                    <h4 style="font-size: 1.3rem; color: #f5f5f7; margin: 30px 0 20px 0; font-weight: 700;">Les secteurs en tension</h4>
                    <div style="background: linear-gradient(135deg, rgba(255, 127, 92, 0.12) 0%, rgba(255, 127, 92, 0.05) 100%); padding: 30px; border-radius: 16px; border-left: 4px solid #FF7F5C; margin-bottom: 30px; box-shadow: 0 8px 30px rgba(255, 127, 92, 0.15);">
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 20px;">Le marché s'est fragmenté en trois dynamiques distinctes. Si l'édition et le cloud résistent (+8,2%), d'autres segments s'effondrent. L'infogérance recule de <strong>-4,8%</strong>, la tierce maintenance applicative de <strong>-6,2%</strong>, et le conseil IT stratégique plonge de <strong>-9,8%</strong>.</p>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="background: rgba(255, 127, 92, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                            <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">Infogérance</div>
                            <div style="font-size: 2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">-4,8%</div>
                            <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">Externalisation en baisse</div>
                        </div>
                        <div style="background: rgba(255, 127, 92, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                            <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">TMA</div>
                            <div style="font-size: 2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">-6,2%</div>
                            <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">Maintenance en chute</div>
                        </div>
                        <div style="background: rgba(255, 127, 92, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                            <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">Conseil Tech</div>
                            <div style="font-size: 2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">-2,5%</div>
                            <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">Repli historique</div>
                        </div>
                        <div style="background: rgba(255, 127, 92, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                            <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">Éditeurs/Cloud</div>
                            <div style="font-size: 2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">+8,2%</div>
                            <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">Seul secteur positif</div>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(255, 127, 92, 0.08) 0%, rgba(255, 127, 92, 0.03) 100%); padding: 25px; border-radius: 12px; border-left: 3px solid #FF7F5C; margin-bottom: 30px;">
                        <div style="font-weight: 700; color: #FF7F5C; margin-bottom: 15px; font-size: 1.1rem;">Notre analyse – Codentis</div>
                        <div style="font-size: 1.05rem; line-height: 1.8;">Ce ralentissement brutal cache une réalité : <strong>le marché se réorganise</strong>. Les entreprises qui gèlent leurs projets IT aujourd'hui créent une dette technique qui explosera demain. Chez Codentis, nous voyons une opportunité : <strong>les missions courtes à fort impact</strong> (audits, diagnostics, quick-wins) explosent. Les DSI veulent de la valeur immédiate, pas des roadmaps à 18 mois.</div>
                    </div>
                    
                    <h4 style="font-size: 1.3rem; color: #f5f5f7; margin: 30px 0 20px 0; font-weight: 700;">Emploi : 7 000 postes disparus en 2024</h4>
                    <div style="background: linear-gradient(135deg, rgba(255, 127, 92, 0.12) 0%, rgba(255, 127, 92, 0.05) 100%); padding: 30px; border-radius: 16px; border-left: 4px solid #FF7F5C; margin-bottom: 30px; box-shadow: 0 8px 30px rgba(255, 127, 92, 0.15);">
                        <p style="font-size: 1.05rem; line-height: 1.8;">Premier recul de l'emploi IT depuis 2009. Les effectifs retombent à <strong>666 000 salariés</strong>, soit le niveau de 2022. 36% des entreprises prévoient de réduire leurs recrutements de jeunes diplômés et alternants.</p>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(255, 127, 92, 0.08) 0%, rgba(255, 127, 92, 0.03) 100%); padding: 25px; border-radius: 12px; border-left: 3px solid #FF7F5C;">
                        <div style="font-weight: 700; color: #FF7F5C; margin-bottom: 15px; font-size: 1.1rem;">Notre analyse – Codentis</div>
                        <div style="font-size: 1.05rem; line-height: 1.8;">Le marché se contracte mais <strong>les talents pointus restent en tension</strong>. Les profils IA, Data Engineer, Architectes Cloud et experts cybersécurité sont toujours ultra-demandés. Chez Codentis, nos consultants sont sur-sollicités : <strong>l'expertise bat le volume</strong>.</div>
                    </div>
                </div>
            </div>
            
            <!-- CTA Section -->
            <div class="cta-final">
                <h3>Besoin d'aide sur la <span style="color: #FF7F5C;">Technique & IT</span> ?</h3>
                <p>Un expert répond sous 24h !</p>
                <button onclick="scrollTopAndOpenSearch()" style="background: linear-gradient(135deg, rgba(245, 245, 247, 0.95) 0%, rgba(245, 245, 247, 0.85) 100%); color: #2a1810; padding: 18px 50px; border-radius: 50px; font-weight: 700; font-size: 1.15rem; border: none; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 6px 20px rgba(26, 15, 10, 0.15); font-family: 'Inter', sans-serif; display: inline-flex; align-items: center; gap: 10px;" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 8px 25px rgba(0, 0, 0, 0.25)'; this.style.background='linear-gradient(135deg, rgba(245, 245, 247, 1) 0%, rgba(245, 245, 247, 0.95) 100%)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 6px 20px rgba(26, 15, 10, 0.15)'; this.style.background='linear-gradient(135deg, rgba(245, 245, 247, 0.95) 0%, rgba(245, 245, 247, 0.85) 100%)'"><span style="font-size: 1.3rem;">↑</span> Poser ma question</button>
            </div>
        </div>
    </div>

    <!-- Landing Gouvernance -->
    <div class="main-container" id="landingGov">
        <!-- Hero section - Contenu principal centré -->
        <div class="landing-hero">
            <h1 class="brand-title">Hub Stratégique</h1>
            <p class="intro-text">
                Experts stratégiques pour vos projets<br>
                Posez votre question, nos équipes évaluent votre besoin et vous répondent sous 24h
            </p>
            <div class="search-bar">
                <input type="text" class="search-input" id="questionInputGov" placeholder="Comment notre équipe peut vous aider ?" onfocus="toggleDropdown('dropdownGov')">
                <button class="search-submit-btn" onclick="submitQuestion('questionInputGov')">→</button>
                <div class="questions-dropdown" id="dropdownGov">
                    <div class="dropdown-title">Exemples de questions :</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownGov')">Comment structurer notre roadmap produit ?</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownGov')">Besoin d'un Product Owner expérimenté ?</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownGov')">Déployer l'agilité à l'échelle dans l'entreprise ?</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownGov')">Accompagnement sur une transformation organisationnelle ?</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownGov')">Coaching pour nos Scrum Masters ?</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownGov')">Définir notre stratégie data & gouvernance ?</div>
                    <div class="question-item" onclick="selectQuestion(this, 'dropdownGov')">Aide au recrutement de profils tech ?</div>
                </div>
            </div>
        </div>

        <!-- Sections scrollables -->
        <div class="landing-sections">
            <div class="landing-section">
                <div class="story-container">
                    <div class="story-hero">
                        <h1 class="story-title">Notre Histoire</h1>
                        <p class="story-subtitle">L'ALLIANCE DE L'EXPERTISE TECHNIQUE, PRODUIT & STRATÉGIQUE</p>
                    </div>

                    <div class="story-section">
                        <div class="story-card">
                            <div class="story-text">
                                Chez Codentis, nous combinons <span class="highlight">expertise technique et vision stratégique</span> pour accompagner ceux qui font face à des <span class="highlight">enjeux IT et business complexes</span>. Nos clients nous sollicitent aussi bien pour des <span class="highlight">missions techniques pointues</span> (audits cybersécurité, architectures cloud, projets data/IA) que pour des <span class="highlight">transformations organisationnelles</span> (gouvernance IT, coaching agile, product ownership, conduite du changement). Qu'il s'agisse d'interventions longues ou de missions courtes à fort impact, nous combinons <span class="highlight">excellence technique, sens du produit et accompagnement humain</span>.
                            </div>
                        </div>
                    </div>

                    <div class="story-section">
                        <div class="story-card">
                            <div class="story-text">
                                Chaque membre de Codentis est un <span class="highlight">chercheur de solutions</span>, qu'elles soient techniques ou organisationnelles. Nous ne nous contentons pas de résoudre des problèmes IT : nous aidons nos clients à <span class="highlight">transformer leurs ambitions en résultats concrets</span>. Cela passe par la définition de stratégies produit, l'optimisation de la gouvernance IT, le coaching d'équipes, la refonte d'architectures ou encore l'accélération de projets critiques. Notre <span class="highlight">approche personnalisée</span> et notre <span class="highlight">suivi continu</span> garantissent que chaque intervention crée un impact réel et durable.
                            </div>
                        </div>
                    </div>

                    <div class="story-section">
                        <div class="story-card">
                            <div class="story-text">
                                Cette philosophie se reflète aussi dans notre site web. Sur notre page d'accueil, vous pouvez poser votre question à l'un de nos experts et recevoir une <span class="highlight">réponse sous 24h</span>, une manière concrète de montrer que notre <span class="highlight">engagement est réel</span>, même pour des besoins ponctuels ou des audits rapides.
                            </div>
                        </div>
                    </div>

                    <div class="story-section">
                        <div class="story-card">
                            <div class="story-text">
                                <span class="highlight">Codentis</span>, c'est l'alliance de l'<span class="highlight">expertise technique pointue</span>, de la <span class="highlight">vision produit et stratégique</span>, et du <span class="highlight">service sur-mesure</span>. Nous intervenons aussi bien sur des sujets d'architecture et de développement que sur la définition de roadmaps produit, la transformation organisationnelle ou le pilotage de projets complexes. Cette <span class="highlight">double compétence technique et business</span> fait notre singularité.
                            </div>
                        </div>
                    </div>

                    <div class="story-section">
                        <div class="story-card">
                            <h3 class="section-header">Nos Domaines d'Excellence</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 30px;">
                                <div style="padding: 25px; background: rgba(245, 245, 247, 0.15); border: 2px solid rgba(203, 199, 190, 0.6); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(203, 199, 190, 0.2);" onmouseover="this.style.background='rgba(245, 245, 247, 0.3)'; this.style.borderColor='rgba(203, 199, 190, 0.9)'; this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 20px rgba(203, 199, 190, 0.35)'" onmouseout="this.style.background='rgba(245, 245, 247, 0.15)'; this.style.borderColor='rgba(203, 199, 190, 0.6)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(203, 199, 190, 0.2)'" onclick="openExpertiseModal('pageDataIAGov')">
                                    <div style="font-size: 1.2rem; font-weight: 700; color: #2a1810;">Data & IA</div>
                                </div>
                                <div style="padding: 25px; background: rgba(245, 245, 247, 0.15); border: 2px solid rgba(203, 199, 190, 0.6); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(203, 199, 190, 0.2);" onmouseover="this.style.background='rgba(245, 245, 247, 0.3)'; this.style.borderColor='rgba(203, 199, 190, 0.9)'; this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 20px rgba(203, 199, 190, 0.35)'" onmouseout="this.style.background='rgba(245, 245, 247, 0.15)'; this.style.borderColor='rgba(203, 199, 190, 0.6)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(203, 199, 190, 0.2)'" onclick="openExpertiseModal('pageDigitalGov')">
                                    <div style="font-size: 1.2rem; font-weight: 700; color: #2a1810;">Développement</div>
                                </div>
                                <div style="padding: 25px; background: rgba(245, 245, 247, 0.15); border: 2px solid rgba(203, 199, 190, 0.6); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(203, 199, 190, 0.2);" onmouseover="this.style.background='rgba(245, 245, 247, 0.3)'; this.style.borderColor='rgba(203, 199, 190, 0.9)'; this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 20px rgba(203, 199, 190, 0.35)'" onmouseout="this.style.background='rgba(245, 245, 247, 0.15)'; this.style.borderColor='rgba(203, 199, 190, 0.6)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(203, 199, 190, 0.2)'" onclick="openExpertiseModal('pageInfrastructureGov')">
                                    <div style="font-size: 1.2rem; font-weight: 700; color: #2a1810;">Infrastructure & Cloud</div>
                                </div>
                                <div style="padding: 25px; background: rgba(245, 245, 247, 0.15); border: 2px solid rgba(203, 199, 190, 0.6); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(203, 199, 190, 0.2);" onmouseover="this.style.background='rgba(245, 245, 247, 0.3)'; this.style.borderColor='rgba(203, 199, 190, 0.9)'; this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 20px rgba(203, 199, 190, 0.35)'" onmouseout="this.style.background='rgba(245, 245, 247, 0.15)'; this.style.borderColor='rgba(203, 199, 190, 0.6)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(203, 199, 190, 0.2)'" onclick="openExpertiseModal('pageCybersecurityGov')">
                                    <div style="font-size: 1.2rem; font-weight: 700; color: #2a1810;">Cybersécurité</div>
                                </div>
                                <div style="padding: 25px; background: rgba(245, 245, 247, 0.15); border: 2px solid rgba(203, 199, 190, 0.6); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(203, 199, 190, 0.2);" onmouseover="this.style.background='rgba(245, 245, 247, 0.3)'; this.style.borderColor='rgba(203, 199, 190, 0.9)'; this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 20px rgba(203, 199, 190, 0.35)'" onmouseout="this.style.background='rgba(245, 245, 247, 0.15)'; this.style.borderColor='rgba(203, 199, 190, 0.6)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(203, 199, 190, 0.2)'" onclick="openExpertiseModal('pageGouvernance')">
                                    <div style="font-size: 1.2rem; font-weight: 700; color: #2a1810;">Gouvernance Opérationnelle & Stratégique</div>
                                </div>
                                <div style="padding: 25px; background: rgba(245, 245, 247, 0.15); border: 2px solid rgba(203, 199, 190, 0.6); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(203, 199, 190, 0.2);" onmouseover="this.style.background='rgba(245, 245, 247, 0.3)'; this.style.borderColor='rgba(203, 199, 190, 0.9)'; this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 20px rgba(203, 199, 190, 0.35)'" onmouseout="this.style.background='rgba(245, 245, 247, 0.15)'; this.style.borderColor='rgba(203, 199, 190, 0.6)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(203, 199, 190, 0.2)'" onclick="openExpertiseModal('pageWorkshopsGov')">
                                    <div style="font-size: 1.2rem; font-weight: 700; color: #2a1810;">Workshops & Conférences</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="story-section">
                        <div class="story-card">
                            <h3 class="section-header">Nos Valeurs</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 30px;">
                                <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(245, 245, 247, 0.15); border-radius: 12px;">
                                    <div style="font-size: 1.2rem; font-weight: 700; color: #2a1810; margin-bottom: 12px;">Excellence Technique & Stratégique</div>
                                    <div style="font-size: 1rem; line-height: 1.7; color: rgba(26, 26, 26, 0.85);">Chaque mission repose sur une double expertise : technique (data, cloud, cyber, dev) et stratégique (product, gouvernance, transformation). Nous maîtrisons aussi bien le code que la vision produit.</div>
                                </div>
                                <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(245, 245, 247, 0.15); border-radius: 12px;">
                                    <div style="font-size: 1.2rem; font-weight: 700; color: #2a1810; margin-bottom: 12px;">Engagement & Responsabilité</div>
                                    <div style="font-size: 1rem; line-height: 1.7; color: rgba(26, 26, 26, 0.85);">Nous nous impliquons pleinement auprès de nos clients et dans nos missions, en prenant la responsabilité des résultats.</div>
                                </div>
                                <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(245, 245, 247, 0.15); border-radius: 12px;">
                                    <div style="font-size: 1.2rem; font-weight: 700; color: #2a1810; margin-bottom: 12px;">Agilité & Réactivité</div>
                                    <div style="font-size: 1rem; line-height: 1.7; color: rgba(26, 26, 26, 0.85);">Capacité à intervenir rapidement sur des besoins critiques et à adapter nos solutions aux situations uniques.</div>
                                </div>
                                <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(245, 245, 247, 0.15); border-radius: 12px;">
                                    <div style="font-size: 1.2rem; font-weight: 700; color: #2a1810; margin-bottom: 12px;">Orientation Service & Humain</div>
                                    <div style="font-size: 1rem; line-height: 1.7; color: rgba(26, 26, 26, 0.85);">Chaque client et chaque talent bénéficie d'attention et de considération, avec pour objectif de dépasser les attentes.</div>
                                </div>
                                <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(245, 245, 247, 0.15); border-radius: 12px;">
                                    <div style="font-size: 1.2rem; font-weight: 700; color: #2a1810; margin-bottom: 12px;">Audace & Innovation</div>
                                    <div style="font-size: 1rem; line-height: 1.7; color: rgba(26, 26, 26, 0.85);">Nous challengeons les standards et proposons des solutions inédites ou de niche pour apporter plus de valeur.</div>
                                </div>
                                <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(245, 245, 247, 0.15); border-radius: 12px;">
                                    <div style="font-size: 1.2rem; font-weight: 700; color: #2a1810; margin-bottom: 12px;">Esprit d'équipe & Partage</div>
                                    <div style="font-size: 1rem; line-height: 1.7; color: rgba(26, 26, 26, 0.85);">Les forces combinées des fondateurs et des équipes créent une synergie unique, favorisant la collaboration et la co-construction.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="landing-section">
                <div class="story-container">
                    <div class="story-hero">
                        <h1 class="story-title">Veille & Actualités</h1>
                        <p class="story-subtitle">ANALYSES & PERSPECTIVES TECH PAR NOS EXPERTS</p>
                    </div>

                    <div class="story-section">
                        <div class="story-card">
                            <h3 class="section-header">Marché IT France 2025 : Rapport Numeum</h3>
                            <div class="story-text">
                                Le dernier rapport Numeum révèle un ralentissement brutal du secteur numérique français avec une croissance limitée à <span class="highlight">+1,8% en 2025</span> contre +4,1% en 2024.
                            </div>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0;">
                                <div style="background: rgba(245, 245, 247, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(245, 245, 247, 0.2);">
                                    <div class="stat-card-label">Croissance 2025</div>
                                    <div style="font-size: 2rem; font-weight: 900; color: #2a1810; margin-bottom: 5px;">+1,8%</div>
                                    <div class="stat-card-desc">vs +4,1% en 2024</div>
                                </div>
                                <div style="background: rgba(245, 245, 247, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(245, 245, 247, 0.2);">
                                    <div class="stat-card-label">ESN</div>
                                    <div style="font-size: 2rem; font-weight: 900; color: #2a1810; margin-bottom: 5px;">-2,1%</div>
                                    <div class="stat-card-desc">Premier recul</div>
                                </div>
                                <div style="background: rgba(245, 245, 247, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(245, 245, 247, 0.2);">
                                    <div class="stat-card-label">Infogérance</div>
                                    <div style="font-size: 2rem; font-weight: 900; color: #2a1810; margin-bottom: 5px;">-4,8%</div>
                                    <div class="stat-card-desc">Externalisation en baisse</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="story-section">
                        <div class="story-card">
                            <h3 class="section-header">Les secteurs porteurs</h3>
                            <div class="story-text">
                                Le marché IT français connaît une transformation profonde. Plusieurs secteurs affichent une croissance exceptionnelle et créent de nouvelles opportunités pour les experts techniques et stratégiques. Le Cloud & SaaS progresse de <span class="highlight">+12,5%</span>, l'IA & Data de <span class="highlight">+18,3%</span>, et la Cybersécurité de <span class="highlight">+15,7%</span>.
                            </div>

                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-top: 30px;">
                                <div style="background: rgba(245, 245, 247, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(245, 245, 247, 0.2);">
                                    <div class="stat-card-label">Cloud & SaaS</div>
                                    <div style="font-size: 2rem; font-weight: 900; color: #2a1810; margin-bottom: 5px;">+12,5%</div>
                                    <div class="stat-card-desc">Migration accélérée</div>
                                </div>
                                <div style="background: rgba(245, 245, 247, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(245, 245, 247, 0.2);">
                                    <div class="stat-card-label">IA & Data</div>
                                    <div style="font-size: 2rem; font-weight: 900; color: #2a1810; margin-bottom: 5px;">+18,3%</div>
                                    <div class="stat-card-desc">Demande explosive</div>
                                </div>
                                <div style="background: rgba(245, 245, 247, 0.08); padding: 20px; border-radius: 12px; text-align: center; border: 1px solid rgba(245, 245, 247, 0.2);">
                                    <div class="stat-card-label">Cybersécurité</div>
                                    <div style="font-size: 2rem; font-weight: 900; color: #2a1810; margin-bottom: 5px;">+15,7%</div>
                                    <div class="stat-card-desc">Enjeu prioritaire</div>
                                </div>
                            </div>

                            <div style="background: linear-gradient(135deg, rgba(245, 245, 247, 0.08) 0%, rgba(245, 245, 247, 0.03) 100%); padding: 25px; border-radius: 12px; border-left: 3px solid #5a5550; margin-top: 30px;">
                                <div style="font-weight: 700; color: #2a1810; margin-bottom: 15px; font-size: 1.1rem;">Notre analyse – Codentis</div>
                                <div class="story-text" style="margin: 0;">
                                    Le marché évolue vers <span class="highlight">plus de qualité et moins de volume</span>. Les entreprises cherchent des experts capables de livrer de la valeur immédiate : audits, diagnostics, POC, quick-wins. Chez Codentis, nous constatons une <span class="highlight">explosion des missions courtes à fort impact</span>. Les DSI veulent des résultats tangibles, pas des roadmaps à 18 mois.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="story-section">
                        <div class="story-card">
                            <h3 class="section-header">Compétences IT recherchées</h3>
                            <div class="story-text">
                                Le marché de l'emploi IT se concentre sur l'expertise de pointe. Les profils spécialisés en <span class="highlight">IA/ML</span>, <span class="highlight">architecture cloud</span>, <span class="highlight">cybersécurité</span>, <span class="highlight">data engineering</span> et <span class="highlight">product ownership</span> sont sur-sollicités et créent un impact immédiat sur les projets stratégiques.
                            </div>
                            <div style="background: linear-gradient(135deg, rgba(245, 245, 247, 0.08) 0%, rgba(245, 245, 247, 0.03) 100%); padding: 25px; border-radius: 12px; border-left: 3px solid #5a5550; margin-top: 20px;">
                                <div style="font-weight: 700; color: #2a1810; margin-bottom: 15px; font-size: 1.1rem;">Notre analyse – Codentis</div>
                                <div class="story-text" style="margin: 0;">
                                    Le marché se contracte mais <span class="highlight">les talents pointus restent en tension</span>. Les profils IA, Data Engineer, Architectes Cloud et experts cybersécurité sont toujours ultra-demandés. Chez Codentis, nos consultants sont sur-sollicités : <span class="highlight">l'expertise bat le volume</span>.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- CTA Section finale -->
            <div class="cta-final">
                <h3>Besoin d'aide sur la <span style="color: #2a1810; font-weight: 900;">Gouvernance & Stratégie</span> ?</h3>
                <p>Un expert répond sous 24h !</p>
                <button onclick="scrollTopAndOpenSearch()" style="background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%); color: #2a1810; padding: 18px 50px; border-radius: 50px; font-weight: 700; font-size: 1.15rem; border: none; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 6px 20px rgba(26, 15, 10, 0.15); font-family: 'Inter', sans-serif; display: inline-flex; align-items: center; gap: 10px;" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 8px 25px rgba(0, 0, 0, 0.25)'; this.style.background='linear-gradient(135deg, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.95) 100%)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 6px 20px rgba(26, 15, 10, 0.15)'; this.style.background='linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)'"><span style="font-size: 1.3rem;">↑</span> Poser ma question</button>
            </div>
        </div>
    </div>

    <!-- Container pages - Sera rempli par JS -->
    <div id="contentPages"></div>

    <!-- Indicateur de scroll -->
    <div class="scroll-indicator" id="scrollIndicator">
        <div class="scroll-indicator-icon"></div>
    </div>

    <!-- BOUTONS SOCIAUX -->
    <div class="social-buttons">
        <a href="https://open.spotify.com/playlist/45ngfo71ETCssYI9G30ycT" target="_blank" class="social-button" title="Spotify">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/>
            </svg>
        </a>
        <a href="https://wa.me/33603062710" target="_blank" class="social-button" title="WhatsApp">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
            </svg>
        </a>
        <a href="https://www.linkedin.com/in/lucas-s-88949a14b/" target="_blank" class="social-button" title="LinkedIn">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
            </svg>
        </a>
    </div>

    <script>
        let currentSite = null;
        let currentPage = 'welcome';
        let islandAnimating = false;
        let islandTimeout = null;

        // Experts pour la Dynamic Island
        const expertsIT = [
            { name: 'Adrien', role: 'Architecte Logiciel & IoT' },
            { name: 'Karim', role: 'Architecte Fullstack .NET' },
            { name: 'Quentin', role: 'Expert Cybersécurité' },
            { name: 'Sophie', role: 'Data Scientist' },
            { name: 'Marc', role: 'Architecte Cloud' },
            { name: 'Julien', role: 'Lead Developer Python' },
            { name: 'Nadia', role: 'DevOps Engineer' },
            { name: 'Alexandre', role: 'Expert IA & Machine Learning' },
            { name: 'Émilie', role: 'Ingénieur Data' },
            { name: 'Romain', role: 'Architecte Microservices' },
            { name: 'Anaïs', role: 'Tech Lead React' },
            { name: 'Benjamin', role: 'Expert Kubernetes' }
        ];

        const expertsGov = [
            { name: 'Caroline', role: 'Coach Agile & Transformation' },
            { name: 'Céline', role: 'Directrice Projet IT' },
            { name: 'Thomas', role: 'Product Owner' },
            { name: 'Laura', role: 'UX Designer' },
            { name: 'David', role: 'Scrum Master' },
            { name: 'Marion', role: 'Product Manager' },
            { name: 'Julien', role: 'Chief Product Officer' },
            { name: 'Isabelle', role: 'Consultante Transformation' },
            { name: 'Nicolas', role: 'Responsable Gouvernance IT' },
            { name: 'Camille', role: 'UX Researcher' },
            { name: 'Mathieu', role: 'Release Train Engineer' },
            { name: 'Sophie', role: 'Business Analyst' }
        ];

        // Menus
        const menuIT = {
            expertises: [
                { id: 'pageDataIA', title: 'Data & IA', desc: 'Analytics, ML, IA Générative' },
                { id: 'pageDigital', title: 'Développement', desc: 'Web, Mobile, APIs' },
                { id: 'pageInfrastructure', title: 'Infrastructure Cloud & DevOps', desc: 'AWS, Azure, GCP' },
                { id: 'pageCybersecurity', title: 'Cybersécurité', desc: 'Audits, Pentests' },
                { id: 'pageWorkshops', title: 'Workshops & Conférences', desc: 'Formations' }
            ],
            decouvrir: [
                { id: 'pageHistoire', title: 'Notre Histoire', desc: 'Qui sommes-nous ?' },
                { id: 'pageVeille', title: 'Veille & Actualités', desc: 'Innovation' }
            ],
            rejoindre: [
                { id: 'pageRejoindre', title: 'Nous Rejoindre', desc: 'Carrières' },
                { id: 'pagePartenariat', title: 'Partenariat', desc: 'Abonnements' }
            ],
            contact: [
                { id: 'pageReseaux', title: 'Nos Réseaux', desc: 'Spotify, WhatsApp, LinkedIn...' },
                { id: 'pagePlaquette', title: 'Plaquette Commerciale', desc: 'Télécharger notre plaquette' }
            ]
        };

        const menuGov = {
            expertises: [
                { id: 'pageDataIAGov', title: 'Data & IA', desc: 'Stratégie data' },
                { id: 'pageDigitalGov', title: 'Développement', desc: 'Vision produit & UX' },
                { id: 'pageInfrastructureGov', title: 'Infrastructure Cloud & DevOps', desc: 'Transformation' },
                { id: 'pageCybersecurityGov', title: 'Cybersécurité', desc: 'SMSI, Conformité' },
                { id: 'pageGouvernance', title: 'Gouvernance Opérationnelle', desc: 'Agilité, PMO' },
                { id: 'pageRHTech', title: 'Transformation RH Tech', desc: 'Recrutement IT' },
                { id: 'pageWorkshopsGov', title: 'Workshops & Conférences', desc: 'Formations stratégiques' }
            ],
            decouvrir: [
                { id: 'pageHistoire', title: 'Notre Histoire', desc: 'Qui sommes-nous ?' },
                { id: 'pageVeille', title: 'Veille & Actualités', desc: 'Innovation' }
            ],
            rejoindre: [
                { id: 'pageRejoindre', title: 'Nous Rejoindre', desc: 'Carrières' },
                { id: 'pagePartenariat', title: 'Partenariat', desc: 'Abonnements' }
            ],
            contact: [
                { id: 'pageReseaux', title: 'Nos Réseaux', desc: 'Spotify, WhatsApp, LinkedIn...' },
                { id: 'pagePlaquette', title: 'Plaquette Commerciale', desc: 'Télécharger notre plaquette' }
            ]
        };

        // Fonction pour basculer entre les thèmes IT et GOV
        function toggleTheme() {
            const body = document.body;
            const landingIT = document.getElementById('landingIT');
            const landingGov = document.getElementById('landingGov');
            const switcherText = document.querySelector('.sidebar-switcher-text');
            const miniSidebar = document.getElementById('miniSidebar');

            // Basculer entre les thèmes
            if (body.classList.contains('theme-gov')) {
                // Passer de GOV à IT
                body.classList.remove('theme-gov');
                body.classList.add('theme-it');
                currentSite = 'it';

                // Afficher landing IT
                if (landingIT) landingIT.classList.add('active');
                if (landingGov) landingGov.classList.remove('active');

                // Changer le texte du bouton: afficher "Gouv" (car on est maintenant sur IT)
                if (switcherText) switcherText.textContent = 'Gouv';

                // Mettre à jour la sidebar
                if (miniSidebar) miniSidebar.classList.add('visible');
            } else {
                // Passer de IT à GOV
                body.classList.remove('theme-it');
                body.classList.add('theme-gov');
                currentSite = 'gov';

                // Afficher landing GOV
                if (landingGov) landingGov.classList.add('active');
                if (landingIT) landingIT.classList.remove('active');

                // Changer le texte du bouton: afficher "IT" (car on est maintenant sur GOV)
                if (switcherText) switcherText.textContent = 'IT';

                // Mettre à jour la sidebar
                if (miniSidebar) miniSidebar.classList.add('visible');
            }

            // Scroll en haut
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Init
        function init() {
            // Ajouter le mode welcome
            document.body.classList.add('welcome-mode');
            
            // Attendre la fin de l'animation d'intro
            setTimeout(() => {
                createContentPages();
                setupDropdowns();
                setupScrollEffects();
            }, 3000);
        }

        // Gérer les dropdowns de questions
        function setupDropdowns() {
            // Fermer les dropdowns quand on clique en dehors
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.search-bar')) {
                    document.querySelectorAll('.questions-dropdown').forEach(dropdown => {
                        dropdown.classList.remove('active');
                    });
                }
            });
        }

        function toggleDropdown(dropdownId) {
            const dropdown = document.getElementById(dropdownId);
            const allDropdowns = document.querySelectorAll('.questions-dropdown');
            
            // Fermer tous les autres dropdowns
            allDropdowns.forEach(d => {
                if (d.id !== dropdownId) {
                    d.classList.remove('active');
                }
            });
            
            // Toggle le dropdown cliqué
            dropdown.classList.toggle('active');
        }
        
        function scrollTopAndOpenSearch() {
            // Scroll smooth vers le haut de la page
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
            
            // Focus sur l'input de recherche après le scroll
            setTimeout(() => {
                const landingIT = document.getElementById('landingIT');
                const landingGov = document.getElementById('landingGov');
                
                // Déterminer quel input focus
                if (landingIT && landingIT.style.display !== 'none') {
                    const inputIT = document.getElementById('questionInputIT');
                    if (inputIT) inputIT.focus();
                } else if (landingGov && landingGov.style.display !== 'none') {
                    const inputGov = document.getElementById('questionInputGov');
                    if (inputGov) inputGov.focus();
                }
            }, 600);
        }

        function selectQuestion(element, dropdownId) {
            const question = element.textContent;
            const dropdown = document.getElementById(dropdownId);
            const input = dropdown.previousElementSibling.previousElementSibling; // Le bouton est maintenant entre l'input et le dropdown
            
            // Remettre l'input en mode éditable et remplir avec la question
            input.removeAttribute('readonly');
            input.value = question;
            input.focus();
            
            // Fermer le dropdown
            dropdown.classList.remove('active');
        }
        
        // Fonction pour soumettre la question
        function submitQuestion(inputId) {
            const input = document.getElementById(inputId);
            const question = input.value.trim();
            
            if (!question) {
                alert('Veuillez saisir ou sélectionner une question');
                return;
            }
            
            // Ouvrir la modal de contact avec la question pré-remplie
            openContactModal();
            
            // Pré-remplir le champ question dans la modal
            setTimeout(() => {
                const questionField = document.getElementById('question');
                if (questionField) {
                    questionField.value = question;
                }
            }, 100);
        }
        
        // Event listeners pour la touche Entrée
        document.addEventListener('DOMContentLoaded', function() {
            const questionInputIT = document.getElementById('questionInput');
            const questionInputGov = document.getElementById('questionInputGov');
            
            if (questionInputIT) {
                questionInputIT.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && !this.hasAttribute('readonly')) {
                        submitQuestion('questionInput');
                    }
                });
            }
            
            if (questionInputGov) {
                questionInputGov.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && !this.hasAttribute('readonly')) {
                        submitQuestion('questionInputGov');
                    }
                });
            }

            // ==================== MOBILE MENU HANDLERS ====================
            const hamburgerButton = document.getElementById('hamburgerButton');
            const mobileMenu = document.getElementById('mobileMenu');

            // Toggle mobile menu
            if (hamburgerButton && mobileMenu) {
                hamburgerButton.addEventListener('click', function() {
                    this.classList.toggle('active');
                    mobileMenu.classList.toggle('open');
                });

                // Close menu when clicking menu items
                document.querySelectorAll('.mobile-menu-item').forEach(item => {
                    item.addEventListener('click', function() {
                        const action = this.getAttribute('data-action');

                        // Close menu
                        hamburgerButton.classList.remove('active');
                        mobileMenu.classList.remove('open');

                        // Navigate using openSidebarSection (fonctionne sur toutes les pages)
                        switch(action) {
                            case 'expertises':
                                openSidebarSection('expertises');
                                break;
                            case 'decouvrir':
                                openSidebarSection('decouvrir');
                                break;
                            case 'rejoindre':
                                openSidebarSection('rejoindre');
                                break;
                            case 'contact':
                                openChatInterface();
                                break;
                            case 'switch':
                                switchSite(); // Utilise la fonction existante
                                updateMobileSwitcherText(); // Met à jour le texte
                                break;
                        }
                    });
                });

                // Close menu when clicking outside
                document.addEventListener('click', function(e) {
                    if (!hamburgerButton.contains(e.target) &&
                        !mobileMenu.contains(e.target) &&
                        mobileMenu.classList.contains('open')) {
                        hamburgerButton.classList.remove('active');
                        mobileMenu.classList.remove('open');
                    }
                });
            }
        });

        // Gestion du scroll pour les sections et l'indicateur
        function setupScrollEffects() {
            const scrollIndicator = document.getElementById('scrollIndicator');
            let hasScrolled = false;

            // Observer pour les sections qui apparaissent au scroll
            const observerOptions = {
                threshold: 0.05,
                rootMargin: '50px 0px 0px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            // Observer toutes les sections
            document.querySelectorAll('.landing-section').forEach(section => {
                observer.observe(section);
            });

            // Gestion de l'indicateur de scroll
            window.addEventListener('scroll', () => {
                if (window.scrollY > 100 && !hasScrolled) {
                    hasScrolled = true;
                    scrollIndicator.classList.add('hidden-on-scroll');
                } else if (window.scrollY <= 100 && hasScrolled) {
                    hasScrolled = false;
                    scrollIndicator.classList.remove('hidden-on-scroll');
                }
            });
        }

        // Afficher/masquer l'indicateur selon la page
        function updateScrollIndicator() {
            const scrollIndicator = document.getElementById('scrollIndicator');
            const landingIT = document.getElementById('landingIT');
            const landingGov = document.getElementById('landingGov');
            
            if ((landingIT && landingIT.classList.contains('active')) || 
                (landingGov && landingGov.classList.contains('active'))) {
                scrollIndicator.classList.add('visible');
            } else {
                scrollIndicator.classList.remove('visible');
            }
        }

        // Sélection du site
        function selectSite(site) {
            currentSite = site;
            document.body.classList.remove('welcome-mode');
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('logoBtn').classList.add('visible');
            document.getElementById('miniSidebar').classList.add('visible');
            document.getElementById('dynamicIsland').classList.add('visible');
            document.body.classList.add('has-mini-sidebar');

            const switcherText = document.querySelector('.sidebar-switcher-text');

            if (site === 'it') {
                document.body.classList.add('theme-it');
                document.body.classList.remove('theme-gov');
                document.getElementById('landingIT').classList.add('active');
                document.getElementById('siteSwitcher').textContent = 'Stratégie Gouvernance';
                // Mettre à jour le bouton sidebar: sur IT, afficher "Gouv"
                if (switcherText) switcherText.textContent = 'Gouv';
            } else {
                document.body.classList.add('theme-gov');
                document.body.classList.remove('theme-it');
                document.getElementById('landingGov').classList.add('active');
                document.getElementById('siteSwitcher').textContent = 'Expertise IT';
                // Mettre à jour le bouton sidebar: sur GOV, afficher "IT"
                if (switcherText) switcherText.textContent = 'IT';
            }

            document.getElementById('siteSwitcher').classList.add('visible');
            updateMenu();
            updateScrollIndicator();
            currentPage = 'landing';
            
            // Ouvrir le Dynamic Island automatiquement après 5 sec
            setTimeout(() => {
                if (currentPage === 'landing') {
                    showExperts();
                }
            }, 5000);
        }

        // Switch site
        function switchSite() {
            document.querySelectorAll('.work-in-progress, .main-container').forEach(p => p.classList.remove('active'));

            if (currentSite === 'it') {
                currentSite = 'gov';
                document.body.classList.remove('theme-it');
                document.body.classList.add('theme-gov');
                document.getElementById('landingGov').classList.add('active');
                document.getElementById('siteSwitcher').textContent = 'Expertise IT';
                // Update mobile switcher text
                const mobileSwitcher = document.getElementById('mobileSwitcherText');
                if (mobileSwitcher) mobileSwitcher.textContent = 'Passer à IT';
            } else {
                currentSite = 'it';
                document.body.classList.remove('theme-gov');
                document.body.classList.add('theme-it');
                document.getElementById('landingIT').classList.add('active');
                document.getElementById('siteSwitcher').textContent = 'Stratégie Gouvernance';
                // Update mobile switcher text
                const mobileSwitcher = document.getElementById('mobileSwitcherText');
                if (mobileSwitcher) mobileSwitcher.textContent = 'Passer à Gouvernance';
            }

            updateMenu();
            updateScrollIndicator();
            currentPage = 'landing';
            window.scrollTo(0, 0);

            // Ouvrir le Dynamic Island automatiquement après 5 sec
            setTimeout(() => {
                if (currentPage === 'landing') {
                    showExperts();
                }
            }, 5000);
        }

        // Retour home avec animation
        function goHome() {
            // Si on est sur une page de contenu (pas sur landing), retourner au landing IT/Gov
            const isOnLanding = currentPage === 'landing';
            
            if (!isOnLanding && currentSite) {
                // Retour au landing du site actuel
                document.querySelectorAll('.work-in-progress').forEach(p => p.classList.remove('active'));
                
                if (currentSite === 'it') {
                    document.getElementById('landingIT').classList.add('active');
                } else {
                    document.getElementById('landingGov').classList.add('active');
                }
                
                updateScrollIndicator();
                currentPage = 'landing';
                window.scrollTo(0, 0);
                return;
            }
            
            // Si on est déjà sur landing, retour au welcome screen avec animation
            const introAnimation = document.getElementById('introAnimation');
            introAnimation.classList.remove('active');
            void introAnimation.offsetWidth;
            introAnimation.classList.add('active');

            setTimeout(() => {
                document.querySelectorAll('.work-in-progress, .main-container').forEach(p => p.classList.remove('active'));

                const sidebar = document.getElementById('sidebar');
                const backdrop = document.getElementById('sidebarBackdrop');
                sidebar.classList.remove('open');
                backdrop.classList.remove('active');

                document.getElementById('welcomeScreen').classList.remove('hidden');
                document.getElementById('logoBtn').classList.remove('visible');
                document.getElementById('miniSidebar').classList.remove('visible');
                document.getElementById('dynamicIsland').classList.remove('visible');
                document.getElementById('siteSwitcher').classList.remove('visible');
                document.getElementById('scrollIndicator').classList.remove('visible');

                document.body.classList.remove('theme-it', 'theme-gov', 'has-mini-sidebar');
                document.body.classList.add('welcome-mode');
                
                currentSite = null;
                currentPage = 'welcome';
                window.scrollTo(0, 0);
            }, 3000);
        }

        // Toggle sidebar
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const backdrop = document.getElementById('sidebarBackdrop');
            sidebar.classList.toggle('open');
            backdrop.classList.toggle('active');
            
            // Si on ouvre la sidebar, afficher le menu complet
            if (sidebar.classList.contains('open')) {
                updateMenu();
            }
        }
        
        // Ouvrir la sidebar avec uniquement une section spécifique
        function openSidebarSection(section, siteType) {
            const sidebar = document.getElementById('sidebar');
            const backdrop = document.getElementById('sidebarBackdrop');

            // Sur welcome page, gérer différemment les sections non-expertises
            if (currentPage === 'welcome' && section !== 'expertises') {
                if (section === 'contact') {
                    // Ouvrir directement le chat
                    openChatInterface();
                    return;
                } else {
                    // Pour Découvrir et Rejoindre, afficher un message de sélection de track
                    const content = document.getElementById('sidebarMenu');
                    let sectionTitle = section === 'decouvrir' ? 'Découvrir' : 'Nous Rejoindre';

                    content.innerHTML = `
                        <div class="sidebar-section">
                            <h3>${sectionTitle}</h3>
                            <p style="color: rgba(245, 245, 247, 0.7); margin-bottom: 20px; font-size: 0.9rem;">
                                Sélectionnez d'abord votre parcours :
                            </p>
                            <div style="display: flex; flex-direction: column; gap: 12px;">
                                <div class="expertise-track-button" onclick="selectTrackAndNavigate('it', '${section}')">
                                    <span>Expertise Technique IT</span>
                                </div>
                                <div class="expertise-track-button" onclick="selectTrackAndNavigate('gov', '${section}')">
                                    <span>Gouvernance & Stratégie</span>
                                </div>
                            </div>
                        </div>
                    `;
                    sidebar.classList.add('open');
                    backdrop.classList.add('active');
                    return;
                }
            }

            // Si siteType n'est pas fourni, utiliser currentSite
            const site = siteType || currentSite;

            // S'assurer que currentSite est défini
            if (!currentSite && siteType) {
                currentSite = siteType;
            }

            const menuData = site === 'it' ? menuIT : menuGov;
            const content = document.getElementById('sidebarMenu');

            let html = '';

            // Afficher uniquement la section demandée
            if (section === 'expertises') {
                // Sur la welcome page, afficher un menu hiérarchique avec choix IT/Gov
                if (currentPage === 'welcome') {
                    html += '<div class="sidebar-section"><h3>Expertises</h3>';

                    // Bouton Expertise Technique IT
                    html += `
                        <div class="expertise-track-selector">
                            <div class="expertise-track-button" onclick="toggleExpertiseTrack('it')">
                                <span>Expertise Technique IT</span>
                                <svg class="track-arrow" id="arrow-it" viewBox="0 0 24 24" width="20" height="20">
                                    <path d="M7 10l5 5 5-5" stroke="currentColor" stroke-width="2" fill="none"/>
                                </svg>
                            </div>
                            <div class="expertise-track-dropdown" id="dropdown-it" style="display: none;">
                                <div class="expertise-tags">
                    `;
                    menuIT.expertises.forEach(item => {
                        html += `<div class="expertise-tag" onclick="selectTrackAndPage('it', '${item.id}')">${item.title}</div>`;
                    });
                    html += `
                                </div>
                            </div>
                        </div>
                    `;

                    // Bouton Gouvernance & Stratégie
                    html += `
                        <div class="expertise-track-selector">
                            <div class="expertise-track-button" onclick="toggleExpertiseTrack('gov')">
                                <span>Gouvernance & Stratégie</span>
                                <svg class="track-arrow" id="arrow-gov" viewBox="0 0 24 24" width="20" height="20">
                                    <path d="M7 10l5 5 5-5" stroke="currentColor" stroke-width="2" fill="none"/>
                                </svg>
                            </div>
                            <div class="expertise-track-dropdown" id="dropdown-gov" style="display: none;">
                                <div class="expertise-tags">
                    `;
                    menuGov.expertises.forEach(item => {
                        html += `<div class="expertise-tag" onclick="selectTrackAndPage('gov', '${item.id}')">${item.title}</div>`;
                    });
                    html += `
                                </div>
                            </div>
                        </div>
                    `;

                    html += '</div>';
                } else {
                    // Comportement normal quand on n'est pas sur la welcome page
                    html += '<div class="sidebar-section"><h3>Expertises</h3><div class="expertise-tags">';
                    menuData.expertises.forEach(item => {
                        html += `<div class="expertise-tag" onclick="showPage('${item.id}')">${item.title}</div>`;
                    });
                    html += '</div></div>';
                }
            } else if (section === 'decouvrir') {
                html += '<div class="sidebar-section"><h3>Découvrir</h3>';
                menuData.decouvrir.forEach(item => {
                    html += `<div class="sidebar-item" onclick="showPage('${item.id}')">${item.title}</div>`;
                });
                html += '</div>';
            } else if (section === 'rejoindre') {
                html += '<div class="sidebar-section"><h3>Nous Rejoindre & Partenariat</h3>';
                menuData.rejoindre.forEach(item => {
                    html += `<div class="sidebar-item" onclick="showPage('${item.id}')">${item.title}</div>`;
                });
                html += '</div>';
            } else if (section === 'contact') {
                html += '<div class="sidebar-section"><h3>Informations & Contacts</h3>';
                menuData.contact.forEach(item => {
                    html += `<div class="sidebar-item" onclick="showPage('${item.id}')">${item.title}</div>`;
                });
                html += '</div>';
            }
            
            content.innerHTML = html;
            sidebar.classList.add('open');
            backdrop.classList.add('active');
        }

        // Fermer le sidebar en cliquant n'importe où sur l'écran
        document.addEventListener('click', function(e) {
            const sidebar = document.getElementById('sidebar');
            const miniSidebar = document.getElementById('miniSidebar');
            const backdrop = document.getElementById('sidebarBackdrop');
            
            if (sidebar.classList.contains('open') && 
                !sidebar.contains(e.target) && 
                !miniSidebar.contains(e.target)) {
                sidebar.classList.remove('open');
                backdrop.classList.remove('active');
            }
        });

        // Update menu
        function updateMenu() {
            const menuData = currentSite === 'it' ? menuIT : menuGov;
            const content = document.getElementById('sidebarMenu');
            
            let html = '';
            
            // Expertises
            html += '<div class="sidebar-section"><h3>Expertises</h3><div class="expertise-tags">';
            menuData.expertises.forEach(item => {
                html += `<div class="expertise-tag" onclick="showPage('${item.id}')">${item.title}</div>`;
            });
            html += '</div></div>';
            
            // Découvrir
            html += '<div class="sidebar-section"><h3>Découvrir</h3>';
            menuData.decouvrir.forEach(item => {
                html += `<div class="sidebar-item" onclick="showPage('${item.id}')">${item.title}</div>`;
            });
            html += '</div>';
            
            // Nous rejoindre
            html += '<div class="sidebar-section"><h3>Nous Rejoindre & Partenariat</h3>';
            menuData.rejoindre.forEach(item => {
                html += `<div class="sidebar-item" onclick="showPage('${item.id}')">${item.title}</div>`;
            });
            html += '</div>';
            
            // Contact
            html += '<div class="sidebar-section"><h3>Informations & Contacts</h3>';
            menuData.contact.forEach(item => {
                html += `<div class="sidebar-item" onclick="showPage('${item.id}')">${item.title}</div>`;
            });
            html += '</div>';
            
            content.innerHTML = html;
        }

        // Toggle dropdown d'expertise track (welcome page uniquement)
        function toggleExpertiseTrack(track) {
            const dropdown = document.getElementById(`dropdown-${track}`);
            const arrow = document.getElementById(`arrow-${track}`);
            const otherTrack = track === 'it' ? 'gov' : 'it';
            const otherDropdown = document.getElementById(`dropdown-${otherTrack}`);
            const otherArrow = document.getElementById(`arrow-${otherTrack}`);

            // Toggle le dropdown cliqué
            if (dropdown.style.display === 'none') {
                dropdown.style.display = 'block';
                arrow.style.transform = 'rotate(180deg)';
            } else {
                dropdown.style.display = 'none';
                arrow.style.transform = 'rotate(0deg)';
            }

            // Fermer l'autre dropdown
            if (otherDropdown && otherDropdown.style.display === 'block') {
                otherDropdown.style.display = 'none';
                otherArrow.style.transform = 'rotate(0deg)';
            }
        }

        // Sélectionner un track et naviguer vers une page
        function selectTrackAndPage(track, pageId) {
            // Définir le site actuel
            currentSite = track;

            // Appliquer le thème
            document.body.classList.remove('theme-it', 'theme-gov', 'welcome-mode');
            document.body.classList.add(`theme-${track}`, 'has-mini-sidebar');

            // Afficher la page
            showPage(pageId);

            // Fermer la sidebar
            const sidebar = document.getElementById('sidebar');
            const backdrop = document.getElementById('sidebarBackdrop');
            sidebar.classList.remove('open');
            backdrop.classList.remove('active');

            // Afficher les éléments du site
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('logoBtn').classList.add('visible');
            document.getElementById('miniSidebar').classList.add('visible');
            document.getElementById('dynamicIsland').classList.add('visible');
            document.getElementById('siteSwitcher').classList.add('visible');

            currentPage = pageId;
        }

        // Sélectionner un track et naviguer vers une section (welcome page)
        function selectTrackAndNavigate(track, section) {
            // Définir le site actuel
            currentSite = track;

            // Appliquer le thème
            document.body.classList.remove('theme-it', 'theme-gov', 'welcome-mode');
            document.body.classList.add(`theme-${track}`, 'has-mini-sidebar');

            // Afficher les éléments du site
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('logoBtn').classList.add('visible');
            document.getElementById('miniSidebar').classList.add('visible');
            document.getElementById('dynamicIsland').classList.add('visible');
            document.getElementById('siteSwitcher').classList.add('visible');

            currentPage = 'landing';

            // Ouvrir la sidebar avec la section demandée
            openSidebarSection(section);
        }

        // Show page
        function showPage(pageId) {
            toggleSidebar();
            
            document.querySelectorAll('.main-container, .work-in-progress').forEach(p => p.classList.remove('active'));
            
            const page = document.getElementById(pageId);
            if (page) {
                page.classList.add('active');
                currentPage = pageId;
                window.scrollTo(0, 0);
            }
            
            // Cacher l'indicateur de scroll sur les pages internes
            document.getElementById('scrollIndicator').classList.remove('visible');
        }

        // Show experts in Dynamic Island - EXACTE V15
        function showExperts() {
            const content = document.getElementById('islandContent');

            // Si on est en train d'afficher les experts, on ferme
            if (islandAnimating) {
                if (islandTimeout) clearTimeout(islandTimeout);
                content.innerHTML = 'LES EXPERTS ET STRATÈGES';
                islandAnimating = false;
                return;
            }

            // Sinon on ouvre
            islandAnimating = true;

            // Sur la page d'accueil, afficher tous les experts (IT + Gov)
            let experts;
            if (!currentSite || currentPage === 'welcome') {
                experts = [...expertsIT, ...expertsGov];
            } else {
                experts = currentSite === 'it' ? expertsIT : expertsGov;
            }

            let html = '<div class="experts-scroll-island">';
            experts.forEach(expert => {
                html += `<div class="expert-item-island"><span class="expert-name-island">${expert.name}</span>${expert.role}</div>`;
            });
            html += '</div>';

            content.innerHTML = html;

            // Fermer automatiquement après 24 secondes (temps pour voir défiler tous les experts)
            islandTimeout = setTimeout(() => {
                content.innerHTML = 'LES EXPERTS ET STRATÈGES';
                islandAnimating = false;
            }, 24000);
        }

        // Créer les pages de contenu
        function createContentPages() {
            const container = document.getElementById('contentPages');
            container.innerHTML = `
                <!-- DATA & IA - IT -->
                <div class="work-in-progress" id="pageDataIA">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Data & IA</h1>
                            <p class="story-subtitle">EXPLOITEZ LA PUISSANCE DE VOS DONNÉES</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Codentis excelle dans la <span class="highlight">transformation de vos données brutes en leviers stratégiques</span>. Nous concevons et mettons en œuvre des <span class="highlight">pipelines ETL robustes</span>, des <span class="highlight">entrepôts de données optimisés</span>, et développons des <span class="highlight">modèles de Machine Learning et NLP</span> pour des prévisions précises. Notre expertise s'étend à la mise en place de <span class="highlight">catalogues de données</span> pour un référentiel centralisé, ainsi qu'au développement de modèles IA performants pour <span class="highlight">automatiser vos processus (AIOps, SRE)</span> et optimiser vos opérations (Predictive AI, Causal AI, Generative AI).
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Typiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Mettre en place une <span class="highlight">architecture data moderne</span> (Data Lake, Data Warehouse, lakehouse) avec des pipelines ETL automatisés.</div></div>
                                    <div class="case-item"><div class="case-text">Développer un <span class="highlight">modèle de prédiction</span> pour optimiser production, logistique ou anticiper les pannes (maintenance prédictive).</div></div>
                                    <div class="case-item"><div class="case-text">Établir une <span class="highlight">gouvernance des données rigoureuse</span> garantissant qualité, conformité réglementaire (RGPD) et sécurité de vos actifs informationnels.</div></div>
                                    <div class="case-item"><div class="case-text">Mettre en place des <span class="highlight">dashboards métiers interactifs</span> (PowerBI, Tableau, Qlik) pour des visualisations claires et une prise de décision éclairée.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Atypiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Déployer un projet de <span class="highlight">SRE & AIOps</span> avec modèles IA pour automatiser vos processus, anticiper les pannes et fiabiliser vos infrastructures (Self-Healing, Error Budget).</div></div>
                                    <div class="case-item"><div class="case-text">Construire un <span class="highlight">jumeau numérique de production</span> ou mettre en place des pratiques DataOps pour optimiser le cycle de vie de vos données.</div></div>
                                    <div class="case-item"><div class="case-text">Lancer une offre interne de <span class="highlight">Data-as-a-Service</span> avec catalogue de données centralisé permettant aux équipes métiers d'accéder à des données fiables et référencées.</div></div>
                                    <div class="case-item"><div class="case-text">Développer des modèles de <span class="highlight">Generative AI, Causal AI ou Predictive AI</span> pour créer de la valeur business à partir de vos données.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Besoin d'aide sur la <span class="cta-highlight">Data & IA</span> ?</h3>
                            <p class="cta-subtitle">Un expert répond sous 24h !</p>
                            <button class="cta-button" onclick="openContactModal()">Poser ma question →</button>
                        </div>
                    </div>
                </div>

                <!-- DÉVELOPPEMENT - IT -->
                <div class="work-in-progress" id="pageDigital">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Développement</h1>
                            <p class="story-subtitle">SOLUTIONS DIGITALES ROBUSTES ET ERGONOMIQUES</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Nous créons des <span class="highlight">applications web et mobiles innovantes, sur mesure</span>, qui répondent précisément à vos besoins fonctionnels et esthétiques. De l'<span class="highlight">audit UX/UI à la conception d'interfaces intuitives</span>, nous assurons une expérience utilisateur fluide et engageante. Notre expertise couvre le <span class="highlight">développement full-stack</span>, l'<span class="highlight">intégration API & microservices</span> pour une flexibilité maximale, ainsi que la mise en place de <span class="highlight">solutions e-commerce performantes et sécurisées</span>.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Typiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Développer un <span class="highlight">portail client B2B</span> en Symfony / .NET C# pour la gestion documentaire.</div></div>
                                    <div class="case-item"><div class="case-text">Créer une <span class="highlight">interface front-end réactive</span> en React/Vue.js avec des parcours fluides.</div></div>
                                    <div class="case-item"><div class="case-text">Repenser l'<span class="highlight">UX d'un outil interne</span> pour réduire les temps de formation.</div></div>
                                    <div class="case-item"><div class="case-text">Développer une <span class="highlight">application mobile iOS/Android</span> pour donner accès aux collaborateurs terrain.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Atypiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Intégrer une application mobile avec un <span class="highlight">système legacy via API</span>, en maintenant la cohérence des parcours.</div></div>
                                    <div class="case-item"><div class="case-text">Refonte UX d'un <span class="highlight">tableau de bord complexe</span> pour le rendre lisible par des non-techniciens.</div></div>
                                    <div class="case-item"><div class="case-text">Créer une <span class="highlight">mini-app événementielle temporaire</span>, hautement performante et intuitive.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Besoin d'aide sur le <span class="cta-highlight">Développement</span> ?</h3>
                            <p class="cta-subtitle">Un expert répond sous 24h !</p>
                            <button class="cta-button" onclick="openContactModal()">Poser ma question →</button>
                        </div>
                    </div>
                </div>

                <!-- INFRASTRUCTURE & CLOUD - IT -->
                <div class="work-in-progress" id="pageInfrastructure">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Infrastructure Cloud & DevOps</h1>
                            <p class="story-subtitle">MODERNISEZ ET OPTIMISEZ VOS INFRASTRUCTURES</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Nos experts interviennent sur <span class="highlight">toutes les couches des infrastructures</span> (systèmes, réseaux, stockage, sauvegarde, middlewares) en environnement <span class="highlight">on-premise et cloud</span>. Nous accompagnons la <span class="highlight">migration stratégique vers le cloud</span> (public, hybride, multi-cloud) et l'implémentation de <span class="highlight">pratiques DevOps et DevSecOps</span>. Notre expertise couvre le conseil, le design, le build et le maintien en condition opérationnelle, ainsi que la mise en place de <span class="highlight">pipelines CI/CD robustes et sécurisées</span> pour l'intégration, le testing et le déploiement continus.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Typiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Migrer un SI vers le <span class="highlight">cloud hybride ou multi-cloud</span> (AWS, Azure, GCP) avec Infrastructure as Code (Terraform, Pulumi).</div></div>
                                    <div class="case-item"><div class="case-text">Mettre en place un plan de <span class="highlight">haute disponibilité</span>, DRP et optimisation des infrastructures on-premise (systèmes, réseaux, stockage).</div></div>
                                    <div class="case-item"><div class="case-text">Automatiser les déploiements via <span class="highlight">CI/CD (GitLab, Jenkins, ArgoCD)</span>, conteneurisation (Kubernetes, Docker) et monitoring avancé.</div></div>
                                    <div class="case-item"><div class="case-text">Accompagner la transformation vers l'<span class="highlight">Ingénierie DevOps</span> et la mise en place des services continus (DevSecOps).</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Atypiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Déployer une architecture <span class="highlight">edge computing</span> pour traiter des données locales en temps réel.</div></div>
                                    <div class="case-item"><div class="case-text">Réduire les <span class="highlight">coûts cloud</span> en refactorisant une architecture trop consommatrice.</div></div>
                                    <div class="case-item"><div class="case-text">Mettre en place une infrastructure <span class="highlight">hyperconvergée</span> pour un site isolé avec bascule cloud.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Besoin d'aide sur le <span class="cta-highlight">Cloud</span> ?</h3>
                            <p class="cta-subtitle">Un expert répond sous 24h !</p>
                            <button class="cta-button" onclick="openContactModal()">Poser ma question →</button>
                        </div>
                    </div>
                </div>

                <!-- CYBERSÉCURITÉ - IT -->
                <div class="work-in-progress" id="pageCybersecurity">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Cybersécurité</h1>
                            <p class="story-subtitle">SÉCURITÉ COMME AVANTAGE COMPÉTITIF</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Nous sécurisons les systèmes critiques face aux menaces croissantes. De l'audit préventif à la réponse à incident, nos experts transforment la cybersécurité en <span class="highlight">avantage compétitif</span>.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Typiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Réaliser un <span class="highlight">audit de sécurité</span> et corriger les vulnérabilités détectées.</div></div>
                                    <div class="case-item"><div class="case-text">Mettre en place une politique d'<span class="highlight">accès et d'identité robuste</span> (MFA, Zero Trust).</div></div>
                                    <div class="case-item"><div class="case-text">Former et sensibiliser les équipes avec des <span class="highlight">ateliers pratiques</span> et des simulations.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Atypiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Gérer une <span class="highlight">crise cyber</span> : détection, confinement, restauration, post-mortem.</div></div>
                                    <div class="case-item"><div class="case-text">Sécuriser une application <span class="highlight">mobile/IoT avec cryptographie embarquée</span>.</div></div>
                                    <div class="case-item"><div class="case-text">Déployer une sécurité <span class="highlight">multi-pays</span> conforme à plusieurs réglementations (RGPD, NIS2, etc.).</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Besoin d'aide sur la <span class="cta-highlight">Cybersécurité</span> ?</h3>
                            <p class="cta-subtitle">Un expert répond sous 24h !</p>
                            <button class="cta-button" onclick="openContactModal()">Poser ma question →</button>
                        </div>
                    </div>
                </div>

                <!-- CYBERSÉCURITÉ - IT -->
                <div class="work-in-progress" id="pageCybersecurity">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Cybersécurité</h1>
                            <p class="story-subtitle">SÉCURITÉ COMME AVANTAGE COMPÉTITIF</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Nous sécurisons les systèmes critiques face aux menaces croissantes. De l'audit préventif à la réponse à incident, nos experts transforment la cybersécurité en <span class="highlight">avantage compétitif</span>.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Typiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Réaliser un <span class="highlight">audit de sécurité</span> et corriger les vulnérabilités détectées.</div></div>
                                    <div class="case-item"><div class="case-text">Mettre en place une politique d'<span class="highlight">accès et d'identité robuste</span> (MFA, Zero Trust).</div></div>
                                    <div class="case-item"><div class="case-text">Former et sensibiliser les équipes avec des <span class="highlight">ateliers pratiques</span> et des simulations.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Atypiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Gérer une <span class="highlight">crise cyber</span> : détection, confinement, restauration, post-mortem.</div></div>
                                    <div class="case-item"><div class="case-text">Sécuriser une application <span class="highlight">mobile/IoT avec cryptographie embarquée</span>.</div></div>
                                    <div class="case-item"><div class="case-text">Déployer une sécurité <span class="highlight">multi-pays</span> conforme à plusieurs réglementations (RGPD, NIS2, etc.).</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Besoin d'aide sur la <span class="cta-highlight">Cybersécurité</span> ?</h3>
                            <p class="cta-subtitle">Un expert répond sous 24h !</p>
                            <button class="cta-button" onclick="openContactModal()">Poser ma question →</button>
                        </div>
                    </div>
                </div>

                <!-- WORKSHOPS - IT -->
                <div class="work-in-progress" id="pageWorkshops">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Workshops & Conférences</h1>
                            <p class="story-subtitle">MONTÉE EN COMPÉTENCE TECHNIQUE</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Nous animons des <span class="highlight">workshops techniques sur-mesure</span> pour vos équipes : architecture cloud, sécurité applicative, data engineering, pratiques DevOps. Des formats interactifs pour accélérer la montée en compétence.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Thématiques Populaires</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text"><span class="highlight">Architecture microservices</span> : patterns, communication inter-services, gestion des données distribuées.</div></div>
                                    <div class="case-item"><div class="case-text"><span class="highlight">Sécurité applicative</span> : OWASP Top 10, secure coding, DevSecOps.</div></div>
                                    <div class="case-item"><div class="case-text"><span class="highlight">Data Engineering</span> : pipelines ETL/ELT, orchestration avec Airflow, streaming avec Kafka.</div></div>
                                    <div class="case-item"><div class="case-text"><span class="highlight">Cloud-native development</span> : containers, Kubernetes, serverless.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Organiser un <span class="cta-highlight">Workshop</span> ?</h3>
                            <p class="cta-subtitle">Nos experts créent un format sur-mesure !</p>
                            <button class="cta-button" onclick="openContactModal()">Nous contacter →</button>
                        </div>
                    </div>
                </div>

                <!-- WORKSHOPS - GOUVERNANCE -->
                <div class="work-in-progress" id="pageWorkshopsGov">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Workshops & Conférences</h1>
                            <p class="story-subtitle">FORMATION & ACCOMPAGNEMENT PRODUIT</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Nous animons des <span class="highlight">workshops stratégiques et produit</span> pour vos équipes : product discovery, priorisation, OKRs, design thinking, agilité. Des formats interactifs pour transformer les pratiques.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Thématiques Populaires</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text"><span class="highlight">Product Discovery</span> : user research, définition de personas, jobs-to-be-done, prototypage.</div></div>
                                    <div class="case-item"><div class="case-text"><span class="highlight">Priorisation produit</span> : frameworks RICE, MoSCoW, Value vs Effort, Kano model.</div></div>
                                    <div class="case-item"><div class="case-text"><span class="highlight">OKRs & stratégie</span> : définir des objectifs alignés, mesurer l'impact, rituels OKRs.</div></div>
                                    <div class="case-item"><div class="case-text"><span class="highlight">Agilité & Scrum</span> : fondamentaux, rôles, cérémonies, mise en pratique.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Organiser un <span class="cta-highlight">Workshop</span> ?</h3>
                            <p class="cta-subtitle">Nos experts créent un format sur-mesure !</p>
                            <button class="cta-button" onclick="openContactModal()">Nous contacter →</button>
                        </div>
                    </div>
                </div>

                <!-- DATA & IA - GOUVERNANCE -->
                <div class="work-in-progress" id="pageDataIAGov">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Data & IA - Vision Produit</h1>
                            <p class="story-subtitle">STRATÉGIE DATA AU SERVICE DU BUSINESS</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Au-delà de la technique, nous aidons à <span class="highlight">définir la stratégie data</span> alignée sur les objectifs métier : priorisation des use cases, définition des KPIs, gouvernance des données, roadmap produit data. Transformez vos données en <span class="highlight">valeur business mesurable</span>.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Typiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Élaborer une <span class="highlight">data strategy</span> avec priorisation des use cases à fort ROI.</div></div>
                                    <div class="case-item"><div class="case-text">Mettre en place une <span class="highlight">gouvernance des données</span> (data quality, data catalog, rôles).</div></div>
                                    <div class="case-item"><div class="case-text">Piloter un <span class="highlight">projet data/IA en mode produit</span> : roadmap, OKRs, mesure de l'impact.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Atypiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Accompagner la <span class="highlight">transformation data-driven</span> : culture, organisation, upskilling.</div></div>
                                    <div class="case-item"><div class="case-text">Créer un <span class="highlight">data office</span> avec définition des rôles (CDO, Data Stewards).</div></div>
                                    <div class="case-item"><div class="case-text">Piloter un programme <span class="highlight">IA éthique et responsable</span> conforme aux régulations.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Besoin d'aide sur votre <span class="cta-highlight">stratégie Data</span> ?</h3>
                            <p class="cta-subtitle">Un expert répond sous 24h !</p>
                            <button class="cta-button" onclick="openContactModal()">Poser ma question →</button>
                        </div>
                    </div>
                </div>

                <!-- PRODUCT MANAGEMENT - GOUVERNANCE -->
                <div class="work-in-progress" id="pageDigitalGov">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Product Management</h1>
                            <p class="story-subtitle">VISION PRODUIT & EXPÉRIENCE UTILISATEUR</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Nos Product Managers et UX Designers accompagnent la <span class="highlight">définition de la vision produit</span>, la priorisation du backlog, et la conception d'expériences utilisateurs fluides. Nous aidons à construire des <span class="highlight">produits centrés utilisateur</span>.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Typiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Définir la <span class="highlight">product roadmap</span> alignée sur la stratégie business avec OKRs.</div></div>
                                    <div class="case-item"><div class="case-text">Conduire des <span class="highlight">ateliers de discovery</span> : user research, personas, jobs-to-be-done.</div></div>
                                    <div class="case-item"><div class="case-text">Prioriser le <span class="highlight">backlog produit</span> avec frameworks adaptés (RICE, MoSCoW).</div></div>
                                    <div class="case-item"><div class="case-text">Optimiser l'<span class="highlight">UX/UI</span> : audit ergonomique, wireframes, tests utilisateurs.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Atypiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Structurer une <span class="highlight">organisation produit</span> à l'échelle (Product Ops, Product Marketing).</div></div>
                                    <div class="case-item"><div class="case-text">Lancer un <span class="highlight">MVP en 3 mois</span> avec méthodologie Lean Startup.</div></div>
                                    <div class="case-item"><div class="case-text">Piloter la <span class="highlight">refonte complète</span> d'une plateforme avec 100k+ utilisateurs.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Besoin d'un <span class="cta-highlight">Product Manager</span> ?</h3>
                            <p class="cta-subtitle">Un expert répond sous 24h !</p>
                            <button class="cta-button" onclick="openContactModal()">Poser ma question →</button>
                        </div>
                    </div>
                </div>

                <!-- CLOUD - STRATÉGIE - GOUVERNANCE -->
                <div class="work-in-progress" id="pageInfrastructureGov">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Cloud - Stratégie & Gouvernance</h1>
                            <p class="story-subtitle">PILOTER LA TRANSFORMATION CLOUD</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Nous accompagnons la <span class="highlight">définition de la stratégie cloud</span> et son exécution : évaluation des workloads, business case de migration, gouvernance multi-cloud, optimisation FinOps, conduite du changement.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Typiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Élaborer une <span class="highlight">cloud strategy</span> : choix des providers, modèles hybride/multi-cloud.</div></div>
                                    <div class="case-item"><div class="case-text">Construire le <span class="highlight">business case</span> de migration avec TCO et ROI détaillés.</div></div>
                                    <div class="case-item"><div class="case-text">Mettre en place une <span class="highlight">gouvernance cloud</span> : politiques, gestion des coûts, sécurité.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Atypiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Piloter la <span class="highlight">transformation cloud</span> : PMO, conduite du changement, formation.</div></div>
                                    <div class="case-item"><div class="case-text">Optimiser les <span class="highlight">coûts cloud</span> avec approche FinOps et tableaux de bord.</div></div>
                                    <div class="case-item"><div class="case-text">Définir une stratégie <span class="highlight">cloud souverain</span> pour secteurs régulés.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Besoin d'aide sur votre <span class="cta-highlight">stratégie Cloud</span> ?</h3>
                            <p class="cta-subtitle">Un expert répond sous 24h !</p>
                            <button class="cta-button" onclick="openContactModal()">Poser ma question →</button>
                        </div>
                    </div>
                </div>

                <!-- CYBER - GOUVERNANCE -->
                <div class="work-in-progress" id="pageCybersecurityGov">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Cybersécurité - Gouvernance</h1>
                            <p class="story-subtitle">PILOTAGE DE LA SÉCURITÉ</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Au-delà des audits techniques, nous accompagnons la <span class="highlight">gouvernance de la cybersécurité</span> : définition de la politique de sécurité, mise en place d'un SMSI (ISO 27001), pilotage de la conformité réglementaire.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Typiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Mettre en place un <span class="highlight">SMSI (ISO 27001)</span> : politique, procédures, analyse de risques.</div></div>
                                    <div class="case-item"><div class="case-text">Piloter la <span class="highlight">conformité NIS2, RGPD, DORA</span> avec roadmap et suivi des actions.</div></div>
                                    <div class="case-item"><div class="case-text">Définir une <span class="highlight">stratégie de cybersécurité</span> alignée sur les risques métier.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Atypiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Animer un programme de <span class="highlight">sensibilisation sécurité</span> pour créer une culture cyber.</div></div>
                                    <div class="case-item"><div class="case-text">Structurer une <span class="highlight">organisation cyber</span> : RSSI, Security Champions, SOC.</div></div>
                                    <div class="case-item"><div class="case-text">Piloter la <span class="highlight">cyber-résilience</span> : plans de continuité, gestion de crise.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Besoin d'aide sur la <span class="cta-highlight">gouvernance Cyber</span> ?</h3>
                            <p class="cta-subtitle">Un expert répond sous 24h !</p>
                            <button class="cta-button" onclick="openContactModal()">Poser ma question →</button>
                        </div>
                    </div>
                </div>

                <!-- GOUVERNANCE OPÉRATIONNELLE -->
                <div class="work-in-progress" id="pageGouvernance">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Gouvernance Opérationnelle</h1>
                            <p class="story-subtitle">PILOTAGE & TRANSFORMATION</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Nous accompagnons le <span class="highlight">pilotage de projets complexes</span> et la <span class="highlight">transformation des organisations</span> : agilité à l'échelle (SAFe, LeSS, Spotify), coaching de Product Owners et Scrum Masters, structuration de PMO.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Typiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Déployer l'<span class="highlight">agilité à l'échelle</span> : SAFe, LeSS, framework Spotify adapté.</div></div>
                                    <div class="case-item"><div class="case-text">Structurer un <span class="highlight">PMO agile</span> pour piloter un portefeuille de projets complexes.</div></div>
                                    <div class="case-item"><div class="case-text">Accompagner la <span class="highlight">transformation digitale</span> : diagnostic, roadmap, conduite du changement.</div></div>
                                    <div class="case-item"><div class="case-text">Former et coacher vos <span class="highlight">Product Owners, Scrum Masters, Agile Coaches</span>.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Atypiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Optimiser vos <span class="highlight">processus métiers</span> et flux de valeur avec Lean et Kanban.</div></div>
                                    <div class="case-item"><div class="case-text">Piloter une <span class="highlight">transformation organisationnelle</span> post-fusion/acquisition.</div></div>
                                    <div class="case-item"><div class="case-text">Créer un <span class="highlight">centre d'excellence agile</span> pour diffuser les pratiques.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Besoin d'accompagnement sur la <span class="cta-highlight">Gouvernance</span> ?</h3>
                            <p class="cta-subtitle">Un expert répond sous 24h !</p>
                            <button class="cta-button" onclick="openContactModal()">Poser ma question →</button>
                        </div>
                    </div>
                </div>

                <!-- TRANSFORMATION RH TECH -->
                <div class="work-in-progress" id="pageRHTech">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Transformation RH pour la Tech</h1>
                            <p class="story-subtitle">RECRUTER ET GÉRER LES TALENTS IT</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Les profils tech sont difficiles à recruter et à retenir. Nous accompagnons les <span class="highlight">services RH</span> pour comprendre les métiers IT, structurer les processus de recrutement, définir les parcours de carrière et créer une <span class="highlight">marque employeur attractive</span> pour les talents tech.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Typiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Former les RH aux <span class="highlight">métiers et compétences IT</span> : différence entre DevOps, Data Engineer, etc.</div></div>
                                    <div class="case-item"><div class="case-text">Structurer le <span class="highlight">processus de recrutement tech</span> : grilles d'évaluation, tests techniques.</div></div>
                                    <div class="case-item"><div class="case-text">Définir des <span class="highlight">parcours de carrière IT</span> : évolutions possibles, compétences à développer.</div></div>
                                    <div class="case-item"><div class="case-text">Créer une <span class="highlight">marque employeur tech</span> : communication, événements, employee advocacy.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Cas Atypiques</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Accompagner la <span class="highlight">reconversion</span> de profils non-tech vers l'IT.</div></div>
                                    <div class="case-item"><div class="case-text">Mettre en place un <span class="highlight">programme de mentoring</span> entre seniors et juniors tech.</div></div>
                                    <div class="case-item"><div class="case-text">Structurer une <span class="highlight">académie interne</span> pour former aux nouvelles technos.</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Besoin d'aide pour <span class="cta-highlight">recruter des profils tech</span> ?</h3>
                            <p class="cta-subtitle">Un expert répond sous 24h !</p>
                            <button class="cta-button" onclick="openContactModal()">Poser ma question →</button>
                        </div>
                    </div>
                </div>

                <!-- NOS RÉSEAUX -->
                <div class="work-in-progress" id="pageReseaux">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Nos Réseaux</h1>
                            <p class="story-subtitle">RESTEZ CONNECTÉS AVEC Codentis</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Suivez-nous sur nos différentes plateformes pour découvrir nos <span class="highlight">contenus exclusifs</span>, nos <span class="highlight">podcasts</span>, et rester en contact avec notre équipe d'experts.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Nos Plateformes</h3>
                                <div style="display: flex; flex-direction: column; gap: 20px;">
                                    <div class="network-card" onclick="window.open('https://open.spotify.com/playlist/45ngfo71ETCssYI9G30ycT?si=40853b23e0bb4a19', '_blank')">
                                        <div style="display: flex; align-items: center; gap: 20px;">
                                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#8b7355" stroke-width="2" xmlns="http://www.w3.org/2000/svg">
                                                <circle cx="12" cy="12" r="10"/>
                                                <path d="M8 14.5c2.5-1 5-1 7.5 0"/>
                                                <path d="M7.5 11c3-1.5 7-1.5 10 0"/>
                                                <path d="M7 7.5c3.5-2 8-2 11 0"/>
                                            </svg>
                                            <div>
                                                <div class="network-card-title">Spotify</div>
                                                <div class="network-card-desc">Écoutez nos podcasts et interviews d'experts</div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="network-card" onclick="window.open('https://wa.me/33603062710', '_blank')">
                                        <div style="display: flex; align-items: center; gap: 20px;">
                                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#8b7355" stroke-width="2" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
                                            </svg>
                                            <div>
                                                <div class="network-card-title">WhatsApp</div>
                                                <div class="network-card-desc">Contactez-nous directement pour échanger</div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="network-card" onclick="window.location.href='mailto:contact@audentis.fr'">
                                        <div style="display: flex; align-items: center; gap: 20px;">
                                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#8b7355" stroke-width="2" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                                <polyline points="22,6 12,13 2,6"/>
                                            </svg>
                                            <div>
                                                <div class="network-card-title">Email</div>
                                                <div class="network-card-desc">contact@audentis.fr</div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="network-card" onclick="window.open('https://www.linkedin.com/company/audentis/', '_blank')">
                                        <div style="display: flex; align-items: center; gap: 20px;">
                                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#8b7355" stroke-width="2" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
                                                <rect x="2" y="9" width="4" height="12"/>
                                                <circle cx="4" cy="4" r="2"/>
                                            </svg>
                                            <div>
                                                <div class="network-card-title">LinkedIn</div>
                                                <div class="network-card-desc">Suivez notre actualité professionnelle</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Une question <span class="cta-highlight">spécifique</span> ?</h3>
                            <p class="cta-subtitle">Nos experts vous répondent sous 24h !</p>
                            <button class="cta-button" onclick="openContactModal()">Nous contacter →</button>
                        </div>
                    </div>
                </div>

                <!-- PLAQUETTE COMMERCIALE -->
                <div class="work-in-progress" id="pagePlaquette">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Plaquette Commerciale</h1>
                            <p class="story-subtitle">DÉCOUVREZ NOS OFFRES EN DÉTAIL</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Téléchargez notre <span class="highlight">plaquette commerciale</span> pour découvrir l'ensemble de nos expertises, nos méthodes d'accompagnement, et des exemples concrets de missions réussies.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Au programme</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text">Présentation détaillée de nos <span class="highlight">expertises IT et stratégiques</span></div></div>
                                    <div class="case-item"><div class="case-text">Nos <span class="highlight">méthodes d'accompagnement</span> et processus de travail</div></div>
                                    <div class="case-item"><div class="case-text">Des <span class="highlight">cas clients</span> et retours d'expérience</div></div>
                                    <div class="case-item"><div class="case-text">Les profils de nos <span class="highlight">experts et stratèges</span></div></div>
                                    <div class="case-item"><div class="case-text">Nos <span class="highlight">tarifs et modalités</span> d'intervention</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Télécharger notre <span class="cta-highlight">plaquette</span></h3>
                            <p class="cta-subtitle">Format PDF - Découvrez toutes nos expertises</p>
                            <a href="computer:///mnt/user-data/outputs/Codentis-Plaquette.pdf" download="Codentis-Plaquette.pdf" class="cta-button" style="text-decoration: none; display: inline-block;">📥 Télécharger la plaquette</a>
                        </div>
                    </div>
                </div>

                <!-- NOTRE HISTOIRE -->
                <div class="work-in-progress" id="pageHistoire">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Notre Histoire</h1>
                            <p class="story-subtitle">L'ALLIANCE DE L'EXPERTISE TECHNIQUE, PRODUIT & STRATÉGIQUE</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Chez Codentis, nous combinons <span class="highlight">expertise technique et vision stratégique</span> pour accompagner ceux qui font face à des <span class="highlight">enjeux IT et business complexes</span>. Nos clients nous sollicitent aussi bien pour des <span class="highlight">missions techniques pointues</span> (audits cybersécurité, architectures cloud, projets data/IA) que pour des <span class="highlight">transformations organisationnelles</span> (gouvernance IT, coaching agile, product ownership, conduite du changement). Qu'il s'agisse d'interventions longues ou de missions courtes à fort impact, nous combinons <span class="highlight">excellence technique, sens du produit et accompagnement humain</span>.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Chaque membre de Codentis est un <span class="highlight">chercheur de solutions</span>, qu'elles soient techniques ou organisationnelles. Nous ne nous contentons pas de résoudre des problèmes IT : nous aidons nos clients à <span class="highlight">transformer leurs ambitions en résultats concrets</span>. Cela passe par la définition de stratégies produit, l'optimisation de la gouvernance IT, le coaching d'équipes, la refonte d'architectures ou encore l'accélération de projets critiques. Notre <span class="highlight">approche personnalisée</span> et notre <span class="highlight">suivi continu</span> garantissent que chaque intervention crée un impact réel et durable.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Cette philosophie se reflète aussi dans notre site web. Sur notre page d'accueil, vous pouvez poser votre question à l'un de nos experts et recevoir une <span class="highlight">réponse sous 24h</span>, une manière concrète de montrer que notre <span class="highlight">engagement est réel</span>, même pour des besoins ponctuels ou des audits rapides.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    <span class="highlight">Codentis</span>, c'est l'alliance de l'<span class="highlight">expertise technique pointue</span>, de la <span class="highlight">vision produit et stratégique</span>, et du <span class="highlight">service sur-mesure</span>. Nous intervenons aussi bien sur des sujets d'architecture et de développement que sur la définition de roadmaps produit, la transformation organisationnelle ou le pilotage de projets complexes. Cette <span class="highlight">double compétence technique et business</span> fait notre singularité.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Nos Domaines d'Excellence</h3>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 30px;">
                                    <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='rgba(255, 127, 92, 0.1)'; this.style.borderColor='rgba(255, 127, 92, 0.3)'" onmouseout="this.style.background='rgba(255, 127, 92, 0.05)'; this.style.borderColor='rgba(255, 127, 92, 0.2)'" onclick="openExpertiseModal('pageDataIA')">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C;">Data & IA</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='rgba(255, 127, 92, 0.1)'; this.style.borderColor='rgba(255, 127, 92, 0.3)'" onmouseout="this.style.background='rgba(255, 127, 92, 0.05)'; this.style.borderColor='rgba(255, 127, 92, 0.2)'" onclick="openExpertiseModal('pageDigital')">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C;">Développement</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='rgba(255, 127, 92, 0.1)'; this.style.borderColor='rgba(255, 127, 92, 0.3)'" onmouseout="this.style.background='rgba(255, 127, 92, 0.05)'; this.style.borderColor='rgba(255, 127, 92, 0.2)'" onclick="openExpertiseModal('pageInfrastructure')">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C;">Infrastructure & Cloud</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='rgba(255, 127, 92, 0.1)'; this.style.borderColor='rgba(255, 127, 92, 0.3)'" onmouseout="this.style.background='rgba(255, 127, 92, 0.05)'; this.style.borderColor='rgba(255, 127, 92, 0.2)'" onclick="openExpertiseModal('pageCybersecurity')">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C;">Cybersécurité</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='rgba(255, 127, 92, 0.1)'; this.style.borderColor='rgba(255, 127, 92, 0.3)'" onmouseout="this.style.background='rgba(255, 127, 92, 0.05)'; this.style.borderColor='rgba(255, 127, 92, 0.2)'" onclick="openExpertiseModal('pageGouvernance')">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C;">Gouvernance Opérationnelle<br>& Stratégique</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='rgba(255, 127, 92, 0.1)'; this.style.borderColor='rgba(255, 127, 92, 0.3)'" onmouseout="this.style.background='rgba(255, 127, 92, 0.05)'; this.style.borderColor='rgba(255, 127, 92, 0.2)'" onclick="openExpertiseModal('pageWorkshops')">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C;">Workshops<br>& Conférences</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Nos Valeurs</h3>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 30px;">
                                    <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(255, 127, 92, 0.15); border-radius: 12px;">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Excellence Technique & Stratégique</div>
                                        <div style="font-size: 1rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Chaque mission repose sur une double expertise : technique (data, cloud, cyber, dev) et stratégique (product, gouvernance, transformation). Nous maîtrisons aussi bien le code que la vision produit.</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(255, 127, 92, 0.15); border-radius: 12px;">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Engagement & Responsabilité</div>
                                        <div style="font-size: 1rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Nous nous impliquons pleinement auprès de nos clients et dans nos missions, en prenant la responsabilité des résultats.</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(255, 127, 92, 0.15); border-radius: 12px;">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Agilité & Réactivité</div>
                                        <div style="font-size: 1rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Capacité à intervenir rapidement sur des besoins critiques et à adapter nos solutions aux situations uniques.</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(255, 127, 92, 0.15); border-radius: 12px;">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Orientation Service & Humain</div>
                                        <div style="font-size: 1rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Chaque client et chaque talent bénéficie d'attention et de considération, avec pour objectif de dépasser les attentes.</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(255, 127, 92, 0.15); border-radius: 12px;">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Audace & Innovation</div>
                                        <div style="font-size: 1rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Nous challengeons les standards et proposons des solutions inédites ou de niche pour apporter plus de valeur.</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(245, 245, 247, 0.03); border: 1px solid rgba(255, 127, 92, 0.15); border-radius: 12px;">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Esprit d'équipe & Partage</div>
                                        <div style="font-size: 1rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Les forces combinées des fondateurs et des équipes créent une synergie unique, favorisant la collaboration et la co-construction.</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Prêt à transformer <span class="cta-highlight">vos défis</span> en succès ?</h3>
                            <p class="cta-subtitle">Parlons de votre projet !</p>
                            <button class="cta-button" onclick="openContactModal()">Nous contacter →</button>
                        </div>
                    </div>
                </div>

                <!-- NOUS REJOINDRE -->
                <div class="work-in-progress" id="pageRejoindre">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Nous Rejoindre</h1>
                            <p class="story-subtitle">INTÉGREZ UNE ÉQUIPE D'EXPERTS PASSIONNÉS</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Codentis recrute en continu des <span class="highlight">profils d'exception</span> qui partagent notre passion pour l'excellence technique et stratégique. Que vous soyez <span class="highlight">développeur senior</span>, <span class="highlight">architecte cloud</span>, <span class="highlight">expert cybersécurité</span>, <span class="highlight">product owner</span>, <span class="highlight">data scientist</span> ou <span class="highlight">consultant en transformation</span>, nous cherchons des talents qui veulent faire la différence sur des missions à fort impact.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Profils recherchés</h3>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 30px;">
                                    <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px;">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Experts Techniques</div>
                                        <div style="font-size: 0.95rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Développeurs fullstack, architectes cloud, DevOps, data engineers, experts cybersécurité</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px;">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Product & Stratégie</div>
                                        <div style="font-size: 0.95rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Product owners, product managers, consultants en transformation digitale</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px;">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">Gouvernance & Pilotage</div>
                                        <div style="font-size: 0.95rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Directeurs de projet, PMO, RSSI, consultants en gouvernance IT</div>
                                    </div>
                                    <div style="padding: 25px; background: rgba(255, 127, 92, 0.05); border: 1px solid rgba(255, 127, 92, 0.2); border-radius: 12px;">
                                        <div style="font-size: 1.2rem; font-weight: 700; color: #FF7F5C; margin-bottom: 12px;">HR & Business</div>
                                        <div style="font-size: 0.95rem; line-height: 1.7; color: rgba(245, 245, 247, 0.8);">Chargé(e) de recrutement, responsable RH, business développeur, directeur d'agence</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <div class="story-text">
                                    Chez Codentis, nous valorisons la <span class="highlight">curiosité intellectuelle</span>, l'<span class="highlight">excellence opérationnelle</span> et l'<span class="highlight">esprit entrepreneurial</span>. Que vous soyez en recherche d'un CDI, d'une mission freelance longue durée, ou d'un partenariat structuré, nous construisons ensemble un modèle qui vous correspond.
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Prêt à <span class="cta-highlight">nous rejoindre</span> ?</h3>
                            <p class="cta-subtitle">Envoyez-nous votre CV et parlons de votre projet professionnel</p>
                            <button class="cta-button" onclick="openChatModal('Je souhaite rejoindre Codentis', 'recruitment')">Postuler →</button>
                        </div>
                    </div>
                </div>

                <!-- PARTENARIAT (Simplifié) -->
                <div class="work-in-progress" id="pagePartenariat">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Partenariat</h1>
                            <p class="story-subtitle">NOS MODÈLES DE COLLABORATION</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Nos modèles de partenariat</h3>
                                <div class="expertise-cases">
                                    <div class="case-item"><div class="case-text"><span class="highlight">Partenariat technologique</span> : intégration de solutions, co-développement, mise à disposition d'expertise technique</div></div>
                                    <div class="case-item"><div class="case-text"><span class="highlight">Partenariat commercial</span> : apporteurs d'affaires, revente de services, co-traitance sur grands projets</div></div>
                                    <div class="case-item"><div class="case-text"><span class="highlight">Alliance stratégique</span> : co-construction d'offres, partage de compétences complémentaires</div></div>
                                    <div class="case-item"><div class="case-text"><span class="highlight">Partenariat formation</span> : workshops, conférences, accompagnement sur-mesure de vos équipes</div></div>
                                    <div class="case-item"><div class="case-text"><span class="highlight">Partenariat institutionnel</span> : accompagnement des acteurs publics dans leur transformation digitale</div></div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Intéressé par un <span class="cta-highlight">partenariat</span> ?</h3>
                            <p class="cta-subtitle">Discutons de nos synergies et opportunités de collaboration</p>
                            <button class="cta-button" onclick="openChatInterface()">Contactez notre agent IA →</button>
                        </div>
                    </div>
                </div>

                <!-- LES EXPERTS ET STRATÈGES -->
                <div class="work-in-progress" id="pageExperts">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Les Experts et Stratèges</h1>
                            <p class="story-subtitle">DES PROFILS D'EXCEPTION AU SERVICE DE VOS AMBITIONS</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Céline</h3>
                                <h4 style="color: #FF7F5C; text-align: center; margin-bottom: 20px; font-size: 1.1rem;">Directrice de projet IT & Transformation digitale</h4>
                                <div class="story-text">
                                    Céline pilote des projets IT complexes et des équipes de développeurs en garantissant l'efficacité opérationnelle et la qualité de delivery. Elle accompagne des organisations dans la structuration et la rationalisation de leurs services, la mise en place d'outils et processus IT, ainsi que le pilotage des risques. Son expertise couvre le management de projets multi-sites, la conduite du changement, le Product Ownership et le coaching agile, avec une expérience notable dans des grands groupes comme Enedis et Groupama. Elle combine leadership technique et sens stratégique pour transformer la performance des équipes IT.
                                    <br><br>
                                    <span class="highlight">Points forts :</span> management de projets IT complexes, structuration des équipes et processus, delivery management, coaching agile et Product Ownership, amélioration continue.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Quentin</h3>
                                <h4 style="color: #FF7F5C; text-align: center; margin-bottom: 20px; font-size: 1.1rem;">Expert Cybersécurité – Red Team & Pentesting</h4>
                                <div class="story-text">
                                    Quentin est spécialisé en cybersécurité offensive et audits de vulnérabilités. Il mène des opérations Red Team, pentests, simulations de crise et audits Cloud pour des entreprises comme Arkema et Enedis. Sa maîtrise des standards de sécurité, des environnements Cloud et des frameworks MITRE ATT&CK lui permet de détecter et corriger efficacement les failles, tout en accompagnant la sensibilisation des équipes et l'implémentation de stratégies de sécurité robustes.
                                    <br><br>
                                    <span class="highlight">Points forts :</span> Red Team, pentesting, cybersécurité Cloud, audits de vulnérabilités, analyse de risques et stratégie de sécurité.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Karim</h3>
                                <h4 style="color: #FF7F5C; text-align: center; margin-bottom: 20px; font-size: 1.1rem;">Architecte et Développeur Fullstack .NET / Angular</h4>
                                <div class="story-text">
                                    Karim conçoit et met en œuvre des architectures logicielles modernes et robustes, intégrant microservices, micro frontends, DevOps et solutions cloud (Azure). Il accompagne des projets variés, de la TMA à la refonte complète de plateformes, avec un focus sur l'industrialisation, le monitoring et le développement de solutions métier. Son expérience inclut la direction technique et l'architecture de solutions pour des clients tels que Or en Cash, Clauger et Engie.
                                    <br><br>
                                    <span class="highlight">Points forts :</span> architecture logicielle, microservices & micro frontends, DevOps, .NET / Angular, industrialisation et monitoring.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Adrien</h3>
                                <h4 style="color: #FF7F5C; text-align: center; margin-bottom: 20px; font-size: 1.1rem;">Développeur & Architecte Logiciel / IoT & Data</h4>
                                <div class="story-text">
                                    Adrien est un développeur et architecte logiciel polyvalent, spécialisé en Node.js, Python, IoT et plateformes data. Il conçoit des systèmes de collecte et d'analyse de données pour améliorer la maintenance et l'innovation produit. Il a également assuré la continuité opérationnelle de plateformes IoT et dirigé des équipes techniques sur des projets SaaS et de fleet management. Son expertise couvre la supervision de projets complexes, la migration cloud et le développement d'infrastructures performantes.
                                    <br><br>
                                    <span class="highlight">Points forts :</span> Node.js, Python, IoT, architecture logicielle, maintenance préventive et innovation produit.
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Caroline</h3>
                                <h4 style="color: #FF7F5C; text-align: center; margin-bottom: 20px; font-size: 1.1rem;">Coach Transformation & Agile / Product Owner</h4>
                                <div class="story-text">
                                    Caroline accompagne les organisations dans leur transformation digitale et agile. Elle intervient sur la gestion de projets complexes, l'amélioration continue, la conduite du changement et le coaching d'équipes et managers. Elle possède également une solide expérience en formation professionnelle et enseignement supérieur, partageant ses compétences en agilité, stratégie produit et management de projets avec des étudiants et professionnels.
                                    <br><br>
                                    <span class="highlight">Points forts :</span> transformation organisationnelle, coaching agile et d'équipes, Product Ownership, gestion de projets complexes, formation et amélioration des processus.
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Besoin d'un <span class="cta-highlight">expert</span> pour votre projet ?</h3>
                            <p class="cta-subtitle">Nos experts sont à votre écoute !</p>
                            <button class="cta-button" onclick="openContactModal()">Nous contacter →</button>
                        </div>
                    </div>
                </div>

                <!-- VEILLE & ACTUALITÉS -->
                <div class="work-in-progress" id="pageVeille">
                    <div class="story-container">
                        <div class="story-hero">
                            <h1 class="story-title">Veille & Actualités</h1>
                            <p class="story-subtitle">ANALYSES & PERSPECTIVES TECH PAR NOS EXPERTS</p>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Marché Tech France 2025 : Opportunités en vue</h3>
                                <div class="story-text">
                                    Le marché IT français connaît une transformation profonde. Malgré un contexte économique tendu, plusieurs secteurs affichent une <span class="highlight">croissance à deux chiffres</span> et créent de nouvelles opportunités pour les experts techniques et stratégiques.
                                </div>
                                
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 30px 0;">
                                    <div style="background: rgba(255, 127, 92, 0.08); padding: 25px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                                        <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">Cloud & SaaS</div>
                                        <div style="font-size: 2.2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">+12,5%</div>
                                        <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">Migration accélérée</div>
                                    </div>
                                    <div style="background: rgba(255, 127, 92, 0.08); padding: 25px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                                        <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">IA & Data</div>
                                        <div style="font-size: 2.2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">+18,3%</div>
                                        <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">Demande explosive</div>
                                    </div>
                                    <div style="background: rgba(255, 127, 92, 0.08); padding: 25px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                                        <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">Cybersécurité</div>
                                        <div style="font-size: 2.2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">+15,7%</div>
                                        <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">Enjeu prioritaire</div>
                                    </div>
                                </div>

                                <div style="background: linear-gradient(135deg, rgba(255, 127, 92, 0.08) 0%, rgba(255, 127, 92, 0.03) 100%); padding: 25px; border-radius: 12px; border-left: 3px solid #FF7F5C; margin-top: 30px;">
                                    <div style="font-weight: 700; color: #FF7F5C; margin-bottom: 15px; font-size: 1.1rem;">Notre analyse – Codentis</div>
                                    <div class="story-text" style="margin: 0;">
                                        Le marché évolue vers <span class="highlight">plus de qualité et moins de volume</span>. Les entreprises cherchent des experts capables de livrer de la valeur immédiate : audits, diagnostics, proof of concepts, quick-wins. Chez Codentis, nous constatons une <span class="highlight">explosion des missions courtes à fort impact</span>. Les DSI veulent des résultats tangibles, pas des roadmaps à 18 mois.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Compétences IT recherchées en 2025</h3>
                                <div class="story-text">
                                    Le marché de l'emploi IT se concentre sur <span class="highlight">l'expertise de pointe</span>. Les profils généralistes cèdent la place aux spécialistes capables d'intervenir sur des problématiques complexes et de créer un impact immédiat.
                                </div>
                                <div style="background: linear-gradient(135deg, rgba(255, 127, 92, 0.08) 0%, rgba(255, 127, 92, 0.03) 100%); padding: 25px; border-radius: 12px; border-left: 3px solid #FF7F5C; margin-top: 20px;">
                                    <div style="font-weight: 700; color: #FF7F5C; margin-bottom: 15px; font-size: 1.1rem;">Notre analyse – Codentis</div>
                                    <div class="story-text" style="margin: 0;">
                                        Les talents pointus sont <span class="highlight">sur-sollicités</span> : experts IA/ML, architectes cloud natifs, spécialistes cybersécurité, data engineers seniors, product owners expérimentés. Chez Codentis, nos consultants reçoivent plusieurs propositions par semaine. <span class="highlight">L'expertise bat le volume</span> : un expert senior vaut 10 juniors sur des sujets critiques.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="story-section">
                            <div class="story-card">
                                <h3 class="section-header">Transformation digitale : les entreprises accélèrent</h3>
                                <div class="story-text">
                                    Selon Gartner, <span class="highlight">78% des entreprises</span> considèrent la transformation digitale comme une priorité absolue en 2025. Les investissements dans l'IA générative, l'automatisation et la modernisation des SI atteignent des <span class="highlight">sommets historiques</span>.
                                </div>
                                
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 30px 0;">
                                    <div style="background: rgba(255, 127, 92, 0.08); padding: 25px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                                        <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">Budget IA 2025</div>
                                        <div style="font-size: 2.2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">+45%</div>
                                        <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">vs 2024</div>
                                    </div>
                                    <div style="background: rgba(255, 127, 92, 0.08); padding: 25px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                                        <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">Projets Cloud</div>
                                        <div style="font-size: 2.2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">+32%</div>
                                        <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">Migrations actives</div>
                                    </div>
                                    <div style="background: rgba(255, 127, 92, 0.08); padding: 25px; border-radius: 12px; text-align: center; border: 1px solid rgba(255, 127, 92, 0.2);">
                                        <div style="font-size: 0.85rem; color: rgba(245, 245, 247, 0.6); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em;">Automatisation</div>
                                        <div style="font-size: 2.2rem; font-weight: 900; color: #FF7F5C; margin-bottom: 5px;">+28%</div>
                                        <div style="font-size: 0.9rem; color: rgba(245, 245, 247, 0.5);">ROI prouvé</div>
                                    </div>
                                </div>

                                <div style="background: linear-gradient(135deg, rgba(255, 127, 92, 0.08) 0%, rgba(255, 127, 92, 0.03) 100%); padding: 25px; border-radius: 12px; border-left: 3px solid #FF7F5C; margin-top: 30px;">
                                    <div style="font-weight: 700; color: #FF7F5C; margin-bottom: 15px; font-size: 1.1rem;">Notre analyse – Codentis</div>
                                    <div class="story-text" style="margin: 0;">
                                        Les entreprises qui investissent maintenant dans <span class="highlight">l'IA, le cloud et l'automatisation</span> prennent une longueur d'avance décisive. Chez Codentis, nous accompagnons nos clients sur ces sujets stratégiques avec une approche pragmatique : <span class="highlight">POC rapides, quick-wins mesurables, scalabilité pensée dès le départ</span>. Pas de bullshit, que de la valeur.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="cta-section">
                            <h3 class="cta-title">Vous voulez notre <span class="cta-highlight">analyse</span> sur un sujet ?</h3>
                            <p class="cta-subtitle">Posez votre question à nos experts !</p>
                            <button class="cta-button" onclick="openContactModal()">Nous contacter</button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Fonctions pour le modal de contact
        window.openContactModal = function() {
            // Détecter la page active pour savoir si IT ou GOV
            const activePages = document.querySelectorAll('.work-in-progress');
            let currentPage = null;
            
            // Trouver la page visible
            for (let page of activePages) {
                const rect = page.getBoundingClientRect();
                if (rect.top >= 0 && rect.top < window.innerHeight) {
                    currentPage = page.id;
                    break;
                }
            }
            
            // Déterminer le type (IT ou GOV) basé sur l'ID de la page
            let siteType = 'it'; // par défaut
            const govPages = ['pageWorkshopsGov', 'pageDataIAGov', 'pageDigitalGov', 
                            'pageInfrastructureGov', 'pageCybersecurityGov', 'pageGouvernance'];
            
            if (currentPage && govPages.includes(currentPage)) {
                siteType = 'gov';
            }
            
            // Vérifier aussi le thème actif du body
            if (document.body.classList.contains('theme-gov')) {
                siteType = 'gov';
            }
            
            // Question par défaut contextuelle
            let question = "J'ai une question concernant vos services";
            
            // Ouvrir le chat IA
            openChatModal(question, siteType);
        }
        
        window.closeContactModal = function() {
            const modal = document.getElementById('contactModal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }
        
        window.handleContactSubmit = function(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const data = {
                firstName: formData.get('firstName'),
                lastName: formData.get('lastName'),
                email: formData.get('email'),
                company: formData.get('company'),
                question: formData.get('question')
            };
            
            const subject = encodeURIComponent(`Contact depuis le site Codentis - ${data.firstName} ${data.lastName}`);
            const body = encodeURIComponent(
                `Prénom: ${data.firstName}\n` +
                `Nom: ${data.lastName}\n` +
                `Email: ${data.email}\n` +
                `Entreprise: ${data.company || 'Non renseignée'}\n\n` +
                `Question:\n${data.question}`
            );
            
            window.location.href = `mailto:contact@audentis.fr?subject=${subject}&body=${body}`;
            
            setTimeout(() => {
                closeContactModal();
                event.target.reset();
            }, 1000);
            
            return false;
        }

        // Fonctions pour la modal d'expertise
        window.openExpertiseModal = function(expertiseId) {
            const modal = document.getElementById('expertiseModal');
            const modalContent = document.getElementById('expertiseModalContent');
            const expertisePage = document.getElementById(expertiseId);
            
            if (modal && modalContent && expertisePage) {
                // Cloner le contenu de la page d'expertise
                const clonedContent = expertisePage.cloneNode(true);
                clonedContent.style.display = 'block';
                clonedContent.style.opacity = '1';
                
                // Vider le contenu précédent et injecter le nouveau
                modalContent.innerHTML = '';
                modalContent.appendChild(clonedContent);
                
                // Afficher la modal
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }
        
        window.closeExpertiseModal = function() {
            const modal = document.getElementById('expertiseModal');
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }
        
        // Fermer la modal en cliquant sur le fond
        document.addEventListener('click', function(e) {
            const modal = document.getElementById('expertiseModal');
            if (e.target === modal) {
                closeExpertiseModal();
            }
        });
        
        // Fermer la modal avec la touche Échap
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeExpertiseModal();
            }
        });

        // Init
        init();
    </script>

    <!-- Modal de contact -->
    <div class="contact-modal" id="contactModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 10000; justify-content: center; align-items: center; backdrop-filter: blur(10px);">
        <div class="modal-content" style="background: linear-gradient(135deg, rgba(20, 20, 20, 0.98) 0%, rgba(30, 30, 30, 0.98) 100%); border-radius: 20px; padding: 40px; max-width: 600px; width: 90%; border: 1px solid rgba(255, 127, 92, 0.3); box-shadow: 0 20px 60px rgba(26, 15, 10, 0.55);">
            <div class="modal-header" style="margin-bottom: 30px; text-align: center;">
                <h2 class="modal-title" style="font-size: 2rem; color: #f5f5f7; margin-bottom: 10px; font-weight: 900;">Contactez nos experts</h2>
                <p class="modal-subtitle" style="color: rgba(245, 245, 247, 0.7); font-size: 0.95rem;">Nous vous répondrons sous 24h</p>
            </div>
            
            <form id="contactForm" onsubmit="return handleContactSubmit(event)">
                <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label for="firstName" style="display: block; margin-bottom: 8px; color: #f5f5f7; font-weight: 600; font-size: 0.9rem;">Prénom *</label>
                        <input type="text" id="firstName" name="firstName" required style="width: 100%; padding: 12px; background: rgba(245, 245, 247, 0.05); border: 1px solid rgba(255, 127, 92, 0.3); border-radius: 8px; color: #f5f5f7; font-family: 'Inter', sans-serif; font-size: 1rem; outline: none; transition: all 0.3s ease;">
                    </div>
                    <div class="form-group">
                        <label for="lastName" style="display: block; margin-bottom: 8px; color: #f5f5f7; font-weight: 600; font-size: 0.9rem;">Nom *</label>
                        <input type="text" id="lastName" name="lastName" required style="width: 100%; padding: 12px; background: rgba(245, 245, 247, 0.05); border: 1px solid rgba(255, 127, 92, 0.3); border-radius: 8px; color: #f5f5f7; font-family: 'Inter', sans-serif; font-size: 1rem; outline: none; transition: all 0.3s ease;">
                    </div>
                </div>
                
                <div class="form-group" style="margin-bottom: 20px;">
                    <label for="email" style="display: block; margin-bottom: 8px; color: #f5f5f7; font-weight: 600; font-size: 0.9rem;">Email *</label>
                    <input type="email" id="email" name="email" required style="width: 100%; padding: 12px; background: rgba(245, 245, 247, 0.05); border: 1px solid rgba(255, 127, 92, 0.3); border-radius: 8px; color: #f5f5f7; font-family: 'Inter', sans-serif; font-size: 1rem; outline: none; transition: all 0.3s ease;">
                </div>
                
                <div class="form-group" style="margin-bottom: 20px;">
                    <label for="company" style="display: block; margin-bottom: 8px; color: #f5f5f7; font-weight: 600; font-size: 0.9rem;">Entreprise</label>
                    <input type="text" id="company" name="company" style="width: 100%; padding: 12px; background: rgba(245, 245, 247, 0.05); border: 1px solid rgba(255, 127, 92, 0.3); border-radius: 8px; color: #f5f5f7; font-family: 'Inter', sans-serif; font-size: 1rem; outline: none; transition: all 0.3s ease;">
                </div>
                
                <div class="form-group" style="margin-bottom: 25px;">
                    <label for="question" style="display: block; margin-bottom: 8px; color: #f5f5f7; font-weight: 600; font-size: 0.9rem;">Votre question *</label>
                    <textarea id="question" name="question" rows="5" required style="width: 100%; padding: 12px; background: rgba(245, 245, 247, 0.05); border: 1px solid rgba(255, 127, 92, 0.3); border-radius: 8px; color: #f5f5f7; font-family: 'Inter', sans-serif; font-size: 1rem; resize: vertical; outline: none; transition: all 0.3s ease;"></textarea>
                </div>
                
                <div class="form-actions" style="display: flex; gap: 15px; justify-content: flex-end;">
                    <button type="button" onclick="closeContactModal()" style="padding: 12px 24px; background: transparent; border: 1px solid rgba(245, 245, 247, 0.3); color: #f5f5f7; border-radius: 8px; cursor: pointer; font-family: 'Inter', sans-serif; font-weight: 600; font-size: 0.95rem; transition: all 0.3s ease;">Annuler</button>
                    <button type="submit" style="padding: 12px 30px; background: linear-gradient(135deg, #FF7F5C 0%, #c43d20 100%); border: none; color: #f5f5f7; border-radius: 8px; cursor: pointer; font-family: 'Inter', sans-serif; font-weight: 600; font-size: 0.95rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(255, 127, 92, 0.3);">Envoyer</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Expertise -->
    <div class="expertise-modal" id="expertiseModal">
        <!-- Circuits pour la modal -->
        <div class="circuit-lines">
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
            <div class="circuit-line"></div>
        </div>
        
        <div class="expertise-modal-close" onclick="closeExpertiseModal()"></div>
        <div class="expertise-modal-content" id="expertiseModalContent">
            <!-- Le contenu sera injecté ici par JavaScript -->
        </div>
    </div>

    <!-- Chat Modal -->
    <div class="chat-modal" id="chatModal">
        <div class="chat-container">
            <div class="chat-header">
                <div class="chat-header-content">
                    <h3 id="chatTitle">Assistant Codentis</h3>
                    <p id="chatSubtitle">Qualification intelligente • Réponse expert sous 24h</p>
                </div>
                <button class="chat-close" onclick="closeChatModal()">×</button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <!-- Les messages seront ajoutés ici -->
            </div>
            <div class="chat-input-area">
                <div class="chat-input-container">
                    <input 
                        type="text" 
                        class="chat-input" 
                        id="chatInput" 
                        placeholder="Tapez votre message..."
                        onkeypress="if(event.key === 'Enter') sendChatMessage()"
                    >
                    <button class="chat-send-btn" id="chatSendBtn" onclick="sendChatMessage()">→</button>
                </div>
            </div>
        </div>
    </div>

    <!-- EmailJS SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <!-- Chat Agent Script -->
    <script>
        // ==================== CONFIGURATION ====================
        const CHAT_CONFIG = {
            // 🔒 SÉCURITÉ: Utilisation du proxy server (la clé API est côté serveur uniquement)
            USE_DIRECT_API: false,
            PROXY_URL: 'http://localhost:3000/api/chat',

            // EmailJS configuration - Fonctionne correctement ✅
            EMAILJS_PUBLIC_KEY: 'pebJgpQP_xvUZim-M',
            EMAILJS_SERVICE_ID: 'service_fee83pn',
            EMAILJS_TEMPLATE_ID: 'template_so0n68q' // Même template pour conversations démarrées ET terminées
        };

        // ==================== PROMPTS ==================== 
        const PROMPT_IT = `Tu es l'agent conversationnel du Lab Technique de Codentis, une ESN experte en solutions IT et transformation digitale. Tu incarnes un expert technique professionnel, sympa et pédagogue.

🎯 TA MISSION
Qualifier les besoins techniques des visiteurs à travers une conversation naturelle, puis collecter leurs coordonnées pour qu'un expert les recontacte sous 24h.

💬 TON & STYLE
- Vouvoiement systématique
- Ton : Professionnel, expert, mais chaleureux et accessible
- Approche : Pose des questions précises pour comprendre le contexte technique
- Tu NE DOIS JAMAIS tutoyer

🎬 FLOW CONVERSATIONNEL (STRICT - RESPECTER L'ORDRE)

PHASE 1 : ACCUEIL & EXPLICATION DU RÔLE
Dans ta toute première réponse, tu DOIS :
1. Accueillir chaleureusement
2. EXPLIQUER TON RÔLE : "Je suis l'assistant virtuel de Codentis. Mon rôle est de bien comprendre votre besoin technique à travers 3 questions rapides, puis de transmettre votre demande à l'un de nos experts qui vous répondra sous 24h avec une solution adaptée."
3. Reformuler brièvement la demande
4. Poser UNE SEULE question de clarification

Exemple : "Bonjour ! Je suis l'assistant virtuel de Codentis. Mon rôle est de bien comprendre votre besoin à travers 3 questions rapides, puis je transmettrai votre demande à nos experts qui vous répondront sous 24h. Je vois que vous cherchez à [reformulation]. Pour mieux vous aider, [première question] ?"

PHASE 2 : QUALIFICATION (3 QUESTIONS MAX)
⚠️ RÈGLE ABSOLUE : Pose UNE SEULE question par message.
Pose maximum 3 questions ciblées pour comprendre le contexte technique, l'ampleur du besoin et la maturité du projet.
Rappel : Après 2-3 questions, dire "Dernière question pour bien cerner votre contexte : [question]"
❌ NE JAMAIS poser 2 questions en même temps
❌ NE JAMAIS commencer la collecte de coordonnées pendant cette phase

PHASE 3 : TRANSITION VERS LA COLLECTE (OBLIGATOIRE)
⚠️ IMPORTANT : Cette phase est OBLIGATOIRE entre la qualification et la collecte.
Après max 3 questions de qualification, dis : "Parfait, j'ai bien cerné votre contexte ! Je vais maintenant transmettre votre demande à l'un de nos experts IT qui vous recontactera sous 24h. Pour cela, j'ai besoin de quelques coordonnées."
PUIS ATTENDS la réponse de l'utilisateur avant de passer à la phase 4.

PHASE 4 : COLLECTE (CONVERSATIONNELLE)
Ordre de collecte (STRICT) :
1. Prénom ET Nom ENSEMBLE (pour fluidifier) : "[COLLECTE:prénom] Commençons par votre prénom et nom ?"
   → L'utilisateur donnera "Prénom Nom" dans sa réponse
2. Société (ensuite) : "[COLLECTE:société] Quelle est votre société ?"
3. Email OU Téléphone (enfin - au moins un des deux) : "[COLLECTE:email] Quel est votre email ?" ou "[COLLECTE:téléphone] Quel est votre téléphone ?"

⚠️ IMPORTANT :
- Demande TOUJOURS prénom et nom ENSEMBLE dans la même question
- Demande les autres informations une par une
- ❌ NE JAMAIS demander société ou email en même temps que prénom/nom

PHASE 5 : CONFIRMATION
"Parfait [Prénom] ! Votre demande a bien été enregistrée. Un expert technique de Codentis vous recontactera sous 24h pour échanger sur votre projet. À très bientôt !"

⚠️ RÈGLES IMPORTANTES
- TOUJOURS vouvoyer
- TOUJOURS expliquer ton rôle dans la première réponse
- TOUJOURS poser UNE SEULE question par message (sauf prénom+nom ensemble)
- TOUJOURS respecter l'ordre des phases (ne jamais sauter la phase 3)
- MAX 3 questions avant la collecte
- NE JAMAIS donner de devis
- NE JAMAIS promettre autre chose que "sous 24h"
- Rappeler régulièrement que c'est un expert qui répondra

IMPORTANT : Quand tu collectes les coordonnées, commence TOUJOURS ta réponse par le tag spécial [COLLECTE:prénom] ou [COLLECTE:société] ou [COLLECTE:email] ou [COLLECTE:téléphone] suivi de ta question. Par exemple : "[COLLECTE:prénom] Commençons par votre prénom et nom ?"`;

        const PROMPT_GOV = `Tu es l'agent conversationnel du Hub Stratégique de Codentis, une ESN experte en gouvernance et stratégie produit. Tu incarnes un expert en Product Management, agilité et stratégie, professionnel et accessible.

🎯 TA MISSION
Qualifier les besoins stratégiques et organisationnels des visiteurs à travers une conversation naturelle, puis collecter leurs coordonnées pour qu'un expert les recontacte sous 24h.

💬 TON & STYLE
- Vouvoiement systématique
- Ton : Professionnel, stratégique, mais chaleureux
- Approche : Questions sur le contexte organisationnel et les enjeux métier
- Tu NE DOIS JAMAIS tutoyer

🎬 FLOW CONVERSATIONNEL (STRICT - RESPECTER L'ORDRE)

PHASE 1 : ACCUEIL & EXPLICATION DU RÔLE
Dans ta toute première réponse, tu DOIS :
1. Accueillir chaleureusement
2. EXPLIQUER TON RÔLE : "Je suis l'assistant virtuel de Codentis. Mon rôle est de bien comprendre votre besoin stratégique à travers 3 questions rapides, puis de transmettre votre demande à l'un de nos experts en gouvernance et stratégie qui vous répondra sous 24h avec une solution adaptée."
3. Reformuler brièvement la demande
4. Poser UNE SEULE question de clarification

Exemple : "Bonjour ! Je suis l'assistant virtuel de Codentis. Mon rôle est de bien comprendre votre besoin stratégique à travers 3 questions rapides, puis je transmettrai votre demande à nos experts qui vous répondront sous 24h. Je vois que vous cherchez à [reformulation]. Pour mieux vous orienter, [première question] ?"

PHASE 2 : QUALIFICATION (3 QUESTIONS MAX)
⚠️ RÈGLE ABSOLUE : Pose UNE SEULE question par message.
Pose maximum 3 questions ciblées pour comprendre le contexte organisationnel, la maturité produit/agilité et les enjeux stratégiques.
Rappel : Après 2-3 questions, dire "Dernière question pour bien cerner votre contexte : [question]"
❌ NE JAMAIS poser 2 questions en même temps
❌ NE JAMAIS commencer la collecte de coordonnées pendant cette phase

PHASE 3 : TRANSITION VERS LA COLLECTE (OBLIGATOIRE)
⚠️ IMPORTANT : Cette phase est OBLIGATOIRE entre la qualification et la collecte.
Après max 3 questions de qualification, dis : "Parfait, j'ai bien cerné votre contexte ! Je vais maintenant transmettre votre demande à l'un de nos experts en gouvernance et stratégie qui vous recontactera sous 24h. Pour cela, j'ai besoin de quelques coordonnées."
PUIS ATTENDS la réponse de l'utilisateur avant de passer à la phase 4.

PHASE 4 : COLLECTE (CONVERSATIONNELLE)
Ordre de collecte (STRICT) :
1. Prénom ET Nom ENSEMBLE (pour fluidifier) : "[COLLECTE:prénom] Commençons par votre prénom et nom ?"
   → L'utilisateur donnera "Prénom Nom" dans sa réponse
2. Société (ensuite) : "[COLLECTE:société] Quelle est votre société ?"
3. Email OU Téléphone (enfin - au moins un des deux) : "[COLLECTE:email] Quel est votre email ?" ou "[COLLECTE:téléphone] Quel est votre téléphone ?"

⚠️ IMPORTANT :
- Demande TOUJOURS prénom et nom ENSEMBLE dans la même question
- Demande les autres informations une par une
- ❌ NE JAMAIS demander société ou email en même temps que prénom/nom

PHASE 5 : CONFIRMATION
"Parfait [Prénom] ! Votre demande a bien été enregistrée. Un expert stratégique de Codentis vous recontactera sous 24h pour échanger sur votre projet. À très bientôt !"

⚠️ RÈGLES IMPORTANTES
- TOUJOURS vouvoyer
- TOUJOURS expliquer ton rôle dans la première réponse
- TOUJOURS poser UNE SEULE question par message (sauf prénom+nom ensemble)
- TOUJOURS respecter l'ordre des phases (ne jamais sauter la phase 3)
- MAX 3 questions avant la collecte
- NE JAMAIS donner de devis
- NE JAMAIS promettre autre chose que "sous 24h"
- Rappeler régulièrement que c'est un expert qui répondra

IMPORTANT : Quand tu collectes les coordonnées, commence TOUJOURS ta réponse par le tag spécial [COLLECTE:prénom] ou [COLLECTE:société] ou [COLLECTE:email] ou [COLLECTE:téléphone] suivi de ta question. Par exemple : "[COLLECTE:prénom] Commençons par votre prénom et nom ?"`;

        const PROMPT_RECRUITMENT = `Tu es l'assistant virtuel recrutement de Codentis, une ESN innovante qui accompagne les talents IT et stratégiques. Tu incarnes un recruteur bienveillant, enthousiaste et à l'écoute.

🎯 TA MISSION
Accueillir chaleureusement les candidats qui souhaitent nous rejoindre, comprendre leur parcours et leurs aspirations, collecter leurs coordonnées et leur profil LinkedIn, et les orienter pour nous envoyer leur CV.

💬 TON & STYLE
- Vouvoiement systématique
- Ton : Chaleureux, encourageant, authentique et enthousiaste
- Approche : Écoute active, valorisation du parcours, questions ouvertes sur les aspirations
- Tu NE DOIS JAMAIS tutoyer
- Tu n'es PAS dans une posture de vente de service, mais dans une posture d'écoute et d'accueil de talent

🎬 FLOW CONVERSATIONNEL (STRICT - RESPECTER L'ORDRE)

PHASE 1 : ACCUEIL CHALEUREUX
Dans ta toute première réponse, tu DOIS :
1. Accueillir avec enthousiasme et bienveillance
2. EXPLIQUER TON RÔLE : "Je suis l'assistant virtuel recrutement de Codentis. Mon rôle est de mieux vous connaître, comprendre vos aspirations professionnelles, et faciliter votre candidature. Je serai ravi de répondre à toutes vos questions sur Codentis, nos missions, notre culture, et nos opportunités !"
3. Poser UNE SEULE première question ouverte sur leur profil ou leurs aspirations

Exemple : "Bonjour ! Bienvenue chez Codentis 🎉 Je suis ravi(e) d'échanger avec vous ! Je suis l'assistant virtuel recrutement. Mon rôle est de mieux vous connaître, comprendre vos aspirations, et faciliter votre candidature. Je répondrai volontiers à toutes vos questions sur Codentis ! Pour commencer, parlez-moi un peu de vous : quel est votre profil actuel ?"

PHASE 2 : DÉCOUVERTE DU CANDIDAT (2-3 QUESTIONS MAX)
⚠️ RÈGLE ABSOLUE : Pose UNE SEULE question par message.
Pose 2 à 3 questions bienveillantes pour comprendre :
- Le parcours et les compétences du candidat
- Ses aspirations professionnelles
- Ce qu'il recherche chez Codentis
❌ NE JAMAIS poser 2 questions en même temps
❌ NE JAMAIS adopter un ton interrogatoire - reste bienveillant et conversationnel

PHASE 3 : PROPOSITION D'AIDE & QUESTIONS DU CANDIDAT
Après 2-3 questions, propose explicitement de répondre à des questions :
"Merci pour ces éléments ! Avant de collecter vos coordonnées pour finaliser votre candidature, avez-vous des questions sur Codentis, nos missions, notre culture d'entreprise, ou le processus de recrutement ? Je suis là pour y répondre !"

Si le candidat pose des questions, réponds de manière authentique et positive. Sinon, passe à la phase suivante.

PHASE 4 : COLLECTE LINKEDIN & EMAIL
⚠️ IMPORTANT : Collecte d'abord le LinkedIn, puis les coordonnées.
1. LinkedIn d'abord : "[COLLECTE:linkedin] Pour que notre équipe RH puisse consulter votre parcours, pouvez-vous me partager votre profil LinkedIn ?"
2. Prénom ET Nom ENSEMBLE : "[COLLECTE:prénom] Parfait ! Quel est votre prénom et nom ?"
3. Email : "[COLLECTE:email] Quel est votre email pour vous recontacter ?"
4. Téléphone (optionnel) : "[COLLECTE:téléphone] Et votre téléphone (optionnel) ?"

PHASE 5 : ENVOI DU CV & CONFIRMATION
Après la collecte, donner l'adresse email et confirmer :
"Parfait [Prénom] ! 🎉 Votre candidature a bien été enregistrée.

📧 Pour finaliser, merci de nous envoyer votre CV à : contact@codentis

Notre équipe RH reviendra vers vous sous 48h pour échanger sur les opportunités qui correspondent à votre profil. Au plaisir de vous compter bientôt parmi l'équipe Codentis ! 🚀"

⚠️ RÈGLES IMPORTANTES
- TOUJOURS vouvoyer
- TOUJOURS expliquer ton rôle dans la première réponse
- TOUJOURS poser UNE SEULE question par message (sauf prénom+nom ensemble)
- TOUJOURS proposer de répondre aux questions du candidat
- TOUJOURS donner l'email contact@codentis pour l'envoi du CV
- TON chaleureux et encourageant (tu peux utiliser des émojis avec parcimonie : 🎉 🚀)
- NE JAMAIS adopter un ton commercial ou "vente de service"
- NE JAMAIS parler de devis ou de tarifs

IMPORTANT : Quand tu collectes les coordonnées, commence TOUJOURS ta réponse par le tag spécial [COLLECTE:linkedin] ou [COLLECTE:prénom] ou [COLLECTE:email] ou [COLLECTE:téléphone] suivi de ta question. Par exemple : "[COLLECTE:linkedin] Pour que notre équipe RH puisse consulter votre parcours, pouvez-vous me partager votre profil LinkedIn ?"`;

        // ==================== ÉTAT DU CHAT ====================
        let chatState = {
            isOpen: false,
            conversationHistory: [],
            currentSite: null, // 'it', 'gov' ou 'recruitment'
            initialQuestion: '',
            leadData: {
                prenom: '',
                nom: '',
                societe: '',
                email: '',
                telephone: '',
                linkedin: ''
            },
            collectedFields: [],
            questionCount: 0
        };

        // ==================== FONCTIONS PRINCIPALES ====================
        
        function openChatModal(initialQuestion, siteType) {
            const modal = document.getElementById('chatModal');
            const chatTitle = document.getElementById('chatTitle');
            const chatSubtitle = document.getElementById('chatSubtitle');
            
            // Configurer selon le type de site
            chatState.currentSite = siteType;
            chatState.initialQuestion = initialQuestion;

            if (siteType === 'it') {
                chatTitle.textContent = 'Lab Technique';
                chatSubtitle.textContent = 'Expert IT en ligne';
            } else if (siteType === 'gov') {
                chatTitle.textContent = 'Hub Stratégique';
                chatSubtitle.textContent = 'Expert Gouvernance en ligne';
            } else if (siteType === 'recruitment') {
                chatTitle.textContent = 'Recrutement';
                chatSubtitle.textContent = 'Rejoignez l\'équipe Codentis';
            }

            // Ouvrir la modal
            modal.classList.add('active');
            chatState.isOpen = true;
            document.body.style.overflow = 'hidden';

            // Réinitialiser
            chatState.conversationHistory = [];
            chatState.leadData = { prenom: '', nom: '', societe: '', email: '', telephone: '', linkedin: '' };
            chatState.collectedFields = [];
            chatState.questionCount = 0;
            document.getElementById('chatMessages').innerHTML = '';
            
            // ⚡ ENVOYER L'EMAIL INITIAL DÈS LE DÉMARRAGE
            // sendInitialEmail(); // DÉSACTIVÉ TEMPORAIREMENT
            
            // Envoyer la question initiale
            setTimeout(() => {
                addUserMessage(initialQuestion);
                sendToClaudeAPI(initialQuestion);
            }, 500);
        }

        function closeChatModal() {
            const modal = document.getElementById('chatModal');
            modal.classList.remove('active');
            chatState.isOpen = false;
            document.body.style.overflow = 'auto';
        }

        function addUserMessage(text) {
            const messagesContainer = document.getElementById('chatMessages');
            const time = new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });
            
            const messageHTML = `
                <div class="chat-message user-message">
                    <div class="message-avatar user"></div>
                    <div class="message-content">
                        <div class="message-text">${escapeHtml(text)}</div>
                        <div class="message-time">${time}</div>
                    </div>
                </div>
            `;
            
            messagesContainer.insertAdjacentHTML('beforeend', messageHTML);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function addAgentMessage(text) {
            const messagesContainer = document.getElementById('chatMessages');
            const time = new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });
            
            // Nettoyer le texte des tags de collecte
            const cleanText = text.replace(/\[COLLECTE:[^\]]+\]\s*/g, '');
            
            const messageHTML = `
                <div class="chat-message agent-message">
                    <div class="message-avatar agent">G</div>
                    <div class="message-content">
                        <div class="message-text">${escapeHtml(cleanText)}</div>
                        <div class="message-time">${time}</div>
                    </div>
                </div>
            `;
            
            messagesContainer.insertAdjacentHTML('beforeend', messageHTML);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            const indicatorHTML = `
                <div class="chat-message typing-message">
                    <div class="message-avatar agent"></div>
                    <div class="message-content">
                        <div class="typing-indicator">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>
            `;
            
            messagesContainer.insertAdjacentHTML('beforeend', indicatorHTML);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function removeTypingIndicator() {
            const indicator = document.querySelector('.typing-message');
            if (indicator) indicator.remove();
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            addUserMessage(message);
            input.value = '';
            
            // Vérifier si on collecte une donnée
            detectAndStoreData(message);
            
            // Envoyer à Claude
            sendToClaudeAPI(message);
        }

        function detectAndStoreData(message) {
            const lastAgentMessage = chatState.conversationHistory[chatState.conversationHistory.length - 1];
            if (!lastAgentMessage || lastAgentMessage.role !== 'assistant') return;
            
            const text = lastAgentMessage.content;
            
            // Détecter quel champ est en cours de collecte
            if (text.includes('[COLLECTE:prenom]')) {
                chatState.leadData.prenom = message;
                chatState.collectedFields.push('prenom');
            } else if (text.includes('[COLLECTE:nom]')) {
                chatState.leadData.nom = message;
                chatState.collectedFields.push('nom');
            } else if (text.includes('[COLLECTE:société]') || text.includes('[COLLECTE:societe]')) {
                chatState.leadData.societe = message;
                chatState.collectedFields.push('societe');
            } else if (text.includes('[COLLECTE:email]')) {
                chatState.leadData.email = message;
                chatState.collectedFields.push('email');
            } else if (text.includes('[COLLECTE:téléphone]') || text.includes('[COLLECTE:telephone]')) {
                chatState.leadData.telephone = message;
                chatState.collectedFields.push('telephone');
            } else if (text.includes('[COLLECTE:linkedin]')) {
                chatState.leadData.linkedin = message;
                chatState.collectedFields.push('linkedin');
            }
            
            // Si toutes les données essentielles sont collectées, envoyer l'email
            if (chatState.collectedFields.includes('prenom') && 
                chatState.collectedFields.includes('nom') && 
                chatState.collectedFields.includes('societe') && 
                (chatState.collectedFields.includes('email') || chatState.collectedFields.includes('telephone'))) {
                // setTimeout(() => sendLeadEmail(), 2000); // DÉSACTIVÉ TEMPORAIREMENT
            }
        }

        async function sendToClaudeAPI(userMessage) {
            console.log('🚀 Envoi du message à Claude API...', userMessage);
            
            const sendBtn = document.getElementById('chatSendBtn');
            const input = document.getElementById('chatInput');
            
            sendBtn.disabled = true;
            input.disabled = true;
            showTypingIndicator();
            
            // Ajouter le message à l'historique
            chatState.conversationHistory.push({
                role: 'user',
                content: userMessage
            });
            
            // Choisir le bon prompt
            let systemPrompt;
            if (chatState.currentSite === 'it') {
                systemPrompt = PROMPT_IT;
            } else if (chatState.currentSite === 'gov') {
                systemPrompt = PROMPT_GOV;
            } else if (chatState.currentSite === 'recruitment') {
                systemPrompt = PROMPT_RECRUITMENT;
            }
            
            try {
                console.log('📡 Envoi au proxy local...');

                // Appel au proxy local (pas directement à l'API Claude)
                const response = await fetch(CHAT_CONFIG.PROXY_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        system: systemPrompt,
                        messages: chatState.conversationHistory
                    })
                });
                
                console.log('📥 Réponse proxy:', response.status, response.statusText);
                
                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    
                    // Messages d'erreur plus clairs
                    if (response.status === 429) {
                        throw new Error('RATE_LIMIT');
                    } else if (response.status === 401) {
                        throw new Error('INVALID_KEY');
                    } else {
                        throw new Error(`API_ERROR_${response.status}`);
                    }
                }
                
                const data = await response.json();
                const agentResponse = data.content[0].text;
                
                // Ajouter la réponse à l'historique
                chatState.conversationHistory.push({
                    role: 'assistant',
                    content: agentResponse
                });
                
                removeTypingIndicator();
                addAgentMessage(agentResponse);
                
            } catch (error) {
                console.error('❌ Erreur API Claude:', error);
                removeTypingIndicator();
                
                // Messages d'erreur personnalisés
                let errorMessage = '';
                if (error.message === 'RATE_LIMIT') {
                    errorMessage = "⚠️ Limite d'utilisation atteinte. Votre clé API Claude a dépassé son quota. Veuillez attendre ou utiliser une nouvelle clé.";
                } else if (error.message === 'INVALID_KEY') {
                    errorMessage = "🔑 Clé API invalide. Veuillez vérifier votre clé Claude dans la configuration (CHAT_CONFIG.CLAUDE_API_KEY).";
                } else {
                    errorMessage = "❌ Une erreur technique est survenue. Notre équipe a été notifiée et vous contactera rapidement pour finaliser votre demande.";
                }
                
                addAgentMessage(errorMessage);
            } finally {
                sendBtn.disabled = false;
                input.disabled = false;
                input.focus();
            }
        }

        function sendLeadEmail() {
            // Préparer le contenu de l'email
            const siteLabel = chatState.currentSite === 'it' ? 'LAB TECHNIQUE' : 'HUB STRATÉGIQUE';
            
            let conversationText = '';
            chatState.conversationHistory.forEach((msg, idx) => {
                if (msg.role === 'user') {
                    conversationText += `\nUtilisateur : ${msg.content}\n`;
                } else {
                    conversationText += `Agent : ${msg.content.replace(/\[COLLECTE:[^\]]+\]\s*/g, '')}\n`;
                }
            });
            
            const emailData = {
                site: siteLabel,
                societe: chatState.leadData.societe,
                prenom: chatState.leadData.prenom,
                nom: chatState.leadData.nom,
                email: chatState.leadData.email || 'Non fourni',
                telephone: chatState.leadData.telephone || 'Non fourni',
                question_initiale: chatState.initialQuestion,
                conversation: conversationText,
                timestamp: new Date().toLocaleString('fr-FR')
            };
            
            // Envoyer via EmailJS
            emailjs.send(
                CHAT_CONFIG.EMAILJS_SERVICE_ID,
                CHAT_CONFIG.EMAILJS_TEMPLATE_ID,
                emailData,
                CHAT_CONFIG.EMAILJS_PUBLIC_KEY
            ).then(
                function(response) {
                    console.log('Email envoyé avec succès !', response);
                },
                function(error) {
                    console.error('Erreur envoi email:', error);
                }
            );
        }

        // Fonction d'envoi immédiat au démarrage de la conversation
        function sendInitialEmail() {
            const siteLabel = chatState.currentSite === 'it' ? 'LAB TECHNIQUE' : 'HUB STRATÉGIQUE';
            
            // Données simplifiées pour éviter les erreurs
            const emailData = {
                to_email: 'lucasstvd@gmail.com',
                site: siteLabel,
                question_initiale: chatState.initialQuestion,
                timestamp: new Date().toLocaleString('fr-FR'),
                statut: 'Conversation démarrée',
                societe: 'Non collecté',
                prenom: 'Non collecté',
                nom: 'Non collecté',
                email: 'Non collecté',
                telephone: 'Non collecté',
                conversation: `Question initiale: ${chatState.initialQuestion}`
            };
            
            // Envoyer via EmailJS avec gestion d'erreur
            emailjs.send(
                CHAT_CONFIG.EMAILJS_SERVICE_ID,
                CHAT_CONFIG.EMAILJS_TEMPLATE_ID, // Utilise le même template
                emailData,
                CHAT_CONFIG.EMAILJS_PUBLIC_KEY
            ).then(
                function(response) {
                    console.log('✅ Email initial envoyé avec succès !', response.status, response.text);
                },
                function(error) {
                    console.error('❌ Erreur envoi email initial:', error);
                    // Ne pas bloquer l'expérience utilisateur si l'email échoue
                }
            );
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // ==================== MODIFICATION DE LA FONCTION submitQuestion ====================
        
        // Remplacer l'ancienne fonction submitQuestion
        window.submitQuestion = function(inputId) {
            const input = document.getElementById(inputId);
            const question = input.value.trim();
            
            if (!question) {
                alert('Veuillez saisir ou sélectionner une question');
                return;
            }
            
            // Détecter le site actif
            const landingIT = document.getElementById('landingIT');
            const landingGov = document.getElementById('landingGov');
            
            let siteType = 'it';
            if (landingGov && landingGov.classList.contains('active')) {
                siteType = 'gov';
            }
            
            // Ouvrir le chat
            openChatModal(question, siteType);
        };

        // Initialiser EmailJS au chargement
        (function() {
            emailjs.init(CHAT_CONFIG.EMAILJS_PUBLIC_KEY);
        })();
    </script>
</body>
</html>